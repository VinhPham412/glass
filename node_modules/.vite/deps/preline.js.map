{
  "version": 3,
  "sources": ["../../preline/src/utils/index.ts", "../../preline/src/plugins/base-plugin/index.ts", "../../preline/src/plugins/datatable/index.ts", "../../preline/src/plugins/file-upload/index.ts", "../../preline/src/plugins/range-slider/index.ts", "../../preline/src/plugins/copy-markup/index.ts", "../../preline/src/plugins/accordion/index.ts", "../../preline/src/plugins/carousel/index.ts", "../../preline/src/constants.ts", "../../preline/src/plugins/collapse/index.ts", "../../preline/src/plugins/combobox/index.ts", "../../preline/src/plugins/dropdown/index.ts", "../../preline/src/plugins/input-number/index.ts", "../../preline/src/plugins/layout-splitter/index.ts", "../../preline/src/plugins/overlay/index.ts", "../../preline/src/plugins/pin-input/index.ts", "../../preline/src/plugins/remove-element/index.ts", "../../preline/src/plugins/scrollspy/index.ts", "../../preline/src/plugins/select/index.ts", "../../preline/src/plugins/stepper/index.ts", "../../preline/src/plugins/strong-password/index.ts", "../../preline/src/plugins/tabs/index.ts", "../../preline/src/plugins/textarea-auto-height/index.ts", "../../preline/src/plugins/theme-switch/index.ts", "../../preline/src/plugins/toggle-count/index.ts", "../../preline/src/plugins/toggle-password/index.ts", "../../preline/src/plugins/tooltip/index.ts", "../../preline/src/plugins/tree-view/index.ts", "../../preline/src/static/index.ts", "../../preline/src/spa/index.ts", "../../preline/src/index.ts"],
  "sourcesContent": ["/*\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nconst stringToBoolean = (string: string): boolean => {\r\n\treturn string === 'true' ? true : false;\r\n};\r\n\r\nconst getClassProperty = (el: HTMLElement, prop: string, val = '') => {\r\n\treturn (window.getComputedStyle(el).getPropertyValue(prop) || val).replace(\r\n\t\t' ',\r\n\t\t'',\r\n\t);\r\n};\r\n\r\nconst getClassPropertyAlt = (\r\n\tel: HTMLElement,\r\n\tprop?: string,\r\n\tval: string = '',\r\n) => {\r\n\tlet targetClass = '';\r\n\r\n\tel.classList.forEach((c) => {\r\n\t\tif (c.includes(prop)) {\r\n\t\t\ttargetClass = c;\r\n\t\t}\r\n\t});\r\n\r\n\treturn targetClass.match(/:(.*)]/) ? targetClass.match(/:(.*)]/)[1] : val;\r\n};\r\n\r\nconst getZIndex = (el: HTMLElement) => {\r\n\tconst computedStyle = window.getComputedStyle(el);\r\n\tconst zIndex = computedStyle.getPropertyValue('z-index');\r\n\r\n\treturn zIndex;\r\n};\r\n\r\nfunction getHighestZIndex(arr: HTMLElement[]) {\r\n\tlet highestZIndex = Number.NEGATIVE_INFINITY;\r\n\r\n\tarr.forEach((el) => {\r\n\t\tlet zIndex: string | number = getZIndex(el);\r\n\r\n\t\tif (zIndex !== 'auto') {\r\n\t\t\tzIndex = parseInt(zIndex, 10);\r\n\r\n\t\t\tif (zIndex > highestZIndex) highestZIndex = zIndex;\r\n\t\t}\r\n\t});\r\n\r\n\treturn highestZIndex;\r\n}\r\n\r\nconst isIOS = () => {\r\n\tif (/iPad|iPhone|iPod/.test(navigator.platform)) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tnavigator.maxTouchPoints &&\r\n\t\t\tnavigator.maxTouchPoints > 2 &&\r\n\t\t\t/MacIntel/.test(navigator.platform)\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst isIpadOS = () => {\r\n\treturn (\r\n\t\tnavigator.maxTouchPoints &&\r\n\t\tnavigator.maxTouchPoints > 2 &&\r\n\t\t/MacIntel/.test(navigator.platform)\r\n\t);\r\n};\r\n\r\nconst isDirectChild = (parent: Element, child: HTMLElement) => {\r\n\tconst children = parent.children;\r\n\r\n\tfor (let i = 0; i < children.length; i++) {\r\n\t\tif (children[i] === child) return true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nconst isEnoughSpace = (\r\n\tel: HTMLElement,\r\n\ttoggle: HTMLElement,\r\n\tpreferredPosition: 'top' | 'bottom' | 'auto' = 'auto',\r\n\tspace = 10,\r\n\twrapper: HTMLElement | null = null,\r\n) => {\r\n\tconst referenceRect = toggle.getBoundingClientRect();\r\n\tconst wrapperRect = wrapper ? wrapper.getBoundingClientRect() : null;\r\n\tconst viewportHeight = window.innerHeight;\r\n\tconst spaceAbove = wrapperRect\r\n\t\t? referenceRect.top - wrapperRect.top\r\n\t\t: referenceRect.top;\r\n\tconst spaceBelow =\r\n\t\t(wrapper ? wrapperRect.bottom : viewportHeight) - referenceRect.bottom;\r\n\tconst minimumSpaceRequired = el.clientHeight + space;\r\n\r\n\tif (preferredPosition === 'bottom') {\r\n\t\treturn spaceBelow >= minimumSpaceRequired;\r\n\t} else if (preferredPosition === 'top') {\r\n\t\treturn spaceAbove >= minimumSpaceRequired;\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tspaceAbove >= minimumSpaceRequired || spaceBelow >= minimumSpaceRequired\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst isFormElement = (target: HTMLElement) => {\r\n\treturn (\r\n\t\ttarget instanceof HTMLInputElement ||\r\n\t\ttarget instanceof HTMLTextAreaElement ||\r\n\t\ttarget instanceof HTMLSelectElement\r\n\t);\r\n};\r\n\r\nconst isParentOrElementHidden = (element: any): any => {\r\n\tif (!element) return false;\r\n\r\n\tconst computedStyle = window.getComputedStyle(element);\r\n\r\n\tif (computedStyle.display === 'none') return true;\r\n\r\n\treturn isParentOrElementHidden(element.parentElement);\r\n};\r\n\r\nconst isJson = (str: string) => {\r\n\tif (typeof str !== 'string') return false;\r\n\r\n\tconst firstChar = str.trim()[0];\r\n\tconst lastChar = str.trim().slice(-1);\r\n\r\n\tif ((firstChar === '{' && lastChar === '}') || (firstChar === '[' && lastChar === ']')) {\r\n\t\ttry {\r\n\t\t\tJSON.parse(str);\r\n\r\n\t\t\treturn true;\r\n\t\t} catch {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nconst debounce = (func: Function, timeout = 200) => {\r\n\tlet timer: any;\r\n\r\n\treturn (...args: any[]) => {\r\n\t\tclearTimeout(timer);\r\n\r\n\t\ttimer = setTimeout(() => {\r\n\t\t\tfunc.apply(this, args);\r\n\t\t}, timeout);\r\n\t};\r\n};\r\n\r\nconst dispatch = (evt: string, element: any, payload: any = null) => {\r\n\tconst event = new CustomEvent(evt, {\r\n\t\tdetail: { payload },\r\n\t\tbubbles: true,\r\n\t\tcancelable: true,\r\n\t\tcomposed: false,\r\n\t});\r\n\r\n\telement.dispatchEvent(event);\r\n};\r\n\r\nconst afterTransition = (el: HTMLElement, callback: Function) => {\r\n\tconst handleEvent = () => {\r\n\t\tcallback();\r\n\r\n\t\tel.removeEventListener('transitionend', handleEvent, true);\r\n\t};\r\n\r\n\tconst computedStyle = window.getComputedStyle(el);\r\n\tconst transitionDuration = computedStyle.getPropertyValue(\r\n\t\t'transition-duration',\r\n\t);\r\n\tconst transitionProperty = computedStyle.getPropertyValue(\r\n\t\t'transition-property',\r\n\t);\r\n\tconst hasTransition =\r\n\t\ttransitionProperty !== 'none' && parseFloat(transitionDuration) > 0;\r\n\r\n\tif (hasTransition) el.addEventListener('transitionend', handleEvent, true);\r\n\telse callback();\r\n};\r\n\r\nconst htmlToElement = (html: string): HTMLElement => {\r\n\tconst template = document.createElement('template');\r\n\thtml = html.trim();\r\n\ttemplate.innerHTML = html;\r\n\r\n\treturn template.content.firstChild as HTMLElement;\r\n};\r\n\r\nconst classToClassList = (\r\n\tclasses: string,\r\n\ttarget: HTMLElement,\r\n\tsplitter = ' ',\r\n\taction: 'add' | 'remove' = 'add',\r\n) => {\r\n\tconst classesToArray = classes.split(splitter);\r\n\tclassesToArray.forEach((cl) =>\r\n\t\taction === 'add' ? target.classList.add(cl) : target.classList.remove(cl),\r\n\t);\r\n};\r\n\r\nconst menuSearchHistory = {\r\n\thistoryIndex: -1,\r\n\r\n\taddHistory(index: number) {\r\n\t\tthis.historyIndex = index;\r\n\t},\r\n\r\n\texistsInHistory(index: number) {\r\n\t\treturn index > this.historyIndex;\r\n\t},\r\n\r\n\tclearHistory() {\r\n\t\tthis.historyIndex = -1;\r\n\t},\r\n};\r\n\r\nexport {\r\n\tstringToBoolean,\r\n\tgetClassProperty,\r\n\tgetClassPropertyAlt,\r\n\tgetZIndex,\r\n\tgetHighestZIndex,\r\n\tisIOS,\r\n\tisIpadOS,\r\n\tisEnoughSpace,\r\n\tisParentOrElementHidden,\r\n\tisFormElement,\r\n\tisDirectChild,\r\n\tisJson,\r\n\tdebounce,\r\n\tdispatch,\r\n\tafterTransition,\r\n\thtmlToElement,\r\n\tclassToClassList,\r\n\tmenuSearchHistory,\r\n};\r\n", "/// <reference path=\"../../../global.d.ts\" />\r\n\r\n/*\r\n * HSBasePlugin\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { IBasePlugin } from '../base-plugin/interfaces';\r\n\r\nexport default class HSBasePlugin<O, E = HTMLElement>\r\n\timplements IBasePlugin<O, E>\r\n{\r\n\tconstructor(\r\n\t\tpublic el: E,\r\n\t\tpublic options: O,\r\n\t\tpublic events?: any,\r\n\t) {\r\n\t\tthis.el = el;\r\n\t\tthis.options = options;\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\tpublic createCollection(collection: any[], element: any) {\r\n\t\tcollection.push({\r\n\t\t\tid: element?.el?.id || collection.length + 1,\r\n\t\t\telement,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic fireEvent(evt: string, payload: any = null) {\r\n\t\tif (this.events.hasOwnProperty(evt)) return this.events[evt](payload);\r\n\t}\r\n\r\n\tpublic on(evt: string, cb: Function) {\r\n\t\tthis.events[evt] = cb;\r\n\t}\r\n}\r\n", "/*\r\n * HSDataTable\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { Api } from 'datatables.net';\r\n\r\nimport { debounce, htmlToElement, classToClassList } from '../../utils';\r\n\r\nimport { IDataTableOptions, IDataTable } from '../datatable/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\ndeclare var DataTable: any;\r\n\r\ninterface IColumnDef {\r\n\ttargets: number;\r\n\torderable: boolean;\r\n}\r\n\r\nclass HSDataTable\r\n\textends HSBasePlugin<IDataTableOptions>\r\n\timplements IDataTable {\r\n\tprivate concatOptions: IDataTableOptions;\r\n\r\n\tprivate dataTable: Api<any>;\r\n\r\n\tprivate readonly table: HTMLTableElement;\r\n\r\n\tprivate searches: HTMLElement[] | null;\r\n\r\n\tprivate pageEntitiesList: (HTMLSelectElement | HTMLInputElement)[] | null;\r\n\r\n\tprivate pagingList: HTMLElement[] | null;\r\n\tprivate pagingPagesList: HTMLElement[] | null;\r\n\r\n\tprivate pagingPrevList: HTMLElement[] | null;\r\n\tprivate pagingNextList: HTMLElement[] | null;\r\n\r\n\tprivate readonly infoList: HTMLElement[] | null;\r\n\r\n\tprivate rowSelectingAll: HTMLElement | null;\r\n\tprivate rowSelectingIndividual: string | null;\r\n\r\n\tprivate maxPagesToShow: number;\r\n\tprivate isRowSelecting: boolean;\r\n\tprivate readonly pageBtnClasses: string | null;\r\n\r\n\tprivate onSearchInputListener: {\r\n\t\tel: Element;\r\n\t\tfn: (evt: InputEvent) => void;\r\n\t}[] | null;\r\n\tprivate onPageEntitiesChangeListener: {\r\n\t\tel: Element;\r\n\t\tfn: (evt: InputEvent) => void;\r\n\t}[] | null;\r\n\tprivate onSinglePagingClickListener: {\r\n\t\tel: Element;\r\n\t\tfn: () => void;\r\n\t}[] | null;\r\n\tprivate onPagingPrevClickListener: {\r\n\t\tel: Element;\r\n\t\tfn: () => void;\r\n\t}[] | null;\r\n\tprivate onPagingNextClickListener: {\r\n\t\tel: Element;\r\n\t\tfn: () => void;\r\n\t}[] | null;\r\n\tprivate onRowSelectingAllChangeListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IDataTableOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.el = typeof el === 'string' ? document.querySelector(el) : el;\r\n\r\n\t\t// Exclude columns from ordering\r\n\t\tconst columnDefs: IColumnDef[] = [];\r\n\t\tArray.from(this.el.querySelectorAll('thead th, thead td')).forEach(\r\n\t\t\t(th: HTMLElement, ind: number) => {\r\n\t\t\t\tif (th.classList.contains('--exclude-from-ordering'))\r\n\t\t\t\t\tcolumnDefs.push({\r\n\t\t\t\t\t\ttargets: ind,\r\n\t\t\t\t\t\torderable: false,\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tconst data = this.el.getAttribute('data-hs-datatable');\r\n\t\tconst dataOptions: IDataTableOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\tthis.concatOptions = {\r\n\t\t\tsearching: true,\r\n\t\t\tlengthChange: false,\r\n\t\t\torder: [],\r\n\t\t\tcolumnDefs: [...columnDefs],\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.table = this.el.querySelector('table');\r\n\r\n\t\tthis.searches = Array.from(this.el.querySelectorAll('[data-hs-datatable-search]')) ?? null;\r\n\r\n\t\tthis.pageEntitiesList = Array.from(this.el.querySelectorAll('[data-hs-datatable-page-entities]')) ?? null;\r\n\r\n\t\tthis.pagingList = Array.from(this.el.querySelectorAll('[data-hs-datatable-paging]')) ?? null;\r\n\t\tthis.pagingPagesList = Array.from(this.el.querySelectorAll('[data-hs-datatable-paging-pages]')) ?? null;\r\n\t\tthis.pagingPrevList = Array.from(this.el.querySelectorAll('[data-hs-datatable-paging-prev]')) ?? null;\r\n\t\tthis.pagingNextList = Array.from(this.el.querySelectorAll('[data-hs-datatable-paging-next]')) ?? null;\r\n\r\n\t\tthis.infoList = Array.from(this.el.querySelectorAll('[data-hs-datatable-info]')) ?? null;\r\n\r\n\t\tif (this.concatOptions?.rowSelectingOptions)\r\n\t\t\tthis.rowSelectingAll =\r\n\t\t\t\t(this.concatOptions?.rowSelectingOptions?.selectAllSelector\r\n\t\t\t\t\t? document.querySelector(\r\n\t\t\t\t\t\tthis.concatOptions?.rowSelectingOptions?.selectAllSelector,\r\n\t\t\t\t\t)\r\n\t\t\t\t\t: document.querySelector('[data-hs-datatable-row-selecting-all]')) ??\r\n\t\t\t\tnull;\r\n\t\tif (this.concatOptions?.rowSelectingOptions)\r\n\t\t\tthis.rowSelectingIndividual =\r\n\t\t\t\tthis.concatOptions?.rowSelectingOptions?.individualSelector ??\r\n\t\t\t\t'[data-hs-datatable-row-selecting-individual]' ??\r\n\t\t\t\tnull;\r\n\r\n\t\tif (this.pageEntitiesList.length) this.concatOptions.pageLength = parseInt(this.pageEntitiesList[0].value);\r\n\r\n\t\tthis.maxPagesToShow = 3;\r\n\t\tthis.isRowSelecting = !!this.concatOptions?.rowSelectingOptions;\r\n\t\tthis.pageBtnClasses = this.concatOptions?.pagingOptions?.pageBtnClasses ?? null;\r\n\r\n\t\tthis.onSearchInputListener = [];\r\n\t\tthis.onPageEntitiesChangeListener = [];\r\n\t\tthis.onSinglePagingClickListener = [];\r\n\t\tthis.onPagingPrevClickListener = [];\r\n\t\tthis.onPagingNextClickListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsDataTableCollection, this);\r\n\r\n\t\tthis.initTable();\r\n\r\n\t\tif (this.searches.length) this.initSearch();\r\n\r\n\t\tif (this.pageEntitiesList.length) this.initPageEntities();\r\n\r\n\t\tif (this.pagingList.length) this.initPaging();\r\n\t\tif (this.pagingPagesList.length) this.buildPagingPages();\r\n\t\tif (this.pagingPrevList.length) this.initPagingPrev();\r\n\t\tif (this.pagingNextList.length) this.initPagingNext();\r\n\r\n\t\tif (this.infoList.length) this.initInfo();\r\n\r\n\t\tif (this.isRowSelecting) this.initRowSelecting();\r\n\t}\r\n\r\n\tprivate initTable() {\r\n\t\tthis.dataTable = new DataTable(this.table, this.concatOptions);\r\n\r\n\t\tif (this.isRowSelecting) this.triggerChangeEventToRow();\r\n\r\n\t\tthis.dataTable.on('draw', () => {\r\n\t\t\tif (this.isRowSelecting) this.updateSelectAllCheckbox();\r\n\t\t\tif (this.isRowSelecting) this.triggerChangeEventToRow();\r\n\t\t\tthis.updateInfo();\r\n\t\t\tthis.pagingPagesList.forEach((el) => this.updatePaging(el));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate searchInput(evt: InputEvent) {\r\n\t\tthis.onSearchInput((evt.target as HTMLInputElement).value);\r\n\t}\r\n\r\n\tprivate pageEntitiesChange(evt: Event) {\r\n\t\tthis.onEntitiesChange(parseInt((evt.target as HTMLSelectElement).value), evt.target as HTMLSelectElement);\r\n\t}\r\n\r\n\tprivate pagingPrevClick() {\r\n\t\tthis.onPrevClick();\r\n\t}\r\n\r\n\tprivate pagingNextClick() {\r\n\t\tthis.onNextClick();\r\n\t}\r\n\r\n\tprivate rowSelectingAllChange() {\r\n\t\tthis.onSelectAllChange();\r\n\t}\r\n\r\n\tprivate singlePagingClick(count: number) {\r\n\t\tthis.onPageClick(count);\r\n\t}\r\n\r\n\t// Search\r\n\tprivate initSearch() {\r\n\t\tthis.searches.forEach((el) => {\r\n\t\t\tthis.onSearchInputListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: debounce((evt: InputEvent) => this.searchInput(evt)),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener('input', this.onSearchInputListener.find((search) => search.el === el).fn);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSearchInput(val: string) {\r\n\t\tthis.dataTable.search(val).draw();\r\n\t}\r\n\r\n\t// Page entities\r\n\tprivate initPageEntities() {\r\n\t\tthis.pageEntitiesList.forEach((el) => {\r\n\t\t\tthis.onPageEntitiesChangeListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: (evt) => this.pageEntitiesChange(evt),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener('change', this.onPageEntitiesChangeListener.find((pageEntity) => pageEntity.el === el).fn);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onEntitiesChange(entities: number, target: HTMLSelectElement) {\r\n\t\tconst otherEntities = this.pageEntitiesList.filter((el) => el !== target);\r\n\r\n\t\tif (otherEntities.length) otherEntities.forEach((el) => {\r\n\t\t\tif (window.HSSelect) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst hsSelectInstance = window.HSSelect.getInstance(el, true);\r\n\t\t\t\tif (hsSelectInstance) hsSelectInstance.element.setValue(`${entities}`);\r\n\t\t\t} else el.value = `${entities}`;\r\n\t\t});\r\n\r\n\t\tthis.dataTable.page.len(entities).draw();\r\n\t}\r\n\r\n\t// Info\r\n\tprivate initInfo() {\r\n\t\tthis.infoList.forEach((el) => {\r\n\t\t\tthis.initInfoFrom(el);\r\n\t\t\tthis.initInfoTo(el);\r\n\t\t\tthis.initInfoLength(el);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate initInfoFrom(el: HTMLElement) {\r\n\t\tconst infoFrom = el.querySelector('[data-hs-datatable-info-from]') as HTMLElement ?? null;\r\n\t\tconst { start } = this.dataTable.page.info();\r\n\r\n\t\tif (infoFrom) infoFrom.innerText = `${start + 1}`;\r\n\t}\r\n\r\n\tprivate initInfoTo(el: HTMLElement) {\r\n\t\tconst infoTo = el.querySelector('[data-hs-datatable-info-to]') as HTMLElement ?? null;\r\n\t\tconst { end } = this.dataTable.page.info();\r\n\r\n\t\tif (infoTo) infoTo.innerText = `${end}`;\r\n\t}\r\n\r\n\tprivate initInfoLength(el: HTMLElement) {\r\n\t\tconst infoLength = el.querySelector('[data-hs-datatable-info-length]') as HTMLElement ?? null;\r\n\t\tconst { recordsTotal } = this.dataTable.page.info();\r\n\r\n\t\tif (infoLength) infoLength.innerText = `${recordsTotal}`;\r\n\t}\r\n\r\n\tprivate updateInfo() {\r\n\t\tthis.initInfo();\r\n\t}\r\n\r\n\t// Paging\r\n\tprivate initPaging() {\r\n\t\tthis.pagingList.forEach((el) => this.hidePagingIfSinglePage(el));\r\n\t}\r\n\r\n\tprivate hidePagingIfSinglePage(el: HTMLElement) {\r\n\t\tconst { pages } = this.dataTable.page.info();\r\n\r\n\t\tif (pages < 2) {\r\n\t\t\tel.classList.add('hidden');\r\n\t\t\tel.style.display = 'none';\r\n\t\t} else {\r\n\t\t\tel.classList.remove('hidden');\r\n\t\t\tel.style.display = '';\r\n\t\t}\r\n\t}\r\n\r\n\tprivate initPagingPrev() {\r\n\t\tthis.pagingPrevList.forEach((el) => {\r\n\t\t\tthis.onPagingPrevClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.pagingPrevClick(),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener('click', this.onPagingPrevClickListener.find((pagingPrev) => pagingPrev.el === el).fn);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onPrevClick() {\r\n\t\tthis.dataTable.page('previous').draw('page');\r\n\t}\r\n\r\n\tprivate disablePagingArrow(el: HTMLElement, statement: boolean) {\r\n\t\tif (statement) {\r\n\t\t\tel.classList.add('disabled');\r\n\t\t\tel.setAttribute('disabled', 'disabled');\r\n\t\t} else {\r\n\t\t\tel.classList.remove('disabled');\r\n\t\t\tel.removeAttribute('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate initPagingNext() {\r\n\t\tthis.pagingNextList.forEach((el) => {\r\n\t\t\tthis.onPagingNextClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.pagingNextClick(),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener('click', this.onPagingNextClickListener.find((pagingNext) => pagingNext.el === el).fn);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onNextClick() {\r\n\t\tthis.dataTable.page('next').draw('page');\r\n\t}\r\n\r\n\tprivate buildPagingPages() {\r\n\t\tthis.pagingPagesList.forEach((el) => this.updatePaging(el));\r\n\t}\r\n\r\n\tprivate updatePaging(pagingPages: HTMLElement) {\r\n\t\tconst { page, pages, length } = this.dataTable.page.info();\r\n\t\tconst totalRecords = this.dataTable.rows({ search: 'applied' }).count();\r\n\t\tconst totalPages = Math.ceil(totalRecords / length);\r\n\t\tconst currentPage = page + 1;\r\n\r\n\t\tlet startPage = Math.max(1, currentPage - Math.floor(this.maxPagesToShow / 2));\r\n\t\tlet endPage = Math.min(totalPages, startPage + (this.maxPagesToShow - 1));\r\n\r\n\t\tif (endPage - startPage + 1 < this.maxPagesToShow) {\r\n\t\t\tstartPage = Math.max(1, endPage - this.maxPagesToShow + 1);\r\n\t\t}\r\n\r\n\t\tpagingPages.innerHTML = '';\r\n\r\n\t\tif (startPage > 1) {\r\n\t\t\tthis.buildPagingPage(1, pagingPages);\r\n\r\n\t\t\tif (startPage > 2) pagingPages.appendChild(htmlToElement(`<span class=\"ellipsis\">...</span>`));\r\n\t\t}\r\n\r\n\t\tfor (let i = startPage; i <= endPage; i++) {\r\n\t\t\tthis.buildPagingPage(i, pagingPages);\r\n\t\t}\r\n\r\n\t\tif (endPage < totalPages) {\r\n\t\t\tif (endPage < totalPages - 1) pagingPages.appendChild(htmlToElement(`<span class=\"ellipsis\">...</span>`));\r\n\r\n\t\t\tthis.buildPagingPage(totalPages, pagingPages);\r\n\t\t}\r\n\r\n\t\tthis.pagingPrevList.forEach((el) => this.disablePagingArrow(el, page === 0));\r\n\t\tthis.pagingNextList.forEach((el) => this.disablePagingArrow(el, page === pages - 1));\r\n\r\n\t\tthis.pagingList.forEach((el) => this.hidePagingIfSinglePage(el));\r\n\t}\r\n\r\n\tprivate buildPagingPage(counter: number, target: HTMLElement) {\r\n\t\tconst { page } = this.dataTable.page.info();\r\n\t\tconst pageEl = htmlToElement(`<button type=\"button\"></button>`);\r\n\t\tpageEl.innerText = `${counter}`;\r\n\t\tpageEl.setAttribute('data-page', `${counter}`);\r\n\t\tif (this.pageBtnClasses) classToClassList(this.pageBtnClasses, pageEl);\r\n\t\tif (page === counter - 1) pageEl.classList.add('active');\r\n\r\n\t\tthis.onSinglePagingClickListener.push({\r\n\t\t\tel: pageEl,\r\n\t\t\tfn: () => this.singlePagingClick(counter),\r\n\t\t});\r\n\r\n\t\tpageEl.addEventListener('click', this.onSinglePagingClickListener.find((singlePaging) => singlePaging.el === pageEl).fn);\r\n\r\n\t\ttarget.append(pageEl);\r\n\t}\r\n\r\n\tprivate onPageClick(counter: number) {\r\n\t\tthis.dataTable.page(counter - 1).draw('page');\r\n\t}\r\n\r\n\t// Select row\r\n\tprivate initRowSelecting() {\r\n\t\tthis.onRowSelectingAllChangeListener = () => this.rowSelectingAllChange();\r\n\r\n\t\tthis.rowSelectingAll.addEventListener(\r\n\t\t\t'change',\r\n\t\t\tthis.onRowSelectingAllChangeListener,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate triggerChangeEventToRow() {\r\n\t\tthis.table\r\n\t\t\t.querySelectorAll(`tbody ${this.rowSelectingIndividual}`)\r\n\t\t\t.forEach((el) => {\r\n\t\t\t\tel.addEventListener('change', () => {\r\n\t\t\t\t\tthis.updateSelectAllCheckbox();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate onSelectAllChange() {\r\n\t\tlet isChecked = (this.rowSelectingAll as HTMLInputElement).checked;\r\n\t\tconst visibleRows = Array.from(\r\n\t\t\tthis.dataTable.rows({ page: 'current', search: 'applied' }).nodes(),\r\n\t\t);\r\n\r\n\t\tvisibleRows.forEach((el) => {\r\n\t\t\tconst checkbox = el.querySelector(this.rowSelectingIndividual);\r\n\r\n\t\t\tif (checkbox) checkbox.checked = isChecked;\r\n\t\t});\r\n\r\n\t\tthis.updateSelectAllCheckbox();\r\n\t}\r\n\r\n\tprivate updateSelectAllCheckbox() {\r\n\t\tconst searchRelatedItems = this.dataTable\r\n\t\t\t.rows({ search: 'applied' })\r\n\t\t\t.count();\r\n\r\n\t\tif (!searchRelatedItems) {\r\n\t\t\t(this.rowSelectingAll as HTMLInputElement).checked = false;\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet isChecked = true;\r\n\t\tconst visibleRows = Array.from(\r\n\t\t\tthis.dataTable\r\n\t\t\t\t.rows({\r\n\t\t\t\t\tpage: 'current',\r\n\t\t\t\t\tsearch: 'applied',\r\n\t\t\t\t})\r\n\t\t\t\t.nodes(),\r\n\t\t);\r\n\r\n\t\tvisibleRows.forEach((el) => {\r\n\t\t\tconst checkbox = el.querySelector(this.rowSelectingIndividual);\r\n\r\n\t\t\tif (checkbox && !checkbox.checked) {\r\n\t\t\t\tisChecked = false;\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t(this.rowSelectingAll as HTMLInputElement).checked = isChecked;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\tif (this.searches) {\r\n\t\t\tthis.onSearchInputListener.forEach(({ el, fn }) => el.removeEventListener('click', fn));\r\n\r\n\t\t\t// this.searches = null;\r\n\t\t}\r\n\t\tif (this.pageEntitiesList) this.onPageEntitiesChangeListener.forEach(({ el, fn }) => el.removeEventListener('change', fn));\r\n\t\tif (this.pagingPagesList.length) {\r\n\t\t\tthis.onSinglePagingClickListener.forEach(({ el, fn }) => el.removeEventListener('click', fn));\r\n\r\n\t\t\tthis.pagingPagesList.forEach((el) => el.innerHTML = '');\r\n\t\t}\r\n\t\tif (this.pagingPrevList.length) this.onPagingPrevClickListener.forEach(({ el, fn }) => el.removeEventListener('click', fn));\r\n\t\tif (this.pagingNextList.length) this.onPagingNextClickListener.forEach(({ el, fn }) => el.removeEventListener('click', fn));\r\n\t\tif (this.rowSelectingAll)\r\n\t\t\tthis.rowSelectingAll.removeEventListener(\r\n\t\t\t\t'change',\r\n\t\t\t\tthis.onRowSelectingAllChangeListener,\r\n\t\t\t);\r\n\r\n\t\tthis.dataTable.destroy();\r\n\r\n\t\tthis.rowSelectingAll = null;\r\n\t\tthis.rowSelectingIndividual = null;\r\n\r\n\t\twindow.$hsDataTableCollection = window.$hsDataTableCollection.filter(({ element }) => element.el !== this.el);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsDataTableCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsDataTableCollection) window.$hsDataTableCollection = [];\r\n\r\n\t\tif (window.$hsDataTableCollection)\r\n\t\t\twindow.$hsDataTableCollection = window.$hsDataTableCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-datatable]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsDataTableCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSDataTable(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSDataTable: Function;\r\n\t\t$hsDataTableCollection: ICollectionItem<HSDataTable>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tif (\r\n\t\tdocument.querySelectorAll(\r\n\t\t\t'[data-hs-datatable]:not(.--prevent-on-load-init)',\r\n\t\t).length\r\n\t) {\r\n\t\tif (typeof jQuery === 'undefined')\r\n\t\t\tconsole.error(\r\n\t\t\t\t'HSDataTable: jQuery is not available, please add it to the page.',\r\n\t\t\t);\r\n\t\tif (typeof DataTable === 'undefined')\r\n\t\t\tconsole.error(\r\n\t\t\t\t'HSDataTable: DataTable is not available, please add it to the page.',\r\n\t\t\t);\r\n\t}\r\n\r\n\tif (typeof DataTable !== 'undefined' && typeof jQuery !== 'undefined')\r\n\t\tHSDataTable.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Datatable collection:', window.$hsDataTableCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSDataTable = HSDataTable;\r\n}\r\n\r\nexport default HSDataTable;\r\n", "/*\r\n * HSFileUpload\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { DropzoneFile } from 'dropzone';\r\n\r\nimport { htmlToElement, classToClassList } from '../../utils';\r\n\r\nimport { IFileUploadOptions, IFileUpload } from '../file-upload/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\ndeclare var _: any;\r\ndeclare var Dropzone: any;\r\n\r\nif (typeof Dropzone !== 'undefined') Dropzone.autoDiscover = false;\r\n\r\nclass HSFileUpload\r\n\textends HSBasePlugin<IFileUploadOptions>\r\n\timplements IFileUpload\r\n{\r\n\tprivate concatOptions: IFileUploadOptions;\r\n\tprivate previewTemplate: string;\r\n\tprivate extensions: any = {};\r\n\tprivate singleton: boolean;\r\n\r\n\tpublic dropzone: Dropzone | null;\r\n\r\n\tprivate onReloadButtonClickListener:\r\n\t\t| {\r\n\t\t\t\tel: Element;\r\n\t\t\t\tfn: (evt: MouseEvent) => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\tprivate onTempFileInputChangeListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: (event: Event) => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\r\n\tconstructor(el: HTMLElement, options?: IFileUploadOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.el = typeof el === 'string' ? document.querySelector(el) : el;\r\n\r\n\t\tconst data = this.el.getAttribute('data-hs-file-upload');\r\n\t\tconst dataOptions: IFileUploadOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\tthis.previewTemplate =\r\n\t\t\tthis.el.querySelector('[data-hs-file-upload-preview]')?.innerHTML ||\r\n\t\t\t`<div class=\"p-3 bg-white border border-solid border-gray-300 rounded-xl dark:bg-neutral-800 dark:border-neutral-600\">\r\n\t\t\t<div class=\"mb-2 flex justify-between items-center\">\r\n\t\t\t\t<div class=\"flex items-center gap-x-3\">\r\n\t\t\t\t\t<span class=\"size-8 flex justify-center items-center border border-gray-200 text-gray-500 rounded-lg dark:border-neutral-700 dark:text-neutral-500\" data-hs-file-upload-file-icon></span>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p class=\"text-sm font-medium text-gray-800 dark:text-white\">\r\n\t\t\t\t\t\t\t<span class=\"truncate inline-block max-w-[300px] align-bottom\" data-hs-file-upload-file-name></span>.<span data-hs-file-upload-file-ext></span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p class=\"text-xs text-gray-500 dark:text-neutral-500\" data-hs-file-upload-file-size></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"inline-flex items-center gap-x-2\">\r\n\t\t\t\t\t<button type=\"button\" class=\"text-gray-500 hover:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200\" data-hs-file-upload-remove>\r\n\t\t\t\t\t\t<svg class=\"shrink-0 size-4\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 6h18\"></path><path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"></path><path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"></path><line x1=\"10\" x2=\"10\" y1=\"11\" y2=\"17\"></line><line x1=\"14\" x2=\"14\" y1=\"11\" y2=\"17\"></line></svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex items-center gap-x-3 whitespace-nowrap\">\r\n\t\t\t\t<div class=\"flex w-full h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-neutral-700\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" data-hs-file-upload-progress-bar>\r\n\t\t\t\t\t<div class=\"flex flex-col justify-center rounded-full overflow-hidden bg-blue-600 text-xs text-white text-center whitespace-nowrap transition-all duration-500 hs-file-upload-complete:bg-green-600 dark:bg-blue-500\" style=\"width: 0\" data-hs-file-upload-progress-bar-pane></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-10 text-end\">\r\n\t\t\t\t\t<span class=\"text-sm text-gray-800 dark:text-white\">\r\n\t\t\t\t\t\t<span data-hs-file-upload-progress-bar-value>0</span>%\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>`;\r\n\t\tthis.extensions = _.merge(\r\n\t\t\t{\r\n\t\t\t\tdefault: {\r\n\t\t\t\t\ticon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\"/><path d=\"M14 2v4a2 2 0 0 0 2 2h4\"/></svg>',\r\n\t\t\t\t\tclass: 'size-5',\r\n\t\t\t\t},\r\n\t\t\t\txls: {\r\n\t\t\t\t\ticon: '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.0243 1.43996H7.08805C6.82501 1.43996 6.57277 1.54445 6.38677 1.73043C6.20077 1.91642 6.09631 2.16868 6.09631 2.43171V6.64796L15.0243 11.856L19.4883 13.7398L23.9523 11.856V6.64796L15.0243 1.43996Z\" fill=\"#21A366\"></path><path d=\"M6.09631 6.64796H15.0243V11.856H6.09631V6.64796Z\" fill=\"#107C41\"></path><path d=\"M22.9605 1.43996H15.0243V6.64796H23.9523V2.43171C23.9523 2.16868 23.8478 1.91642 23.6618 1.73043C23.4758 1.54445 23.2235 1.43996 22.9605 1.43996Z\" fill=\"#33C481\"></path><path d=\"M15.0243 11.856H6.09631V21.2802C6.09631 21.5433 6.20077 21.7955 6.38677 21.9815C6.57277 22.1675 6.82501 22.272 7.08805 22.272H22.9606C23.2236 22.272 23.4759 22.1675 23.6618 21.9815C23.8478 21.7955 23.9523 21.5433 23.9523 21.2802V17.064L15.0243 11.856Z\" fill=\"#185C37\"></path><path d=\"M15.0243 11.856H23.9523V17.064H15.0243V11.856Z\" fill=\"#107C41\"></path><path opacity=\"0.1\" d=\"M12.5446 5.15996H6.09631V19.296H12.5446C12.8073 19.2952 13.0591 19.1904 13.245 19.0046C13.4308 18.8188 13.5355 18.567 13.5363 18.3042V6.1517C13.5355 5.88892 13.4308 5.63712 13.245 5.4513C13.0591 5.26548 12.8073 5.16074 12.5446 5.15996Z\" fill=\"black\"></path><path opacity=\"0.2\" d=\"M11.8006 5.90396H6.09631V20.04H11.8006C12.0633 20.0392 12.3151 19.9344 12.501 19.7486C12.6868 19.5628 12.7915 19.311 12.7923 19.0482V6.8957C12.7915 6.6329 12.6868 6.38114 12.501 6.19532C12.3151 6.0095 12.0633 5.90475 11.8006 5.90396Z\" fill=\"black\"></path><path opacity=\"0.2\" d=\"M11.8006 5.90396H6.09631V18.552H11.8006C12.0633 18.5512 12.3151 18.4464 12.501 18.2606C12.6868 18.0748 12.7915 17.823 12.7923 17.5602V6.8957C12.7915 6.6329 12.6868 6.38114 12.501 6.19532C12.3151 6.0095 12.0633 5.90475 11.8006 5.90396Z\" fill=\"black\"></path><path opacity=\"0.2\" d=\"M11.0566 5.90396H6.09631V18.552H11.0566C11.3193 18.5512 11.5711 18.4464 11.757 18.2606C11.9428 18.0748 12.0475 17.823 12.0483 17.5602V6.8957C12.0475 6.6329 11.9428 6.38114 11.757 6.19532C11.5711 6.0095 11.3193 5.90475 11.0566 5.90396Z\" fill=\"black\"></path><path d=\"M1.13604 5.90396H11.0566C11.3195 5.90396 11.5718 6.00842 11.7578 6.19442C11.9438 6.38042 12.0483 6.63266 12.0483 6.8957V16.8162C12.0483 17.0793 11.9438 17.3315 11.7578 17.5175C11.5718 17.7035 11.3195 17.808 11.0566 17.808H1.13604C0.873012 17.808 0.620754 17.7035 0.434765 17.5175C0.248775 17.3315 0.144287 17.0793 0.144287 16.8162V6.8957C0.144287 6.63266 0.248775 6.38042 0.434765 6.19442C0.620754 6.00842 0.873012 5.90396 1.13604 5.90396Z\" fill=\"#107C41\"></path><path d=\"M2.77283 15.576L5.18041 11.8455L2.9752 8.13596H4.74964L5.95343 10.5071C6.06401 10.7318 6.14015 10.8994 6.18185 11.01H6.19745C6.27683 10.8305 6.35987 10.6559 6.44669 10.4863L7.73309 8.13596H9.36167L7.09991 11.8247L9.41897 15.576H7.68545L6.29489 12.972C6.22943 12.861 6.17387 12.7445 6.12899 12.6238H6.10817C6.06761 12.7419 6.01367 12.855 5.94748 12.9608L4.51676 15.576H2.77283Z\" fill=\"white\"></path></svg>',\r\n\t\t\t\t\tclass: 'size-5',\r\n\t\t\t\t},\r\n\t\t\t\tdoc: {\r\n\t\t\t\t\ticon: '<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M30.6141 1.91994H9.45071C9.09999 1.91994 8.76367 2.05926 8.51567 2.30725C8.26767 2.55523 8.12839 2.89158 8.12839 3.24228V8.86395L20.0324 12.3359L31.9364 8.86395V3.24228C31.9364 2.89158 31.797 2.55523 31.549 2.30725C31.3011 2.05926 30.9647 1.91994 30.6141 1.91994Z\" fill=\"#41A5EE\"></path><path d=\"M31.9364 8.86395H8.12839V15.8079L20.0324 19.2799L31.9364 15.8079V8.86395Z\" fill=\"#2B7CD3\"></path><path d=\"M31.9364 15.8079H8.12839V22.7519L20.0324 26.2239L31.9364 22.7519V15.8079Z\" fill=\"#185ABD\"></path><path d=\"M31.9364 22.752H8.12839V28.3736C8.12839 28.7244 8.26767 29.0607 8.51567 29.3087C8.76367 29.5567 9.09999 29.696 9.45071 29.696H30.6141C30.9647 29.696 31.3011 29.5567 31.549 29.3087C31.797 29.0607 31.9364 28.7244 31.9364 28.3736V22.752Z\" fill=\"#103F91\"></path><path opacity=\"0.1\" d=\"M16.7261 6.87994H8.12839V25.7279H16.7261C17.0764 25.7269 17.4121 25.5872 17.6599 25.3395C17.9077 25.0917 18.0473 24.756 18.0484 24.4056V8.20226C18.0473 7.8519 17.9077 7.51616 17.6599 7.2684C17.4121 7.02064 17.0764 6.88099 16.7261 6.87994Z\" class=\"fill-black dark:fill-neutral-200\" fill=\"currentColor\"></path><path opacity=\"0.2\" d=\"M15.7341 7.87194H8.12839V26.7199H15.7341C16.0844 26.7189 16.4201 26.5792 16.6679 26.3315C16.9157 26.0837 17.0553 25.748 17.0564 25.3976V9.19426C17.0553 8.84386 16.9157 8.50818 16.6679 8.26042C16.4201 8.01266 16.0844 7.87299 15.7341 7.87194Z\" class=\"fill-black dark:fill-neutral-200\" fill=\"currentColor\"></path><path opacity=\"0.2\" d=\"M15.7341 7.87194H8.12839V24.7359H15.7341C16.0844 24.7349 16.4201 24.5952 16.6679 24.3475C16.9157 24.0997 17.0553 23.764 17.0564 23.4136V9.19426C17.0553 8.84386 16.9157 8.50818 16.6679 8.26042C16.4201 8.01266 16.0844 7.87299 15.7341 7.87194Z\" class=\"fill-black dark:fill-neutral-200\" fill=\"currentColor\"></path><path opacity=\"0.2\" d=\"M14.7421 7.87194H8.12839V24.7359H14.7421C15.0924 24.7349 15.4281 24.5952 15.6759 24.3475C15.9237 24.0997 16.0633 23.764 16.0644 23.4136V9.19426C16.0633 8.84386 15.9237 8.50818 15.6759 8.26042C15.4281 8.01266 15.0924 7.87299 14.7421 7.87194Z\" class=\"fill-black dark:fill-neutral-200\" fill=\"currentColor\"></path><path d=\"M1.51472 7.87194H14.7421C15.0927 7.87194 15.4291 8.01122 15.6771 8.25922C15.925 8.50722 16.0644 8.84354 16.0644 9.19426V22.4216C16.0644 22.7723 15.925 23.1087 15.6771 23.3567C15.4291 23.6047 15.0927 23.7439 14.7421 23.7439H1.51472C1.16401 23.7439 0.827669 23.6047 0.579687 23.3567C0.3317 23.1087 0.192383 22.7723 0.192383 22.4216V9.19426C0.192383 8.84354 0.3317 8.50722 0.579687 8.25922C0.827669 8.01122 1.16401 7.87194 1.51472 7.87194Z\" fill=\"#185ABD\"></path><path d=\"M12.0468 20.7679H10.2612L8.17801 13.9231L5.99558 20.7679H4.20998L2.22598 10.8479H4.01158L5.40038 17.7919L7.48358 11.0463H8.97161L10.9556 17.7919L12.3444 10.8479H14.0308L12.0468 20.7679Z\" fill=\"white\"></path></svg>',\r\n\t\t\t\t\tclass: 'size-5',\r\n\t\t\t\t},\r\n\t\t\t\tzip: {\r\n\t\t\t\t\ticon: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18\"/><path d=\"M14 2v4a2 2 0 0 0 2 2h4\"/><circle cx=\"10\" cy=\"20\" r=\"2\"/><path d=\"M10 7V6\"/><path d=\"M10 12v-1\"/><path d=\"M10 18v-2\"/></svg>',\r\n\t\t\t\t\tclass: 'size-5',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdataOptions.extensions,\r\n\t\t);\r\n\t\tthis.singleton = dataOptions.singleton;\r\n\r\n\t\tthis.concatOptions = {\r\n\t\t\tclickable: this.el.querySelector(\r\n\t\t\t\t'[data-hs-file-upload-trigger]',\r\n\t\t\t) as HTMLElement,\r\n\t\t\tpreviewsContainer: this.el.querySelector(\r\n\t\t\t\t'[data-hs-file-upload-previews]',\r\n\t\t\t) as HTMLElement,\r\n\t\t\taddRemoveLinks: false,\r\n\t\t\tpreviewTemplate: this.previewTemplate,\r\n\t\t\tautoHideTrigger: false,\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.onReloadButtonClickListener = [];\r\n\t\tthis.onTempFileInputChangeListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate tempFileInputChange(event: Event, file: DropzoneFile) {\r\n\t\tconst input = event.target as HTMLInputElement;\r\n\t\tconst newFile = input.files?.[0];\r\n\r\n\t\tif (newFile) {\r\n\t\t\tconst dzNewFile = newFile as Dropzone.DropzoneFile;\r\n\t\t\tdzNewFile.status = Dropzone.ADDED;\r\n\t\t\tdzNewFile.accepted = true;\r\n\t\t\tdzNewFile.previewElement = file.previewElement;\r\n\t\t\tdzNewFile.previewTemplate = file.previewTemplate;\r\n\t\t\tdzNewFile.previewsContainer = file.previewsContainer;\r\n\r\n\t\t\tthis.dropzone.removeFile(file);\r\n\t\t\tthis.dropzone.addFile(dzNewFile);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate reloadButtonClick(evt: MouseEvent, file: DropzoneFile) {\r\n\t\tevt.preventDefault();\r\n\t\tevt.stopPropagation();\r\n\r\n\t\tconst tempFileInput = document.createElement('input');\r\n\t\ttempFileInput.type = 'file';\r\n\r\n\t\tthis.onTempFileInputChangeListener.push({\r\n\t\t\tel: tempFileInput,\r\n\t\t\tfn: (event: Event) => this.tempFileInputChange(event, file),\r\n\t\t});\r\n\r\n\t\ttempFileInput.click();\r\n\r\n\t\ttempFileInput.addEventListener(\r\n\t\t\t'change',\r\n\t\t\tthis.onTempFileInputChangeListener.find((el) => el.el === tempFileInput)\r\n\t\t\t\t.fn,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsFileUploadCollection, this);\r\n\r\n\t\tthis.initDropzone();\r\n\t}\r\n\r\n\tprivate initDropzone() {\r\n\t\tconst clear = this.el.querySelector(\r\n\t\t\t'[data-hs-file-upload-clear]',\r\n\t\t) as HTMLButtonElement;\r\n\t\tconst pseudoTriggers = Array.from(\r\n\t\t\tthis.el.querySelectorAll('[data-hs-file-upload-pseudo-trigger]'),\r\n\t\t) as HTMLButtonElement[];\r\n\t\tthis.dropzone = new Dropzone(this.el, this.concatOptions);\r\n\r\n\t\tthis.dropzone.on('addedfile', (file: DropzoneFile) => this.onAddFile(file));\r\n\t\tthis.dropzone.on('removedfile', () => this.onRemoveFile());\r\n\t\tthis.dropzone.on('uploadprogress', (file: DropzoneFile, progress: number) =>\r\n\t\t\tthis.onUploadProgress(file, progress),\r\n\t\t);\r\n\t\tthis.dropzone.on('complete', (file: DropzoneFile) => this.onComplete(file));\r\n\r\n\t\tif (clear)\r\n\t\t\tclear.onclick = () => {\r\n\t\t\t\tif (this.dropzone.files.length) this.dropzone.removeAllFiles(true);\r\n\t\t\t};\r\n\r\n\t\tif (pseudoTriggers.length)\r\n\t\t\tpseudoTriggers.forEach((el) => {\r\n\t\t\t\tel.onclick = () => {\r\n\t\t\t\t\tif (this.concatOptions?.clickable)\r\n\t\t\t\t\t\t(this.concatOptions?.clickable as HTMLButtonElement).click();\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\tthis.onTempFileInputChangeListener.forEach((el) => {\r\n\t\t\tel.el.removeEventListener('change', el.fn);\r\n\t\t});\r\n\t\tthis.onTempFileInputChangeListener = null;\r\n\t\tthis.onReloadButtonClickListener.forEach((el) => {\r\n\t\t\tel.el.removeEventListener('click', el.fn);\r\n\t\t});\r\n\t\tthis.onReloadButtonClickListener = null;\r\n\r\n\t\tthis.dropzone.destroy();\r\n\r\n\t\twindow.$hsFileUploadCollection = window.$hsFileUploadCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate onAddFile(file: DropzoneFile) {\r\n\t\tconst { previewElement } = file;\r\n\t\tconst reloadButton = file.previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-reload]',\r\n\t\t);\r\n\r\n\t\tif (!previewElement) return false;\r\n\r\n\t\tif (this.singleton && this.dropzone.files.length > 1)\r\n\t\t\tthis.dropzone.removeFile(this.dropzone.files[0]);\r\n\r\n\t\tif (reloadButton) {\r\n\t\t\tthis.onReloadButtonClickListener.push({\r\n\t\t\t\tel: reloadButton,\r\n\t\t\t\tfn: (evt) => this.reloadButtonClick(evt, file),\r\n\t\t\t});\r\n\r\n\t\t\treloadButton.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onReloadButtonClickListener.find((el) => el.el === reloadButton)\r\n\t\t\t\t\t.fn,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.previewAccepted(file);\r\n\t}\r\n\r\n\tprivate previewAccepted(file: DropzoneFile) {\r\n\t\tconst { previewElement } = file;\r\n\t\tconst fileInfo = this.splitFileName(file.name);\r\n\r\n\t\tconst fileName = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-file-name]',\r\n\t\t);\r\n\t\tconst fileExt = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-file-ext]',\r\n\t\t);\r\n\t\tconst fileSize = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-file-size]',\r\n\t\t);\r\n\t\tconst fileIcon = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-file-icon]',\r\n\t\t) as HTMLElement;\r\n\t\tconst trigger = this.el.querySelector(\r\n\t\t\t'[data-hs-file-upload-trigger]',\r\n\t\t) as HTMLElement;\r\n\t\tconst preview = previewElement.querySelector(\r\n\t\t\t'[data-dz-thumbnail]',\r\n\t\t) as HTMLElement;\r\n\t\tconst remove = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-remove]',\r\n\t\t) as HTMLButtonElement;\r\n\r\n\t\tif (fileName) fileName.textContent = fileInfo.name;\r\n\t\tif (fileExt) fileExt.textContent = fileInfo.extension;\r\n\t\tif (fileSize) fileSize.textContent = this.formatFileSize(file.size);\r\n\r\n\t\tif (preview) {\r\n\t\t\tif (file.type.includes('image/')) preview.classList.remove('hidden');\r\n\t\t\telse this.setIcon(fileInfo.extension, fileIcon);\r\n\t\t}\r\n\r\n\t\tif (this.dropzone.files.length > 0 && this.concatOptions.autoHideTrigger)\r\n\t\t\ttrigger.style.display = 'none';\r\n\r\n\t\tif (remove) remove.onclick = () => this.dropzone.removeFile(file);\r\n\t}\r\n\r\n\tprivate onRemoveFile() {\r\n\t\tconst trigger = this.el.querySelector(\r\n\t\t\t'[data-hs-file-upload-trigger]',\r\n\t\t) as HTMLElement;\r\n\r\n\t\tif (this.dropzone.files.length === 0 && this.concatOptions.autoHideTrigger)\r\n\t\t\ttrigger.style.display = '';\r\n\t}\r\n\r\n\tprivate onUploadProgress(file: DropzoneFile, progress: number) {\r\n\t\tconst { previewElement } = file;\r\n\r\n\t\tif (!previewElement) return false;\r\n\r\n\t\tconst progressBar = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-progress-bar]',\r\n\t\t);\r\n\t\tconst progressBarPane = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-progress-bar-pane]',\r\n\t\t) as HTMLElement;\r\n\t\tconst progressBarValue = previewElement.querySelector(\r\n\t\t\t'[data-hs-file-upload-progress-bar-value]',\r\n\t\t) as HTMLElement;\r\n\r\n\t\tconst currentProgress = Math.floor(progress);\r\n\r\n\t\tif (progressBar)\r\n\t\t\tprogressBar.setAttribute('aria-valuenow', `${currentProgress}`);\r\n\t\tif (progressBarPane) progressBarPane.style.width = `${currentProgress}%`;\r\n\t\tif (progressBarValue) progressBarValue.innerText = `${currentProgress}`;\r\n\t}\r\n\r\n\tprivate onComplete(file: DropzoneFile) {\r\n\t\tconst { previewElement } = file;\r\n\r\n\t\tif (!previewElement) return false;\r\n\r\n\t\tpreviewElement.classList.add('complete');\r\n\t}\r\n\r\n\tprivate setIcon(ext: string, file: HTMLElement) {\r\n\t\tconst icon = this.createIcon(ext);\r\n\r\n\t\tfile.append(icon);\r\n\t}\r\n\r\n\tprivate createIcon(ext: string) {\r\n\t\tconst icon = this.extensions[ext]?.icon\r\n\t\t\t? htmlToElement(this.extensions[ext].icon)\r\n\t\t\t: htmlToElement(this.extensions.default.icon);\r\n\r\n\t\tclassToClassList(\r\n\t\t\tthis.extensions[ext]?.class\r\n\t\t\t\t? this.extensions[ext].class\r\n\t\t\t\t: this.extensions.default.class,\r\n\t\t\ticon,\r\n\t\t);\r\n\r\n\t\treturn icon;\r\n\t}\r\n\r\n\tprivate formatFileSize(size: number) {\r\n\t\tif (size < 1024) {\r\n\t\t\treturn size.toFixed(2) + ' B';\r\n\t\t} else if (size < 1024 * 1024) {\r\n\t\t\treturn (size / 1024).toFixed(2) + ' KB';\r\n\t\t} else if (size < 1024 * 1024 * 1024) {\r\n\t\t\treturn (size / (1024 * 1024)).toFixed(2) + ' MB';\r\n\t\t} else if (size < 1024 * 1024 * 1024 * 1024) {\r\n\t\t\treturn (size / (1024 * 1024 * 1024)).toFixed(2) + ' GB';\r\n\t\t} else {\r\n\t\t\treturn (size / (1024 * 1024 * 1024 * 1024)).toFixed(2) + ' TB';\r\n\t\t}\r\n\t}\r\n\r\n\tprivate splitFileName(file: string): {\r\n\t\tname: string;\r\n\t\textension: string;\r\n\t} {\r\n\t\tlet dotIndex = file.lastIndexOf('.');\r\n\r\n\t\tif (dotIndex == -1) return { name: file, extension: '' };\r\n\r\n\t\treturn {\r\n\t\t\tname: file.substring(0, dotIndex),\r\n\t\t\textension: file.substring(dotIndex + 1),\r\n\t\t};\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsFileUploadCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsFileUploadCollection) window.$hsFileUploadCollection = [];\r\n\r\n\t\tif (window.$hsFileUploadCollection)\r\n\t\t\twindow.$hsFileUploadCollection = window.$hsFileUploadCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-file-upload]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsFileUploadCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSFileUpload(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSFileUpload: Function;\r\n\t\t$hsFileUploadCollection: ICollectionItem<HSFileUpload>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tif (\r\n\t\tdocument.querySelectorAll(\r\n\t\t\t'[data-hs-file-upload]:not(.--prevent-on-load-init)',\r\n\t\t).length\r\n\t) {\r\n\t\tif (typeof _ === 'undefined')\r\n\t\t\tconsole.error(\r\n\t\t\t\t'HSFileUpload: Lodash is not available, please add it to the page.',\r\n\t\t\t);\r\n\t\tif (typeof Dropzone === 'undefined')\r\n\t\t\tconsole.error(\r\n\t\t\t\t'HSFileUpload: Dropzone is not available, please add it to the page.',\r\n\t\t\t);\r\n\t}\r\n\r\n\tif (typeof _ !== 'undefined' && typeof Dropzone !== 'undefined') {\r\n\t\tHSFileUpload.autoInit();\r\n\t}\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('File upload collection:', window.$hsFileUploadCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSFileUpload = HSFileUpload;\r\n}\r\n\r\nexport default HSFileUpload;\r\n", "/*\r\n * HSRangeSlider\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport type { cssClasses, target } from 'nouislider';\r\n\r\nimport {\r\n\tIRangeSliderCssClassesObject,\r\n\tIRangeSlider,\r\n\tIRangeSliderOptions,\r\n} from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSRangeSlider\r\n\textends HSBasePlugin<IRangeSliderOptions>\r\n\timplements IRangeSlider\r\n{\r\n\tprivate readonly concatOptions: IRangeSliderOptions;\r\n\tprivate format: any | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: IRangeSliderOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-range-slider');\r\n\t\tconst dataOptions: IRangeSliderOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\tthis.concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t\tcssClasses: {\r\n\t\t\t\t...noUiSlider.cssClasses,\r\n\t\t\t\t...this.processClasses(dataOptions.cssClasses),\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tget formattedValue() {\r\n\t\tconst values: number | string | (string | number)[] = (\r\n\t\t\tthis.el as target\r\n\t\t).noUiSlider.get();\r\n\r\n\t\tif (Array.isArray(values) && this.format) {\r\n\t\t\tconst updateValues: (string | number)[] = [];\r\n\r\n\t\t\tvalues.forEach((val) => {\r\n\t\t\t\tupdateValues.push(this.format.to(val));\r\n\t\t\t});\r\n\r\n\t\t\treturn updateValues;\r\n\t\t} else if (this.format) {\r\n\t\t\treturn this.format.to(values);\r\n\t\t} else {\r\n\t\t\treturn values;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate processClasses(cl: typeof cssClasses) {\r\n\t\tconst mergedClasses: IRangeSliderCssClassesObject = {};\r\n\r\n\t\tObject.keys(cl).forEach((key: keyof typeof noUiSlider.cssClasses) => {\r\n\t\t\tif (key) mergedClasses[key] = `${noUiSlider.cssClasses[key]} ${cl[key]}`;\r\n\t\t});\r\n\r\n\t\treturn mergedClasses as typeof cssClasses;\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsRangeSliderCollection, this);\r\n\r\n\t\tif (\r\n\t\t\ttypeof this.concatOptions?.formatter === 'object'\r\n\t\t\t\t? this.concatOptions?.formatter?.type ===\r\n\t\t\t\t\t'thousandsSeparatorAndDecimalPoints'\r\n\t\t\t\t: this.concatOptions?.formatter === 'thousandsSeparatorAndDecimalPoints'\r\n\t\t)\r\n\t\t\tthis.thousandsSeparatorAndDecimalPointsFormatter();\r\n\t\telse if (\r\n\t\t\ttypeof this.concatOptions?.formatter === 'object'\r\n\t\t\t\t? this.concatOptions?.formatter?.type === 'integer'\r\n\t\t\t\t: this.concatOptions?.formatter === 'integer'\r\n\t\t)\r\n\t\t\tthis.integerFormatter();\r\n\t\telse if (\r\n\t\t\ttypeof this.concatOptions?.formatter === 'object' &&\r\n\t\t\t(this.concatOptions?.formatter?.prefix ||\r\n\t\t\t\tthis.concatOptions?.formatter?.postfix)\r\n\t\t)\r\n\t\t\tthis.prefixOrPostfixFormatter();\r\n\r\n\t\tnoUiSlider.create(this.el, this.concatOptions);\r\n\r\n\t\tif (this.concatOptions.disabled) this.setDisabled();\r\n\t}\r\n\r\n\tprivate formatValue(val: number | string) {\r\n\t\tlet result = '';\r\n\r\n\t\tif (typeof this.concatOptions?.formatter === 'object') {\r\n\t\t\tif (this.concatOptions?.formatter?.prefix)\r\n\t\t\t\tresult += this.concatOptions?.formatter?.prefix;\r\n\t\t\tresult += val;\r\n\t\t\tif (this.concatOptions?.formatter?.postfix)\r\n\t\t\t\tresult += this.concatOptions?.formatter?.postfix;\r\n\t\t} else result += val;\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate integerFormatter() {\r\n\t\tthis.format = {\r\n\t\t\tto: (val: number) => this.formatValue(Math.round(val)),\r\n\t\t\tfrom: (val: string) => Math.round(+val),\r\n\t\t};\r\n\r\n\t\tif (this.concatOptions?.tooltips) this.concatOptions.tooltips = this.format;\r\n\t}\r\n\r\n\tprivate prefixOrPostfixFormatter() {\r\n\t\tthis.format = {\r\n\t\t\tto: (val: number) => this.formatValue(val),\r\n\t\t\tfrom: (val: string) => +val,\r\n\t\t};\r\n\r\n\t\tif (this.concatOptions?.tooltips) this.concatOptions.tooltips = this.format;\r\n\t}\r\n\r\n\tprivate thousandsSeparatorAndDecimalPointsFormatter() {\r\n\t\tthis.format = {\r\n\t\t\tto: (val: number) =>\r\n\t\t\t\tthis.formatValue(\r\n\t\t\t\t\tnew Intl.NumberFormat('en-US', {\r\n\t\t\t\t\t\tminimumFractionDigits: 2,\r\n\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t}).format(val),\r\n\t\t\t\t),\r\n\t\t\tfrom: (val: string) => parseFloat(val.replace(/,/g, '')),\r\n\t\t};\r\n\r\n\t\tif (this.concatOptions?.tooltips) this.concatOptions.tooltips = this.format;\r\n\t}\r\n\r\n\tprivate setDisabled() {\r\n\t\tthis.el.setAttribute('disabled', 'disabled');\r\n\t\tthis.el.classList.add('disabled');\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t(this.el as target).noUiSlider.destroy();\r\n\r\n\t\tthis.format = null;\r\n\r\n\t\twindow.$hsRangeSliderCollection = window.$hsRangeSliderCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsRangeSliderCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsRangeSliderCollection) window.$hsRangeSliderCollection = [];\r\n\r\n\t\tif (window.$hsRangeSliderCollection)\r\n\t\t\twindow.$hsRangeSliderCollection = window.$hsRangeSliderCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-range-slider]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsRangeSliderCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSRangeSlider(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSRangeSlider: Function;\r\n\t\t$hsRangeSliderCollection: ICollectionItem<HSRangeSlider>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSRangeSlider.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Range slider collection:', window.$hsRangeSliderCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSRangeSlider = HSRangeSlider;\r\n}\r\n\r\nexport default HSRangeSlider;\r\n", "/*\r\n * HSCopyMarkup\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { ICopyMarkupOptions, ICopyMarkup } from '../copy-markup/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSCopyMarkup\r\n\textends HSBasePlugin<ICopyMarkupOptions>\r\n\timplements ICopyMarkup\r\n{\r\n\tprivate readonly targetSelector: string | null;\r\n\tprivate readonly wrapperSelector: string | null;\r\n\tprivate readonly limit: number | null;\r\n\r\n\tprivate target: HTMLElement | null;\r\n\tprivate wrapper: HTMLElement | null;\r\n\tprivate items: HTMLElement[] | null;\r\n\r\n\tprivate onElementClickListener: () => void;\r\n\tprivate onDeleteItemButtonClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: ICopyMarkupOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-copy-markup');\r\n\t\tconst dataOptions: ICopyMarkupOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.targetSelector = concatOptions?.targetSelector || null;\r\n\t\tthis.wrapperSelector = concatOptions?.wrapperSelector || null;\r\n\t\tthis.limit = concatOptions?.limit || null;\r\n\t\tthis.items = [];\r\n\r\n\t\tif (this.targetSelector) this.init();\r\n\t}\r\n\r\n\tprivate elementClick() {\r\n\t\tthis.copy();\r\n\t}\r\n\r\n\tprivate deleteItemButtonClick(item: HTMLElement) {\r\n\t\tthis.delete(item);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsCopyMarkupCollection, this);\r\n\r\n\t\tthis.onElementClickListener = () => this.elementClick();\r\n\r\n\t\tthis.setTarget();\r\n\t\tthis.setWrapper();\r\n\t\tthis.addPredefinedItems();\r\n\r\n\t\tthis.el.addEventListener('click', this.onElementClickListener);\r\n\t}\r\n\r\n\tprivate copy() {\r\n\t\tif (this.limit && this.items.length >= this.limit) return false;\r\n\r\n\t\tif (this.el.hasAttribute('disabled')) this.el.setAttribute('disabled', '');\r\n\r\n\t\tconst copiedElement = this.target.cloneNode(true) as HTMLElement;\r\n\r\n\t\tthis.addToItems(copiedElement);\r\n\r\n\t\tif (this.limit && this.items.length >= this.limit)\r\n\t\t\tthis.el.setAttribute('disabled', 'disabled');\r\n\r\n\t\tthis.fireEvent('copy', copiedElement);\r\n\t\tdispatch('copy.hs.copyMarkup', copiedElement, copiedElement);\r\n\t}\r\n\r\n\tprivate addPredefinedItems() {\r\n\t\tArray.from(this.wrapper.children)\r\n\t\t\t.filter(\r\n\t\t\t\t(el: HTMLElement) => !el.classList.contains('[--ignore-for-count]'),\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tthis.addToItems(el);\r\n\t\t\t});\r\n\r\n\t\tif (this.limit && this.items.length >= this.limit)\r\n\t\t\tthis.el.setAttribute('disabled', 'disabled');\r\n\t}\r\n\r\n\tprivate setTarget() {\r\n\t\tconst target: HTMLElement =\r\n\t\t\ttypeof this.targetSelector === 'string'\r\n\t\t\t\t? (document\r\n\t\t\t\t\t\t.querySelector(this.targetSelector)\r\n\t\t\t\t\t\t.cloneNode(true) as HTMLElement)\r\n\t\t\t\t: ((this.targetSelector as HTMLElement).cloneNode(true) as HTMLElement);\r\n\r\n\t\ttarget.removeAttribute('id');\r\n\r\n\t\tthis.target = target;\r\n\t}\r\n\r\n\tprivate setWrapper() {\r\n\t\tthis.wrapper =\r\n\t\t\ttypeof this.wrapperSelector === 'string'\r\n\t\t\t\t? document.querySelector(this.wrapperSelector)\r\n\t\t\t\t: this.wrapperSelector;\r\n\t}\r\n\r\n\tprivate addToItems(item: HTMLElement) {\r\n\t\tconst deleteItemButton = item.querySelector(\r\n\t\t\t'[data-hs-copy-markup-delete-item]',\r\n\t\t);\r\n\r\n\t\tif (this.wrapper) this.wrapper.append(item);\r\n\t\telse this.el.before(item);\r\n\r\n\t\tif (deleteItemButton) {\r\n\t\t\tthis.onDeleteItemButtonClickListener = () =>\r\n\t\t\t\tthis.deleteItemButtonClick(item);\r\n\r\n\t\t\tdeleteItemButton.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onDeleteItemButtonClickListener,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.items.push(item);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic delete(target: HTMLElement) {\r\n\t\tconst index = this.items.indexOf(target);\r\n\r\n\t\tif (index !== -1) this.items.splice(index, 1);\r\n\r\n\t\ttarget.remove();\r\n\r\n\t\tthis.fireEvent('delete', target);\r\n\t\tdispatch('delete.hs.copyMarkup', target, target);\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\tconst deleteItemButtons = this.wrapper.querySelectorAll(\r\n\t\t\t'[data-hs-copy-markup-delete-item]',\r\n\t\t);\r\n\r\n\t\tthis.el.removeEventListener('click', this.onElementClickListener);\r\n\t\tif (deleteItemButtons.length) {\r\n\t\t\tdeleteItemButtons.forEach((el) =>\r\n\t\t\t\tel.removeEventListener('click', this.onDeleteItemButtonClickListener),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.el.removeAttribute('disabled');\r\n\r\n\t\tthis.target = null;\r\n\t\tthis.wrapper = null;\r\n\t\tthis.items = null;\r\n\r\n\t\twindow.$hsCopyMarkupCollection = window.$hsCopyMarkupCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsCopyMarkupCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsCopyMarkupCollection) window.$hsCopyMarkupCollection = [];\r\n\r\n\t\tif (window.$hsCopyMarkupCollection)\r\n\t\t\twindow.$hsCopyMarkupCollection = window.$hsCopyMarkupCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-copy-markup]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsCopyMarkupCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-copy-markup');\r\n\t\t\t\t\tconst options: ICopyMarkupOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSCopyMarkup(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSCopyMarkup: Function;\r\n\t\t$hsCopyMarkupCollection: ICollectionItem<HSCopyMarkup>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSCopyMarkup.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Copy markup collection:', window.$hsCopyMarkupCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSCopyMarkup = HSCopyMarkup;\r\n}\r\n\r\nexport default HSCopyMarkup;\r\n", "/*\r\n * HSAccordion\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { getClassProperty, stringToBoolean, dispatch, afterTransition } from '../../utils';\r\n\r\nimport {\r\n\tIAccordionOptions,\r\n\tIAccordion,\r\n\tIAccordionTreeView,\r\n\tIAccordionTreeViewStaticOptions,\r\n} from '../accordion/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSAccordion\r\n\textends HSBasePlugin<IAccordionOptions>\r\n\timplements IAccordion {\r\n\tprivate toggle: HTMLElement | null;\r\n\tpublic content: HTMLElement | null;\r\n\tprivate group: HTMLElement | null;\r\n\tprivate isAlwaysOpened: boolean;\r\n\tprivate isToggleStopPropagated: boolean;\r\n\r\n\tprivate onToggleClickListener: (evt: Event) => void;\r\n\r\n\tstatic selectable: IAccordionTreeView[];\r\n\r\n\tconstructor(el: HTMLElement, options?: IAccordionOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.toggle = this.el.querySelector('.hs-accordion-toggle') || null;\r\n\t\tthis.content = this.el.querySelector('.hs-accordion-content') || null;\r\n\t\tthis.update();\r\n\r\n\t\tthis.isToggleStopPropagated = stringToBoolean(\r\n\t\t\tgetClassProperty(this.toggle, '--stop-propagation', 'false') || 'false',\r\n\t\t);\r\n\r\n\t\tif (this.toggle && this.content) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsAccordionCollection, this);\r\n\r\n\t\tthis.onToggleClickListener = (evt: Event) => this.toggleClick(evt);\r\n\r\n\t\tthis.toggle.addEventListener('click', this.onToggleClickListener);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic toggleClick(evt: Event) {\r\n\t\tif (this.isToggleStopPropagated) evt.stopPropagation();\r\n\r\n\t\tif (this.el.classList.contains('active')) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic show() {\r\n\t\tif (\r\n\t\t\tthis.group &&\r\n\t\t\t!this.isAlwaysOpened &&\r\n\t\t\tthis.group.querySelector(':scope > .hs-accordion.active') &&\r\n\t\t\tthis.group.querySelector(':scope > .hs-accordion.active') !== this.el\r\n\t\t) {\r\n\t\t\tconst currentlyOpened = window.$hsAccordionCollection.find(\r\n\t\t\t\t(el) =>\r\n\t\t\t\t\tel.element.el ===\r\n\t\t\t\t\tthis.group.querySelector(':scope > .hs-accordion.active'),\r\n\t\t\t);\r\n\r\n\t\t\tcurrentlyOpened.element.hide();\r\n\t\t}\r\n\r\n\t\tif (this.el.classList.contains('active')) return false;\r\n\r\n\t\tthis.el.classList.add('active');\r\n\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'true';\r\n\r\n\t\tthis.content.style.display = 'block';\r\n\t\tthis.content.style.height = '0';\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\r\n\t\t\tafterTransition(this.content, () => {\r\n\t\t\t\tthis.content.style.display = 'block';\r\n\t\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\t\tdispatch('open.hs.accordion', this.el, this.el);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tif (!this.el.classList.contains('active')) return false;\r\n\r\n\t\tthis.el.classList.remove('active');\r\n\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'false';\r\n\r\n\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = '0';\r\n\t\t});\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.style.display = 'none';\r\n\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\tthis.fireEvent('close', this.el);\r\n\t\t\tdispatch('close.hs.accordion', this.el, this.el);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic update() {\r\n\t\tthis.group = this.el.closest('.hs-accordion-group') || null;\r\n\r\n\t\tif (!this.group) return false;\r\n\r\n\t\tthis.isAlwaysOpened =\r\n\t\t\tthis.group.hasAttribute('data-hs-accordion-always-open') || false;\r\n\r\n\t\twindow.$hsAccordionCollection.map((el) => {\r\n\t\t\tif (el.id === this.el.id) {\r\n\t\t\t\tel.element.group = this.group;\r\n\t\t\t\tel.element.isAlwaysOpened = this.isAlwaysOpened;\r\n\t\t\t}\r\n\r\n\t\t\treturn el;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\tif (HSAccordion?.selectable?.length) {\r\n\t\t\tHSAccordion.selectable.forEach((item) => {\r\n\t\t\t\titem.listeners.forEach(({ el, listener }) => {\r\n\t\t\t\t\tel.removeEventListener('click', listener);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.onToggleClickListener) {\r\n\t\t\tthis.toggle.removeEventListener('click', this.onToggleClickListener);\r\n\t\t}\r\n\r\n\t\tthis.toggle = null;\r\n\t\tthis.content = null;\r\n\t\tthis.group = null;\r\n\r\n\t\tthis.onToggleClickListener = null;\r\n\r\n\t\twindow.$hsAccordionCollection = window.$hsAccordionCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSAccordion | HTMLElement | string): ICollectionItem<HSAccordion> | null {\r\n\t\treturn window.$hsAccordionCollection.find((el) => {\r\n\t\t\tif (target instanceof HSAccordion) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsAccordionCollection) window.$hsAccordionCollection = [];\r\n\r\n\t\tif (window.$hsAccordionCollection) {\r\n\t\t\twindow.$hsAccordionCollection = window.$hsAccordionCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-accordion:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsAccordionCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSAccordion(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsAccordionCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic show(target: HSAccordion | HTMLElement | string) {\r\n\t\tconst instance = HSAccordion.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\tinstance.element.content.style.display !== 'block'\r\n\t\t) instance.element.show();\r\n\t}\r\n\r\n\tstatic hide(target: HSAccordion | HTMLElement | string) {\r\n\t\tconst instance = HSAccordion.findInCollection(target);\r\n\t\tconst style = instance ? window.getComputedStyle(instance.element.content) : null;\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\tstyle.display !== 'none'\r\n\t\t) instance.element.hide();\r\n\t}\r\n\r\n\tstatic onSelectableClick = (\r\n\t\tevt: Event,\r\n\t\titem: IAccordionTreeView,\r\n\t\tel: HTMLElement,\r\n\t) => {\r\n\t\tevt.stopPropagation();\r\n\r\n\t\tHSAccordion.toggleSelected(item, el);\r\n\t};\r\n\r\n\tstatic treeView() {\r\n\t\tif (!document.querySelectorAll('.hs-accordion-treeview-root').length)\r\n\t\t\treturn false;\r\n\r\n\t\tthis.selectable = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-accordion-treeview-root')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tconst data = el?.getAttribute('data-hs-accordion-options');\r\n\t\t\t\tconst options: IAccordionTreeViewStaticOptions = data\r\n\t\t\t\t\t? JSON.parse(data)\r\n\t\t\t\t\t: {};\r\n\r\n\t\t\t\tthis.selectable.push({\r\n\t\t\t\t\tel,\r\n\t\t\t\t\toptions: { ...options },\r\n\t\t\t\t\tlisteners: [],\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\tif (this.selectable.length)\r\n\t\t\tthis.selectable.forEach((item) => {\r\n\t\t\t\tconst { el } = item;\r\n\r\n\t\t\t\tel.querySelectorAll('.hs-accordion-selectable').forEach(\r\n\t\t\t\t\t(_el: HTMLElement) => {\r\n\t\t\t\t\t\tconst listener = (evt: Event) =>\r\n\t\t\t\t\t\t\tthis.onSelectableClick(evt, item, _el);\r\n\r\n\t\t\t\t\t\t_el.addEventListener('click', listener);\r\n\r\n\t\t\t\t\t\titem.listeners.push({ el: _el, listener });\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic toggleSelected(root: IAccordionTreeView, item: HTMLElement) {\r\n\t\tif (item.classList.contains('selected')) item.classList.remove('selected');\r\n\t\telse {\r\n\t\t\troot.el\r\n\t\t\t\t.querySelectorAll('.hs-accordion-selectable')\r\n\t\t\t\t.forEach((el: HTMLElement) => el.classList.remove('selected'));\r\n\t\t\titem.classList.add('selected');\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HSAccordion | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSAccordion.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSAccordion: Function;\r\n\t\t$hsAccordionCollection: ICollectionItem<HSAccordion>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSAccordion.autoInit();\r\n\r\n\tif (document.querySelectorAll('.hs-accordion-treeview-root').length)\r\n\t\tHSAccordion.treeView();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Accordion collection:', window.$hsAccordionCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSAccordion = HSAccordion;\r\n}\r\n\r\nexport default HSAccordion;\r\n", "/*\r\n * HSCarousel\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { classToClassList, debounce, htmlToElement } from '../../utils';\r\n\r\nimport { ICarousel, ICarouselOptions } from './interfaces';\r\nimport { TCarouselOptionsSlidesQty } from './types';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\nimport { BREAKPOINTS } from '../../constants';\r\n\r\nclass HSCarousel extends HSBasePlugin<ICarouselOptions> implements ICarousel {\r\n\tprivate currentIndex: number;\r\n\tprivate readonly loadingClasses: string | string[];\r\n\tprivate readonly dotsItemClasses: string;\r\n\tprivate readonly isAutoHeight: boolean;\r\n\tprivate readonly isAutoPlay: boolean;\r\n\tprivate readonly isCentered: boolean;\r\n\tprivate readonly isDraggable: boolean;\r\n\tprivate readonly isInfiniteLoop: boolean;\r\n\tprivate readonly isRTL: boolean;\r\n\tprivate readonly isSnap: boolean;\r\n\tprivate readonly hasSnapSpacers: boolean;\r\n\tprivate readonly slidesQty: TCarouselOptionsSlidesQty | number;\r\n\tprivate readonly speed: number;\r\n\tprivate readonly updateDelay: number;\r\n\r\n\tprivate readonly loadingClassesRemove: string | string[];\r\n\tprivate readonly loadingClassesAdd: string | string[];\r\n\tprivate readonly afterLoadingClassesAdd: string | string[];\r\n\r\n\tprivate readonly container: HTMLElement | null;\r\n\tprivate readonly inner: HTMLElement | null;\r\n\tprivate readonly slides: NodeListOf<HTMLElement> | undefined[];\r\n\tprivate readonly prev: HTMLElement | null;\r\n\tprivate readonly next: HTMLElement | null;\r\n\tprivate readonly dots: HTMLElement | null;\r\n\tprivate dotsItems: NodeListOf<HTMLElement> | undefined[] | null;\r\n\tprivate readonly info: HTMLElement | null;\r\n\tprivate readonly infoTotal: HTMLElement | null;\r\n\tprivate readonly infoCurrent: HTMLElement | null;\r\n\r\n\tprivate sliderWidth: number;\r\n\tprivate timer: any;\r\n\r\n\t// Drag events' help variables\r\n\tprivate isScrolling: ReturnType<typeof setTimeout>;\r\n\tprivate isDragging: boolean;\r\n\tprivate dragStartX: number | null;\r\n\tprivate initialTranslateX: number | null;\r\n\r\n\t// Touch events' help variables\r\n\tprivate readonly touchX: {\r\n\t\tstart: number;\r\n\t\tend: number;\r\n\t};\r\n\r\n\t// Resize events' help variables\r\n\tprivate resizeContainer: HTMLElement;\r\n\tpublic resizeContainerWidth: number;\r\n\r\n\t// Listeners\r\n\tprivate onPrevClickListener: () => void;\r\n\tprivate onNextClickListener: () => void;\r\n\tprivate onContainerScrollListener: () => void;\r\n\tprivate onElementTouchStartListener: (evt: TouchEvent) => void;\r\n\tprivate onElementTouchEndListener: (evt: TouchEvent) => void;\r\n\tprivate onInnerMouseDownListener: (evt: MouseEvent | TouchEvent) => void;\r\n\tprivate onInnerTouchStartListener: (evt: MouseEvent | TouchEvent) => void;\r\n\tprivate onDocumentMouseMoveListener: (evt: MouseEvent | TouchEvent) => void;\r\n\tprivate onDocumentTouchMoveListener: (evt: MouseEvent | TouchEvent) => void;\r\n\tprivate onDocumentMouseUpListener: () => void;\r\n\tprivate onDocumentTouchEndListener: () => void;\r\n\tprivate onDotClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: ICarouselOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-carousel');\r\n\t\tconst dataOptions: ICarouselOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.currentIndex = concatOptions.currentIndex || 0;\r\n\t\tthis.loadingClasses = concatOptions.loadingClasses\r\n\t\t\t? `${concatOptions.loadingClasses}`.split(',')\r\n\t\t\t: null;\r\n\t\tthis.dotsItemClasses = concatOptions.dotsItemClasses\r\n\t\t\t? concatOptions.dotsItemClasses\r\n\t\t\t: null;\r\n\t\tthis.isAutoHeight =\r\n\t\t\ttypeof concatOptions.isAutoHeight !== 'undefined'\r\n\t\t\t\t? concatOptions.isAutoHeight\r\n\t\t\t\t: false;\r\n\t\tthis.isAutoPlay =\r\n\t\t\ttypeof concatOptions.isAutoPlay !== 'undefined'\r\n\t\t\t\t? concatOptions.isAutoPlay\r\n\t\t\t\t: false;\r\n\t\tthis.isCentered =\r\n\t\t\ttypeof concatOptions.isCentered !== 'undefined'\r\n\t\t\t\t? concatOptions.isCentered\r\n\t\t\t\t: false;\r\n\t\tthis.isDraggable =\r\n\t\t\ttypeof concatOptions.isDraggable !== 'undefined'\r\n\t\t\t\t? concatOptions.isDraggable\r\n\t\t\t\t: false;\r\n\t\tthis.isInfiniteLoop =\r\n\t\t\ttypeof concatOptions.isInfiniteLoop !== 'undefined'\r\n\t\t\t\t? concatOptions.isInfiniteLoop\r\n\t\t\t\t: false;\r\n\t\tthis.isRTL =\r\n\t\t\ttypeof concatOptions.isRTL !== 'undefined' ? concatOptions.isRTL : false;\r\n\t\tthis.isSnap =\r\n\t\t\ttypeof concatOptions.isSnap !== 'undefined'\r\n\t\t\t\t? concatOptions.isSnap\r\n\t\t\t\t: false;\r\n\t\tthis.hasSnapSpacers =\r\n\t\t\ttypeof concatOptions.hasSnapSpacers !== 'undefined'\r\n\t\t\t\t? concatOptions.hasSnapSpacers\r\n\t\t\t\t: true;\r\n\t\tthis.speed = concatOptions.speed || 4000;\r\n\t\tthis.updateDelay = concatOptions.updateDelay || 0;\r\n\t\tthis.slidesQty = concatOptions.slidesQty || 1;\r\n\r\n\t\tthis.loadingClassesRemove = this.loadingClasses?.[0]\r\n\t\t\t? this.loadingClasses[0].split(' ')\r\n\t\t\t: 'opacity-0';\r\n\t\tthis.loadingClassesAdd = this.loadingClasses?.[1]\r\n\t\t\t? this.loadingClasses[1].split(' ')\r\n\t\t\t: '';\r\n\t\tthis.afterLoadingClassesAdd = this.loadingClasses?.[2]\r\n\t\t\t? this.loadingClasses[2].split(' ')\r\n\t\t\t: '';\r\n\r\n\t\tthis.container = this.el.querySelector('.hs-carousel') || null;\r\n\t\tthis.inner = this.el.querySelector('.hs-carousel-body') || null;\r\n\t\tthis.slides = this.el.querySelectorAll('.hs-carousel-slide') || [];\r\n\t\tthis.prev = this.el.querySelector('.hs-carousel-prev') || null;\r\n\t\tthis.next = this.el.querySelector('.hs-carousel-next') || null;\r\n\t\tthis.dots = this.el.querySelector('.hs-carousel-pagination') || null;\r\n\t\tthis.info = this.el.querySelector('.hs-carousel-info') || null;\r\n\t\tthis.infoTotal =\r\n\t\t\tthis?.info?.querySelector('.hs-carousel-info-total') || null;\r\n\t\tthis.infoCurrent =\r\n\t\t\tthis?.info?.querySelector('.hs-carousel-info-current') || null;\r\n\r\n\t\tthis.sliderWidth = this.el.getBoundingClientRect().width;\r\n\r\n\t\t// Drag events' help variables\r\n\t\tthis.isDragging = false;\r\n\t\tthis.dragStartX = null;\r\n\t\tthis.initialTranslateX = null;\r\n\r\n\t\t// Touch events' help variables\r\n\t\tthis.touchX = {\r\n\t\t\tstart: 0,\r\n\t\t\tend: 0,\r\n\t\t};\r\n\r\n\t\t// Resize events' help variables\r\n\t\tthis.resizeContainer = document.querySelector('body');\r\n\t\tthis.resizeContainerWidth = 0;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate setIsSnap() {\r\n\t\tconst containerRect = this.container.getBoundingClientRect();\r\n\t\tconst containerCenter = containerRect.left + containerRect.width / 2;\r\n\r\n\t\tlet closestElement: HTMLElement | null = null;\r\n\t\tlet closestElementIndex: number | null = null;\r\n\t\tlet closestDistance = Infinity;\r\n\r\n\t\tArray.from(this.inner.children).forEach((child: HTMLElement) => {\r\n\t\t\tconst childRect = child.getBoundingClientRect();\r\n\t\t\tconst innerContainerRect = this.inner.getBoundingClientRect();\r\n\t\t\tconst childCenter =\r\n\t\t\t\tchildRect.left + childRect.width / 2 - innerContainerRect.left;\r\n\t\t\tconst distance = Math.abs(\r\n\t\t\t\tcontainerCenter - (innerContainerRect.left + childCenter),\r\n\t\t\t);\r\n\r\n\t\t\tif (distance < closestDistance) {\r\n\t\t\t\tclosestDistance = distance;\r\n\t\t\t\tclosestElement = child;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (closestElement) {\r\n\t\t\tclosestElementIndex = Array.from(this.slides).findIndex(\r\n\t\t\t\t(el) => el === closestElement,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.setIndex(closestElementIndex);\r\n\r\n\t\tif (this.dots) this.setCurrentDot();\r\n\t}\r\n\r\n\tprivate prevClick() {\r\n\t\tthis.goToPrev();\r\n\t\tif (this.isAutoPlay) {\r\n\t\t\tthis.resetTimer();\r\n\t\t\tthis.setTimer();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate nextClick() {\r\n\t\tthis.goToNext();\r\n\t\tif (this.isAutoPlay) {\r\n\t\t\tthis.resetTimer();\r\n\t\t\tthis.setTimer();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate containerScroll() {\r\n\t\tclearTimeout(this.isScrolling);\r\n\r\n\t\tthis.isScrolling = setTimeout(() => {\r\n\t\t\tthis.setIsSnap();\r\n\t\t}, 100);\r\n\t}\r\n\r\n\tprivate elementTouchStart(evt: TouchEvent) {\r\n\t\tthis.touchX.start = evt.changedTouches[0].screenX;\r\n\t}\r\n\r\n\tprivate elementTouchEnd(evt: TouchEvent) {\r\n\t\tthis.touchX.end = evt.changedTouches[0].screenX;\r\n\r\n\t\tthis.detectDirection();\r\n\t}\r\n\r\n\tprivate innerMouseDown(evt: MouseEvent | TouchEvent) {\r\n\t\tthis.handleDragStart(evt);\r\n\t}\r\n\r\n\tprivate innerTouchStart(evt: MouseEvent | TouchEvent) {\r\n\t\tthis.handleDragStart(evt);\r\n\t}\r\n\r\n\tprivate documentMouseMove(evt: MouseEvent | TouchEvent) {\r\n\t\tthis.handleDragMove(evt);\r\n\t}\r\n\r\n\tprivate documentTouchMove(evt: MouseEvent | TouchEvent) {\r\n\t\tthis.handleDragMove(evt);\r\n\t}\r\n\r\n\tprivate documentMouseUp() {\r\n\t\tthis.handleDragEnd();\r\n\t}\r\n\r\n\tprivate documentTouchEnd() {\r\n\t\tthis.handleDragEnd();\r\n\t}\r\n\r\n\tprivate dotClick(ind: number) {\r\n\t\tthis.goTo(ind);\r\n\r\n\t\tif (this.isAutoPlay) {\r\n\t\t\tthis.resetTimer();\r\n\t\t\tthis.setTimer();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsCarouselCollection, this);\r\n\r\n\t\tif (this.inner) {\r\n\t\t\tthis.calculateWidth();\r\n\r\n\t\t\tif (this.isDraggable && !this.isSnap) this.initDragHandling();\r\n\t\t}\r\n\r\n\t\tif (this.prev) {\r\n\t\t\tthis.onPrevClickListener = () => this.prevClick();\r\n\r\n\t\t\tthis.prev.addEventListener('click', this.onPrevClickListener);\r\n\t\t}\r\n\r\n\t\tif (this.next) {\r\n\t\t\tthis.onNextClickListener = () => this.nextClick();\r\n\r\n\t\t\tthis.next.addEventListener('click', this.onNextClickListener);\r\n\t\t}\r\n\r\n\t\tif (this.dots) this.initDots();\r\n\t\tif (this.info) this.buildInfo();\r\n\t\tif (this.slides.length) {\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t\t\tif (this.isAutoPlay) this.autoPlay();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.isSnap) this.setIsSnap();\r\n\r\n\t\t\tif (this.loadingClassesRemove) {\r\n\t\t\t\tif (typeof this.loadingClassesRemove === 'string')\r\n\t\t\t\t\tthis.inner.classList.remove(this.loadingClassesRemove);\r\n\t\t\t\telse this.inner.classList.remove(...this.loadingClassesRemove);\r\n\t\t\t}\r\n\t\t\tif (this.loadingClassesAdd) {\r\n\t\t\t\tif (typeof this.loadingClassesAdd === 'string')\r\n\t\t\t\t\tthis.inner.classList.add(this.loadingClassesAdd);\r\n\t\t\t\telse this.inner.classList.add(...this.loadingClassesAdd);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.inner && this.afterLoadingClassesAdd) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (typeof this.afterLoadingClassesAdd === 'string')\r\n\t\t\t\t\t\tthis.inner.classList.add(this.afterLoadingClassesAdd);\r\n\t\t\t\t\telse this.inner.classList.add(...this.afterLoadingClassesAdd);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 400);\r\n\r\n\t\tif (this.isSnap) {\r\n\t\t\tthis.onContainerScrollListener = () => this.containerScroll();\r\n\r\n\t\t\tthis.container.addEventListener('scroll', this.onContainerScrollListener);\r\n\t\t}\r\n\r\n\t\tthis.el.classList.add('init');\r\n\r\n\t\tif (!this.isSnap) {\r\n\t\t\tthis.onElementTouchStartListener = (evt: TouchEvent) =>\r\n\t\t\t\tthis.elementTouchStart(evt);\r\n\t\t\tthis.onElementTouchEndListener = (evt: TouchEvent) =>\r\n\t\t\t\tthis.elementTouchEnd(evt);\r\n\r\n\t\t\tthis.el.addEventListener('touchstart', this.onElementTouchStartListener);\r\n\r\n\t\t\tthis.el.addEventListener('touchend', this.onElementTouchEndListener);\r\n\t\t}\r\n\r\n\t\tthis.observeResize();\r\n\t}\r\n\r\n\tprivate initDragHandling(): void {\r\n\t\tconst scrollableElement = this.inner;\r\n\r\n\t\tthis.onInnerMouseDownListener = (evt) => this.innerMouseDown(evt);\r\n\t\tthis.onInnerTouchStartListener = (evt) => this.innerTouchStart(evt);\r\n\t\tthis.onDocumentMouseMoveListener = (evt) => this.documentMouseMove(evt);\r\n\t\tthis.onDocumentTouchMoveListener = (evt) => this.documentTouchMove(evt);\r\n\t\tthis.onDocumentMouseUpListener = () => this.documentMouseUp();\r\n\t\tthis.onDocumentTouchEndListener = () => this.documentTouchEnd();\r\n\r\n\t\tif (scrollableElement) {\r\n\t\t\tscrollableElement.addEventListener(\r\n\t\t\t\t'mousedown',\r\n\t\t\t\tthis.onInnerMouseDownListener,\r\n\t\t\t);\r\n\t\t\tscrollableElement.addEventListener(\r\n\t\t\t\t'touchstart',\r\n\t\t\t\tthis.onInnerTouchStartListener,\r\n\t\t\t\t{ passive: true },\r\n\t\t\t);\r\n\r\n\t\t\tdocument.addEventListener('mousemove', this.onDocumentMouseMoveListener);\r\n\t\t\tdocument.addEventListener('touchmove', this.onDocumentTouchMoveListener, {\r\n\t\t\t\tpassive: false,\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('mouseup', this.onDocumentMouseUpListener);\r\n\t\t\tdocument.addEventListener('touchend', this.onDocumentTouchEndListener);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getTranslateXValue(): number {\r\n\t\tconst transformMatrix = window.getComputedStyle(this.inner).transform;\r\n\r\n\t\tif (transformMatrix !== 'none') {\r\n\t\t\tconst matrixValues = transformMatrix\r\n\t\t\t\t.match(/matrix.*\\((.+)\\)/)?.[1]\r\n\t\t\t\t.split(', ');\r\n\r\n\t\t\tif (matrixValues) {\r\n\t\t\t\tlet translateX = parseFloat(\r\n\t\t\t\t\tmatrixValues.length === 6 ? matrixValues[4] : matrixValues[12],\r\n\t\t\t\t);\r\n\t\t\t\tif (this.isRTL) translateX = -translateX;\r\n\r\n\t\t\t\treturn isNaN(translateX) || translateX === 0 ? 0 : -translateX;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tprivate removeClickEventWhileDragging(evt: MouseEvent) {\r\n\t\tevt.preventDefault();\r\n\t}\r\n\r\n\tprivate handleDragStart(evt: MouseEvent | TouchEvent): void {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tthis.isDragging = true;\r\n\t\tthis.dragStartX = this.getEventX(evt);\r\n\t\tthis.initialTranslateX = this.isRTL\r\n\t\t\t? this.getTranslateXValue()\r\n\t\t\t: -this.getTranslateXValue();\r\n\r\n\t\tthis.inner.classList.add('dragging');\r\n\t}\r\n\r\n\tprivate handleDragMove(evt: MouseEvent | TouchEvent): void {\r\n\t\tif (!this.isDragging) return;\r\n\r\n\t\tthis.inner.querySelectorAll('a:not(.prevented-click)').forEach((el) => {\r\n\t\t\tel.classList.add('prevented-click');\r\n\t\t\tel.addEventListener('click', this.removeClickEventWhileDragging);\r\n\t\t});\r\n\r\n\t\tconst currentX = this.getEventX(evt);\r\n\t\tlet deltaX = currentX - this.dragStartX;\r\n\t\tif (this.isRTL) deltaX = -deltaX;\r\n\t\tconst newTranslateX = this.initialTranslateX + deltaX;\r\n\t\tconst newTranslateXFunc = () => {\r\n\t\t\tlet calcWidth =\r\n\t\t\t\t(this.sliderWidth * this.slides.length) / this.getCurrentSlidesQty() -\r\n\t\t\t\tthis.sliderWidth;\r\n\t\t\tconst containerWidth = this.sliderWidth;\r\n\t\t\tconst itemWidth = containerWidth / this.getCurrentSlidesQty();\r\n\t\t\tconst centeredOffset = (containerWidth - itemWidth) / 2;\r\n\t\t\tconst limitStart = this.isCentered ? centeredOffset : 0;\r\n\t\t\tif (this.isCentered) calcWidth = calcWidth + centeredOffset;\r\n\t\t\tconst limitEnd = -calcWidth;\r\n\r\n\t\t\tif (this.isRTL) {\r\n\t\t\t\tif (newTranslateX < limitStart) return limitStart;\r\n\t\t\t\tif (newTranslateX > calcWidth) return limitEnd;\r\n\t\t\t\telse return -newTranslateX;\r\n\t\t\t} else {\r\n\t\t\t\tif (newTranslateX > limitStart) return limitStart;\r\n\t\t\t\telse if (newTranslateX < -calcWidth) return limitEnd;\r\n\t\t\t\telse return newTranslateX;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.setTranslate(newTranslateXFunc());\r\n\t}\r\n\r\n\tprivate handleDragEnd(): void {\r\n\t\tif (!this.isDragging) return;\r\n\t\tthis.isDragging = false;\r\n\r\n\t\tconst containerWidth = this.sliderWidth;\r\n\t\tconst itemWidth = containerWidth / this.getCurrentSlidesQty();\r\n\t\tconst currentTranslateX = this.getTranslateXValue();\r\n\t\tlet closestIndex = Math.round(currentTranslateX / itemWidth);\r\n\t\tif (this.isRTL) closestIndex = Math.round(currentTranslateX / itemWidth);\r\n\r\n\t\tthis.inner.classList.remove('dragging');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.calculateTransform(closestIndex);\r\n\t\t\tif (this.dots) this.setCurrentDot();\r\n\r\n\t\t\tthis.dragStartX = null;\r\n\t\t\tthis.initialTranslateX = null;\r\n\r\n\t\t\tthis.inner.querySelectorAll('a.prevented-click').forEach((el) => {\r\n\t\t\t\tel.classList.remove('prevented-click');\r\n\t\t\t\tel.removeEventListener('click', this.removeClickEventWhileDragging);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate getEventX(event: MouseEvent | TouchEvent): number {\r\n\t\treturn event instanceof MouseEvent\r\n\t\t\t? event.clientX\r\n\t\t\t: event.touches[0].clientX;\r\n\t}\r\n\r\n\tprivate getCurrentSlidesQty(): number {\r\n\t\tif (typeof this.slidesQty === 'object') {\r\n\t\t\tconst windowWidth = document.body.clientWidth;\r\n\t\t\tlet currentRes = 0;\r\n\r\n\t\t\tObject.keys(this.slidesQty).forEach((key: string) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\twindowWidth >=\r\n\t\t\t\t\t(typeof key + 1 === 'number'\r\n\t\t\t\t\t\t? (this.slidesQty as TCarouselOptionsSlidesQty)[key]\r\n\t\t\t\t\t\t: BREAKPOINTS[key])\r\n\t\t\t\t)\r\n\t\t\t\t\tcurrentRes = (this.slidesQty as TCarouselOptionsSlidesQty)[key];\r\n\t\t\t});\r\n\r\n\t\t\treturn currentRes;\r\n\t\t} else {\r\n\t\t\treturn this.slidesQty as number;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildSnapSpacers() {\r\n\t\tconst existingBefore = this.inner.querySelector('.hs-snap-before');\r\n\t\tconst existingAfter = this.inner.querySelector('.hs-snap-after');\r\n\t\tif (existingBefore) existingBefore.remove();\r\n\t\tif (existingAfter) existingAfter.remove();\r\n\r\n\t\tconst containerWidth = this.sliderWidth;\r\n\t\tconst itemWidth = containerWidth / this.getCurrentSlidesQty();\r\n\t\tconst spacerWidth = containerWidth / 2 - itemWidth / 2;\r\n\r\n\t\tconst before = htmlToElement(\r\n\t\t\t`<div class=\"hs-snap-before\" style=\"height: 100%; width: ${spacerWidth}px\"></div>`,\r\n\t\t);\r\n\t\tconst after = htmlToElement(\r\n\t\t\t`<div class=\"hs-snap-after\" style=\"height: 100%; width: ${spacerWidth}px\"></div>`,\r\n\t\t);\r\n\r\n\t\tthis.inner.prepend(before);\r\n\t\tthis.inner.appendChild(after);\r\n\t}\r\n\r\n\tprivate initDots() {\r\n\t\tif (this.el.querySelectorAll('.hs-carousel-pagination-item').length)\r\n\t\t\tthis.setDots();\r\n\t\telse this.buildDots();\r\n\r\n\t\tif (this.dots) this.setCurrentDot();\r\n\t}\r\n\r\n\tprivate buildDots() {\r\n\t\tthis.dots.innerHTML = '';\r\n\r\n\t\tconst slidesQty =\r\n\t\t\t!this.isCentered && this.slidesQty\r\n\t\t\t\t? this.slides.length - (this.getCurrentSlidesQty() - 1)\r\n\t\t\t\t: this.slides.length;\r\n\r\n\t\tfor (let i = 0; i < slidesQty; i++) {\r\n\t\t\tconst singleDot = this.buildSingleDot(i);\r\n\r\n\t\t\tthis.dots.append(singleDot);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setDots() {\r\n\t\tthis.dotsItems = this.dots.querySelectorAll('.hs-carousel-pagination-item');\r\n\r\n\t\tthis.dotsItems.forEach((dot, ind) => {\r\n\t\t\tconst targetIndex = dot.getAttribute(\r\n\t\t\t\t'data-carousel-pagination-item-target',\r\n\t\t\t);\r\n\r\n\t\t\tthis.singleDotEvents(dot, targetIndex ? +targetIndex : ind);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate goToCurrentDot() {\r\n\t\tconst container = this.dots;\r\n\t\tconst containerRect = container.getBoundingClientRect();\r\n\t\tconst containerScrollLeft = container.scrollLeft;\r\n\t\tconst containerScrollTop = container.scrollTop;\r\n\t\tconst containerWidth = container.clientWidth;\r\n\t\tconst containerHeight = container.clientHeight;\r\n\r\n\t\tconst item = this.dotsItems[this.currentIndex];\r\n\t\tconst itemRect = item.getBoundingClientRect();\r\n\t\tconst itemLeft = itemRect.left - containerRect.left + containerScrollLeft;\r\n\t\tconst itemRight = itemLeft + item.clientWidth;\r\n\t\tconst itemTop = itemRect.top - containerRect.top + containerScrollTop;\r\n\t\tconst itemBottom = itemTop + item.clientHeight;\r\n\r\n\t\tlet scrollLeft = containerScrollLeft;\r\n\t\tlet scrollTop = containerScrollTop;\r\n\r\n\t\tif (\r\n\t\t\titemLeft < containerScrollLeft ||\r\n\t\t\titemRight > containerScrollLeft + containerWidth\r\n\t\t) {\r\n\t\t\tscrollLeft = itemRight - containerWidth;\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\titemTop < containerScrollTop ||\r\n\t\t\titemBottom > containerScrollTop + containerHeight\r\n\t\t) {\r\n\t\t\tscrollTop = itemBottom - containerHeight;\r\n\t\t}\r\n\r\n\t\tcontainer.scrollTo({\r\n\t\t\tleft: scrollLeft,\r\n\t\t\ttop: scrollTop,\r\n\t\t\tbehavior: 'smooth',\r\n\t\t});\r\n\t}\r\n\r\n\tprivate buildInfo() {\r\n\t\tif (this.infoTotal) this.setInfoTotal();\r\n\t\tif (this.infoCurrent) this.setInfoCurrent();\r\n\t}\r\n\r\n\tprivate setInfoTotal() {\r\n\t\tthis.infoTotal.innerText = `${this.slides.length}`;\r\n\t}\r\n\r\n\tprivate setInfoCurrent() {\r\n\t\tthis.infoCurrent.innerText = `${this.currentIndex + 1}`;\r\n\t}\r\n\r\n\tprivate buildSingleDot(ind: number) {\r\n\t\tconst singleDot = htmlToElement('<span></span>');\r\n\t\tif (this.dotsItemClasses) classToClassList(this.dotsItemClasses, singleDot);\r\n\r\n\t\tthis.singleDotEvents(singleDot, ind);\r\n\r\n\t\treturn singleDot;\r\n\t}\r\n\r\n\tprivate singleDotEvents(dot: HTMLElement, ind: number) {\r\n\t\tthis.onDotClickListener = () => this.dotClick(ind);\r\n\r\n\t\tdot.addEventListener('click', this.onDotClickListener);\r\n\t}\r\n\r\n\tprivate observeResize() {\r\n\t\tconst resizeObserver = new ResizeObserver(\r\n\t\t\tdebounce((entries: ResizeObserverEntry[]) => {\r\n\t\t\t\tfor (let entry of entries) {\r\n\t\t\t\t\tconst newWidth = entry.contentRect.width;\r\n\r\n\t\t\t\t\tif (newWidth !== this.resizeContainerWidth) {\r\n\t\t\t\t\t\tthis.recalculateWidth();\r\n\t\t\t\t\t\tif (this.dots) this.initDots();\r\n\t\t\t\t\t\tthis.addCurrentClass();\r\n\r\n\t\t\t\t\t\tthis.resizeContainerWidth = newWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this.updateDelay),\r\n\t\t);\r\n\r\n\t\tresizeObserver.observe(this.resizeContainer);\r\n\t}\r\n\r\n\tprivate calculateWidth() {\r\n\t\tif (!this.isSnap)\r\n\t\t\tthis.inner.style.width = `${(this.sliderWidth * this.slides.length) / this.getCurrentSlidesQty()}px`;\r\n\r\n\t\tthis.slides.forEach((el) => {\r\n\t\t\tel.style.width = `${this.sliderWidth / this.getCurrentSlidesQty()}px`;\r\n\t\t});\r\n\r\n\t\tthis.calculateTransform();\r\n\t}\r\n\r\n\tprivate addCurrentClass() {\r\n\t\tif (this.isSnap) {\r\n\t\t\tconst itemsQty = Math.floor(this.getCurrentSlidesQty() / 2);\r\n\r\n\t\t\tfor (let i = 0; i < this.slides.length; i++) {\r\n\t\t\t\tconst slide = this.slides[i];\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\ti <= this.currentIndex + itemsQty &&\r\n\t\t\t\t\ti >= this.currentIndex - itemsQty\r\n\t\t\t\t)\r\n\t\t\t\t\tslide.classList.add('active');\r\n\t\t\t\telse slide.classList.remove('active');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst maxIndex = this.isCentered\r\n\t\t\t\t? this.currentIndex +\r\n\t\t\t\t\tthis.getCurrentSlidesQty() +\r\n\t\t\t\t\t(this.getCurrentSlidesQty() - 1)\r\n\t\t\t\t: this.currentIndex + this.getCurrentSlidesQty();\r\n\r\n\t\t\tthis.slides.forEach((el, i) => {\r\n\t\t\t\tif (i >= this.currentIndex && i < maxIndex) {\r\n\t\t\t\t\tel.classList.add('active');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.classList.remove('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setCurrentDot() {\r\n\t\tconst toggleDotActive = (el: HTMLElement | Element, i: number) => {\r\n\t\t\tlet statement = false;\r\n\t\t\tconst itemsQty = Math.floor(this.getCurrentSlidesQty() / 2);\r\n\r\n\t\t\tif (this.isSnap && !this.hasSnapSpacers) {\r\n\t\t\t\tstatement =\r\n\t\t\t\t\ti ===\r\n\t\t\t\t\t(this.getCurrentSlidesQty() % 2 === 0\r\n\t\t\t\t\t\t? this.currentIndex - itemsQty + 1\r\n\t\t\t\t\t\t: this.currentIndex - itemsQty);\r\n\t\t\t} else statement = i === this.currentIndex;\r\n\r\n\t\t\tif (statement) el.classList.add('active');\r\n\t\t\telse el.classList.remove('active');\r\n\t\t};\r\n\r\n\t\tif (this.dotsItems)\r\n\t\t\tthis.dotsItems.forEach((el, i) => toggleDotActive(el, i));\r\n\t\telse\r\n\t\t\tthis.dots\r\n\t\t\t\t.querySelectorAll(':scope > *')\r\n\t\t\t\t.forEach((el, i) => toggleDotActive(el, i));\r\n\t}\r\n\r\n\tprivate setElementToDisabled(el: HTMLElement) {\r\n\t\tel.classList.add('disabled');\r\n\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\tel.setAttribute('disabled', 'disabled');\r\n\t}\r\n\r\n\tprivate unsetElementToDisabled(el: HTMLElement) {\r\n\t\tel.classList.remove('disabled');\r\n\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\tel.removeAttribute('disabled');\r\n\t}\r\n\r\n\tprivate addDisabledClass() {\r\n\t\tif (!this.prev || !this.next) return false;\r\n\r\n\t\tconst gapValue = getComputedStyle(this.inner).getPropertyValue('gap');\r\n\t\tconst itemsQty = Math.floor(this.getCurrentSlidesQty() / 2);\r\n\t\tlet currentIndex = 0;\r\n\t\tlet maxIndex = 0;\r\n\t\tlet statementPrev = false;\r\n\t\tlet statementNext = false;\r\n\r\n\t\tif (this.isSnap) {\r\n\t\t\tcurrentIndex = this.currentIndex;\r\n\t\t\tmaxIndex = this.hasSnapSpacers\r\n\t\t\t\t? this.slides.length - 1\r\n\t\t\t\t: this.slides.length - itemsQty - 1;\r\n\t\t\tstatementPrev = this.hasSnapSpacers\r\n\t\t\t\t? currentIndex === 0\r\n\t\t\t\t: this.getCurrentSlidesQty() % 2 === 0\r\n\t\t\t\t\t? currentIndex - itemsQty < 0\r\n\t\t\t\t\t: currentIndex - itemsQty === 0;\r\n\t\t\tstatementNext =\r\n\t\t\t\tcurrentIndex >= maxIndex &&\r\n\t\t\t\tthis.container.scrollLeft +\r\n\t\t\t\t\tthis.container.clientWidth +\r\n\t\t\t\t\t(parseFloat(gapValue) || 0) >=\r\n\t\t\t\t\tthis.container.scrollWidth;\r\n\t\t} else {\r\n\t\t\tcurrentIndex = this.currentIndex;\r\n\t\t\tmaxIndex = this.isCentered\r\n\t\t\t\t? this.slides.length -\r\n\t\t\t\t\tthis.getCurrentSlidesQty() +\r\n\t\t\t\t\t(this.getCurrentSlidesQty() - 1)\r\n\t\t\t\t: this.slides.length - this.getCurrentSlidesQty();\r\n\t\t\tstatementPrev = currentIndex === 0;\r\n\t\t\tstatementNext = currentIndex >= maxIndex;\r\n\t\t}\r\n\r\n\t\tif (statementPrev) {\r\n\t\t\tthis.unsetElementToDisabled(this.next);\r\n\t\t\tthis.setElementToDisabled(this.prev);\r\n\t\t} else if (statementNext) {\r\n\t\t\tthis.unsetElementToDisabled(this.prev);\r\n\t\t\tthis.setElementToDisabled(this.next);\r\n\t\t} else {\r\n\t\t\tthis.unsetElementToDisabled(this.prev);\r\n\t\t\tthis.unsetElementToDisabled(this.next);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate autoPlay() {\r\n\t\tthis.setTimer();\r\n\t}\r\n\r\n\tprivate setTimer() {\r\n\t\tthis.timer = setInterval(() => {\r\n\t\t\tif (this.currentIndex === this.slides.length - 1) this.goTo(0);\r\n\t\t\telse this.goToNext();\r\n\t\t}, this.speed);\r\n\t}\r\n\r\n\tprivate resetTimer() {\r\n\t\tclearInterval(this.timer);\r\n\t}\r\n\r\n\tprivate detectDirection() {\r\n\t\tconst { start, end } = this.touchX;\r\n\r\n\t\tif (end < start) this.goToNext();\r\n\t\tif (end > start) this.goToPrev();\r\n\t}\r\n\r\n\tprivate calculateTransform(currentIdx?: number | undefined): void {\r\n\t\tif (currentIdx !== undefined) this.currentIndex = currentIdx;\r\n\t\tif (\r\n\t\t\tthis.currentIndex > this.slides.length - this.getCurrentSlidesQty() &&\r\n\t\t\t!this.isCentered\r\n\t\t)\r\n\t\t\tthis.currentIndex = this.slides.length - this.getCurrentSlidesQty();\r\n\r\n\t\tconst containerWidth = this.sliderWidth;\r\n\t\tconst itemWidth = containerWidth / this.getCurrentSlidesQty();\r\n\t\tlet translateX = this.currentIndex * itemWidth;\r\n\r\n\t\t// TODO:: need to test auto scrolling to the end if last on resize\r\n\t\tif (this.isSnap && !this.isCentered) {\r\n\t\t\tif (\r\n\t\t\t\tthis.container.scrollLeft < containerWidth &&\r\n\t\t\t\tthis.container.scrollLeft + itemWidth / 2 > containerWidth\r\n\t\t\t)\r\n\t\t\t\tthis.container.scrollLeft = this.container.scrollWidth;\r\n\t\t}\r\n\r\n\t\tif (this.isCentered && !this.isSnap) {\r\n\t\t\tconst centeredOffset = (containerWidth - itemWidth) / 2;\r\n\r\n\t\t\tif (this.currentIndex === 0) translateX = -centeredOffset;\r\n\t\t\telse if (\r\n\t\t\t\tthis.currentIndex >=\r\n\t\t\t\tthis.slides.length -\r\n\t\t\t\t\tthis.getCurrentSlidesQty() +\r\n\t\t\t\t\t(this.getCurrentSlidesQty() - 1)\r\n\t\t\t) {\r\n\t\t\t\tconst totalSlideWidth = this.slides.length * itemWidth;\r\n\r\n\t\t\t\ttranslateX = totalSlideWidth - containerWidth + centeredOffset;\r\n\t\t\t} else translateX = this.currentIndex * itemWidth - centeredOffset;\r\n\t\t}\r\n\r\n\t\tif (!this.isSnap)\r\n\t\t\tthis.inner.style.transform = this.isRTL\r\n\t\t\t\t? `translate(${translateX}px, 0px)`\r\n\t\t\t\t: `translate(${-translateX}px, 0px)`;\r\n\r\n\t\tif (this.isAutoHeight)\r\n\t\t\tthis.inner.style.height = `${this.slides[this.currentIndex].clientHeight}px`;\r\n\r\n\t\tif (this.dotsItems) this.goToCurrentDot();\r\n\r\n\t\tthis.addCurrentClass();\r\n\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t\tif (this.isSnap && this.hasSnapSpacers) this.buildSnapSpacers();\r\n\t\tif (this.infoCurrent) this.setInfoCurrent();\r\n\t}\r\n\r\n\tprivate setTranslate(val: number) {\r\n\t\tthis.inner.style.transform = this.isRTL\r\n\t\t\t? `translate(${-val}px, 0px)`\r\n\t\t\t: `translate(${val}px, 0px)`;\r\n\t}\r\n\r\n\tprivate setIndex(i: number) {\r\n\t\tthis.currentIndex = i;\r\n\r\n\t\tthis.addCurrentClass();\r\n\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic recalculateWidth() {\r\n\t\tthis.sliderWidth = this.inner.parentElement.getBoundingClientRect().width;\r\n\r\n\t\tthis.calculateWidth();\r\n\r\n\t\tif (\r\n\t\t\tthis.sliderWidth !==\r\n\t\t\tthis.inner.parentElement.getBoundingClientRect().width\r\n\t\t)\r\n\t\t\tthis.recalculateWidth();\r\n\t}\r\n\r\n\tpublic goToPrev() {\r\n\t\tif (this.currentIndex > 0) {\r\n\t\t\tthis.currentIndex--;\r\n\t\t} else {\r\n\t\t\tthis.currentIndex = this.slides.length - this.getCurrentSlidesQty();\r\n\t\t}\r\n\r\n\t\tif (this.isSnap) {\r\n\t\t\tconst itemWidth = this.sliderWidth / this.getCurrentSlidesQty();\r\n\r\n\t\t\tthis.container.scrollBy({\r\n\t\t\t\tleft: Math.max(-this.container.scrollLeft, -itemWidth),\r\n\t\t\t\tbehavior: 'smooth',\r\n\t\t\t});\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t\t} else this.calculateTransform();\r\n\r\n\t\tif (this.dots) this.setCurrentDot();\r\n\t}\r\n\r\n\tpublic goToNext() {\r\n\t\tconst statement = this.isCentered\r\n\t\t\t? this.slides.length -\r\n\t\t\t\tthis.getCurrentSlidesQty() +\r\n\t\t\t\t(this.getCurrentSlidesQty() - 1)\r\n\t\t\t: this.slides.length - this.getCurrentSlidesQty();\r\n\r\n\t\tif (this.currentIndex < statement) {\r\n\t\t\tthis.currentIndex++;\r\n\t\t} else {\r\n\t\t\tthis.currentIndex = 0;\r\n\t\t}\r\n\r\n\t\tif (this.isSnap) {\r\n\t\t\tconst itemWidth = this.sliderWidth / this.getCurrentSlidesQty();\r\n\t\t\tconst maxScrollLeft =\r\n\t\t\t\tthis.container.scrollWidth - this.container.clientWidth;\r\n\r\n\t\t\tthis.container.scrollBy({\r\n\t\t\t\tleft: Math.min(itemWidth, maxScrollLeft - this.container.scrollLeft),\r\n\t\t\t\tbehavior: 'smooth',\r\n\t\t\t});\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t\t} else this.calculateTransform();\r\n\r\n\t\tif (this.dots) this.setCurrentDot();\r\n\t}\r\n\r\n\tpublic goTo(i: number) {\r\n\t\tconst currentIndex = this.currentIndex;\r\n\t\tthis.currentIndex = i;\r\n\r\n\t\tif (this.isSnap) {\r\n\t\t\tconst itemWidth = this.sliderWidth / this.getCurrentSlidesQty();\r\n\t\t\tconst index =\r\n\t\t\t\tcurrentIndex > this.currentIndex\r\n\t\t\t\t\t? currentIndex - this.currentIndex\r\n\t\t\t\t\t: this.currentIndex - currentIndex;\r\n\t\t\tconst width =\r\n\t\t\t\tcurrentIndex > this.currentIndex\r\n\t\t\t\t\t? -(itemWidth * index)\r\n\t\t\t\t\t: itemWidth * index;\r\n\r\n\t\t\tthis.container.scrollBy({\r\n\t\t\t\tleft: width,\r\n\t\t\t\tbehavior: 'smooth',\r\n\t\t\t});\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t\t} else this.calculateTransform();\r\n\r\n\t\tif (this.dots) this.setCurrentDot();\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tif (this.loadingClassesAdd) {\r\n\t\t\tif (typeof this.loadingClassesAdd === 'string')\r\n\t\t\t\tthis.inner.classList.remove(this.loadingClassesAdd);\r\n\t\t\telse this.inner.classList.remove(...this.loadingClassesAdd);\r\n\t\t}\r\n\t\tif (this.inner && this.afterLoadingClassesAdd) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (typeof this.afterLoadingClassesAdd === 'string')\r\n\t\t\t\t\tthis.inner.classList.remove(this.afterLoadingClassesAdd);\r\n\t\t\t\telse this.inner.classList.remove(...this.afterLoadingClassesAdd);\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.el.classList.remove('init');\r\n\t\tthis.inner.classList.remove('dragging');\r\n\t\tthis.slides.forEach((el) => el.classList.remove('active'));\r\n\t\tif (this?.dotsItems?.length)\r\n\t\t\tthis.dotsItems.forEach((el) => el.classList.remove('active'));\r\n\t\tthis.prev.classList.remove('disabled');\r\n\t\tthis.next.classList.remove('disabled');\r\n\r\n\t\t// Remove styles\r\n\t\tthis.inner.style.width = '';\r\n\t\tthis.slides.forEach((el) => (el.style.width = ''));\r\n\t\tif (!this.isSnap) this.inner.style.transform = '';\r\n\t\tif (this.isAutoHeight) this.inner.style.height = '';\r\n\r\n\t\t// Remove listeners\r\n\t\tthis.prev.removeEventListener('click', this.onPrevClickListener);\r\n\t\tthis.next.removeEventListener('click', this.onNextClickListener);\r\n\t\tthis.container.removeEventListener(\r\n\t\t\t'scroll',\r\n\t\t\tthis.onContainerScrollListener,\r\n\t\t);\r\n\t\tthis.el.removeEventListener('touchstart', this.onElementTouchStartListener);\r\n\t\tthis.el.removeEventListener('touchend', this.onElementTouchEndListener);\r\n\t\tthis.inner.removeEventListener('mousedown', this.onInnerMouseDownListener);\r\n\t\tthis.inner.removeEventListener(\r\n\t\t\t'touchstart',\r\n\t\t\tthis.onInnerTouchStartListener,\r\n\t\t);\r\n\t\tdocument.removeEventListener('mousemove', this.onDocumentMouseMoveListener);\r\n\t\tdocument.removeEventListener('touchmove', this.onDocumentTouchMoveListener);\r\n\t\tdocument.removeEventListener('mouseup', this.onDocumentMouseUpListener);\r\n\t\tdocument.removeEventListener('touchend', this.onDocumentTouchEndListener);\r\n\t\tthis.inner.querySelectorAll('a:not(.prevented-click)').forEach((el) => {\r\n\t\t\tel.classList.remove('prevented-click');\r\n\t\t\tel.removeEventListener('click', this.removeClickEventWhileDragging);\r\n\t\t});\r\n\t\tif (\r\n\t\t\tthis?.dotsItems?.length ||\r\n\t\t\tthis.dots.querySelectorAll(':scope > *').length\r\n\t\t) {\r\n\t\t\tconst dots = this?.dotsItems || this.dots.querySelectorAll(':scope > *');\r\n\r\n\t\t\tdots.forEach((el) =>\r\n\t\t\t\tel.removeEventListener('click', this.onDotClickListener),\r\n\t\t\t);\r\n\r\n\t\t\tthis.dots.innerHTML = null;\r\n\t\t}\r\n\r\n\t\t// Remove elements\r\n\t\tthis.inner.querySelector('.hs-snap-before').remove();\r\n\t\tthis.inner.querySelector('.hs-snap-after').remove();\r\n\r\n\t\tthis.dotsItems = null;\r\n\r\n\t\tthis.isDragging = false;\r\n\t\tthis.dragStartX = null;\r\n\t\tthis.initialTranslateX = null;\r\n\r\n\t\twindow.$hsCarouselCollection = window.$hsCarouselCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsCarouselCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsCarouselCollection) window.$hsCarouselCollection = [];\r\n\r\n\t\tif (window.$hsCarouselCollection)\r\n\t\t\twindow.$hsCarouselCollection = window.$hsCarouselCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-carousel]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsCarouselCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSCarousel(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSCarousel: Function;\r\n\t\t$hsCarouselCollection: ICollectionItem<HSCarousel>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSCarousel.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Carousel collection:', window.$hsCarouselCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSCarousel = HSCarousel;\r\n}\r\n\r\nexport default HSCarousel;\r\n", "export const POSITIONS: any = {\r\n\tauto: 'auto',\r\n\t'auto-start': 'auto-start',\r\n\t'auto-end': 'auto-end',\r\n\ttop: 'top',\r\n\t'top-left': 'top-start',\r\n\t'top-right': 'top-end',\r\n\tbottom: 'bottom',\r\n\t'bottom-left': 'bottom-start',\r\n\t'bottom-right': 'bottom-end',\r\n\tright: 'right',\r\n\t'right-start': 'right-start',\r\n\t'right-end': 'right-end',\r\n\tleft: 'left',\r\n\t'left-start': 'left-start',\r\n\t'left-end': 'left-end',\r\n};\r\n\r\nexport const DROPDOWN_ACCESSIBILITY_KEY_SET = [\r\n\t'Escape',\r\n\t'ArrowUp',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'ArrowLeft',\r\n\t'Home',\r\n\t'End',\r\n\t'Enter',\r\n];\r\n\r\nexport const OVERLAY_ACCESSIBILITY_KEY_SET = ['Escape', 'Tab'];\r\n\r\nexport const TABS_ACCESSIBILITY_KEY_SET = [\r\n\t'ArrowUp',\r\n\t'ArrowLeft',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'Home',\r\n\t'End',\r\n];\r\n\r\nexport const SELECT_ACCESSIBILITY_KEY_SET = [\r\n\t'ArrowUp',\r\n\t'ArrowLeft',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'Home',\r\n\t'End',\r\n\t'Escape',\r\n\t'Enter',\r\n\t'Space',\r\n\t'Tab',\r\n];\r\n\r\nexport const COMBO_BOX_ACCESSIBILITY_KEY_SET = [\r\n\t'ArrowUp',\r\n\t'ArrowLeft',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'Home',\r\n\t'End',\r\n\t'Escape',\r\n\t'Enter',\r\n];\r\n\r\nexport const BREAKPOINTS: any = {\r\n\txs: 0,\r\n\tsm: 640,\r\n\tmd: 768,\r\n\tlg: 1024,\r\n\txl: 1280,\r\n\t'2xl': 1536,\r\n};\r\n", "/*\r\n * HSCollapse\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch, afterTransition } from '../../utils';\r\n\r\nimport { ICollapse } from '../collapse/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSCollapse extends HSBasePlugin<{}> implements ICollapse {\r\n\tprivate readonly contentId: string | null;\r\n\tpublic content: HTMLElement | null;\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tprivate onElementClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.contentId = this.el.dataset.hsCollapse;\r\n\t\tthis.content = document.querySelector(this.contentId);\r\n\t\tthis.animationInProcess = false;\r\n\r\n\t\tif (this.content) this.init();\r\n\t}\r\n\r\n\tprivate elementClick() {\r\n\t\tif (this.content.classList.contains('open')) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsCollapseCollection, this);\r\n\r\n\t\tthis.onElementClickListener = () => this.elementClick();\r\n\r\n\t\tif (this?.el?.ariaExpanded) {\r\n\t\t\tif (this.el.classList.contains('open')) this.el.ariaExpanded = 'true';\r\n\t\t\telse this.el.ariaExpanded = 'false';\r\n\t\t}\r\n\r\n\t\tthis.el.addEventListener('click', this.onElementClickListener);\r\n\t}\r\n\r\n\tprivate hideAllMegaMenuItems() {\r\n\t\tthis.content\r\n\t\t\t.querySelectorAll('.hs-mega-menu-content.block')\r\n\t\t\t.forEach((el) => {\r\n\t\t\t\tel.classList.remove('block');\r\n\t\t\t\tel.classList.add('hidden');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tif (this.animationInProcess || this.el.classList.contains('open'))\r\n\t\t\treturn false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.el.classList.add('open');\r\n\t\tif (this?.el?.ariaExpanded) this.el.ariaExpanded = 'true';\r\n\t\tthis.content.classList.add('open');\r\n\t\tthis.content.classList.remove('hidden');\r\n\r\n\t\tthis.content.style.height = '0';\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\r\n\t\t\tthis.fireEvent('beforeOpen', this.el);\r\n\t\t\tdispatch('beforeOpen.hs.collapse', this.el, this.el);\r\n\t\t});\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\tdispatch('open.hs.collapse', this.el, this.el);\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tif (this.animationInProcess || !this.el.classList.contains('open'))\r\n\t\t\treturn false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.el.classList.remove('open');\r\n\t\tif (this?.el?.ariaExpanded) this.el.ariaExpanded = 'false';\r\n\r\n\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = '0';\r\n\t\t});\r\n\r\n\t\tthis.content.classList.remove('open');\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.classList.add('hidden');\r\n\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\tthis.fireEvent('hide', this.el);\r\n\t\t\tdispatch('hide.hs.collapse', this.el, this.el);\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tif (this.content.querySelectorAll('.hs-mega-menu-content.block').length) {\r\n\t\t\tthis.hideAllMegaMenuItems();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\tthis.el.removeEventListener('click', this.onElementClickListener);\r\n\r\n\t\tthis.content = null;\r\n\t\tthis.animationInProcess = false;\r\n\r\n\t\twindow.$hsCollapseCollection = window.$hsCollapseCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSCollapse | HTMLElement | string): ICollectionItem<HSCollapse> | null {\r\n\t\treturn window.$hsCollapseCollection.find((el) => {\r\n\t\t\tif (target instanceof HSCollapse) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsCollapseCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsCollapseCollection) window.$hsCollapseCollection = [];\r\n\r\n\t\tif (window.$hsCollapseCollection)\r\n\t\t\twindow.$hsCollapseCollection = window.$hsCollapseCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-collapse-toggle:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsCollapseCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSCollapse(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic show(target: HSCollapse | HTMLElement | string) {\r\n\t\tconst instance = HSCollapse.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\tinstance.element.content.classList.contains('hidden')\r\n\t\t) instance.element.show();\r\n\t}\r\n\r\n\tstatic hide(target: HSCollapse | HTMLElement | string) {\r\n\t\tconst instance = HSCollapse.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\t!instance.element.content.classList.contains('hidden')\r\n\t\t) instance.element.hide();\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HSCollapse | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSCollapse.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSCollapse: Function;\r\n\t\t$hsCollapseCollection: ICollectionItem<HSCollapse>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSCollapse.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Collapse collection:', window.$hsCollapseCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSCollapse = HSCollapse;\r\n}\r\n\r\nexport default HSCollapse;\r\n", "/*\r\n * HSComboBox\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport {\r\n\tisEnoughSpace,\r\n\tdebounce,\r\n\tdispatch,\r\n\tafterTransition,\r\n\thtmlToElement,\r\n\tisParentOrElementHidden,\r\n} from '../../utils';\r\n\r\nimport {\r\n\tIComboBox,\r\n\tIComboBoxOptions,\r\n\tIComboBoxItemAttr,\r\n} from '../combobox/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { COMBO_BOX_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSComboBox extends HSBasePlugin<IComboBoxOptions> implements IComboBox {\r\n\tgap: number;\r\n\tviewport: string | HTMLElement | null;\r\n\tpreventVisibility: boolean;\r\n\tminSearchLength: number;\r\n\tapiUrl: string | null;\r\n\tapiDataPart: string | null;\r\n\tapiQuery: string | null;\r\n\tapiSearchQuery: string | null;\r\n\tapiSearchPath: string | null;\r\n\tapiSearchDefaultPath: string | null;\r\n\tapiHeaders: {};\r\n\tapiGroupField: string | null;\r\n\toutputItemTemplate: string | null;\r\n\toutputEmptyTemplate: string | null;\r\n\toutputLoaderTemplate: string | null;\r\n\tgroupingType: 'default' | 'tabs' | null;\r\n\tgroupingTitleTemplate: string | null;\r\n\ttabsWrapperTemplate: string | null;\r\n\tpreventSelection: boolean;\r\n\tpreventAutoPosition: boolean;\r\n\tisOpenOnFocus: boolean;\r\n\r\n\tprivate readonly input: HTMLInputElement | null;\r\n\tprivate readonly output: HTMLElement | null;\r\n\tprivate readonly itemsWrapper: HTMLElement | null;\r\n\tprivate items: HTMLElement[] | [];\r\n\tprivate tabs: HTMLElement[] | [];\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tprivate readonly toggleClose: HTMLElement | null;\r\n\tprivate readonly toggleOpen: HTMLElement | null;\r\n\tprivate outputPlaceholder: HTMLElement | null;\r\n\tprivate outputLoader: HTMLElement | null;\r\n\r\n\tprivate value: string | null;\r\n\tprivate selected: string | null;\r\n\tprivate currentData: {} | {}[] | null;\r\n\tprivate groups: any[] | null;\r\n\tprivate selectedGroup: string | null;\r\n\r\n\tisOpened: boolean;\r\n\tisCurrent: boolean;\r\n\tprivate animationInProcess: boolean;\r\n\tprivate isSearchLengthExceeded = false;\r\n\r\n\tprivate onInputFocusListener: () => void;\r\n\tprivate onInputInputListener: (evt: InputEvent) => void;\r\n\tprivate onToggleClickListener: () => void;\r\n\tprivate onToggleCloseClickListener: () => void;\r\n\tprivate onToggleOpenClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IComboBoxOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\t// Data parameters\r\n\t\tconst data = el.getAttribute('data-hs-combo-box');\r\n\t\tconst dataOptions: IComboBoxOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.gap = 5;\r\n\t\tthis.viewport =\r\n\t\t\t(typeof concatOptions?.viewport === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions?.viewport) as HTMLElement)\r\n\t\t\t\t: concatOptions?.viewport) ?? null;\r\n\t\tthis.preventVisibility = concatOptions?.preventVisibility ?? false;\r\n\t\tthis.minSearchLength = concatOptions?.minSearchLength ?? 0;\r\n\t\tthis.apiUrl = concatOptions?.apiUrl ?? null;\r\n\t\tthis.apiDataPart = concatOptions?.apiDataPart ?? null;\r\n\t\tthis.apiQuery = concatOptions?.apiQuery ?? null;\r\n\t\tthis.apiSearchQuery = concatOptions?.apiSearchQuery ?? null;\r\n\t\tthis.apiSearchPath = concatOptions?.apiSearchPath ?? null;\r\n\t\tthis.apiSearchDefaultPath = concatOptions?.apiSearchDefaultPath ?? null;\r\n\t\tthis.apiHeaders = concatOptions?.apiHeaders ?? {};\r\n\t\tthis.apiGroupField = concatOptions?.apiGroupField ?? null;\r\n\t\tthis.outputItemTemplate =\r\n\t\t\tconcatOptions?.outputItemTemplate ??\r\n\t\t\t`<div class=\"cursor-pointer py-2 px-4 w-full text-sm text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800\" data-hs-combo-box-output-item>\r\n\t\t\t\t<div class=\"flex justify-between items-center w-full\">\r\n\t\t\t\t\t<span data-hs-combo-box-search-text></span>\r\n\t\t\t\t\t<span class=\"hidden hs-combo-box-selected:block\">\r\n\t\t\t\t\t\t<svg class=\"shrink-0 size-3.5 text-blue-600 dark:text-blue-500\" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n\t\t\t\t\t\t\t<polyline points=\"20 6 9 17 4 12\"></polyline>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`;\r\n\t\tthis.outputEmptyTemplate =\r\n\t\t\tconcatOptions?.outputEmptyTemplate ??\r\n\t\t\t`<div class=\"py-2 px-4 w-full text-sm text-gray-800 rounded-lg dark:bg-neutral-900 dark:text-neutral-200\">Nothing found...</div>`;\r\n\t\tthis.outputLoaderTemplate =\r\n\t\t\tconcatOptions?.outputLoaderTemplate ??\r\n\t\t\t`<div class=\"flex justify-center items-center py-2 px-4 text-sm text-gray-800 rounded-lg bg-white dark:bg-neutral-900 dark:text-neutral-200\">\r\n\t\t\t\t<div class=\"animate-spin inline-block size-6 border-[3px] border-current border-t-transparent text-blue-600 rounded-full dark:text-blue-500\" role=\"status\" aria-label=\"loading\">\r\n\t\t\t\t\t<span class=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`;\r\n\t\tthis.groupingType = concatOptions?.groupingType ?? null;\r\n\t\tthis.groupingTitleTemplate =\r\n\t\t\tconcatOptions?.groupingTitleTemplate ??\r\n\t\t\t(this.groupingType === 'default'\r\n\t\t\t\t? `<div class=\"block mb-1 text-xs font-semibold uppercase text-blue-600 dark:text-blue-500\"></div>`\r\n\t\t\t\t: `<button type=\"button\" class=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold whitespace-nowrap rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none\"></button>`);\r\n\t\tthis.tabsWrapperTemplate =\r\n\t\t\tconcatOptions?.tabsWrapperTemplate ??\r\n\t\t\t`<div class=\"overflow-x-auto p-4\"></div>`;\r\n\t\tthis.preventSelection = concatOptions?.preventSelection ?? false;\r\n\t\tthis.preventAutoPosition = concatOptions?.preventAutoPosition ?? false;\r\n\t\tthis.isOpenOnFocus = concatOptions?.isOpenOnFocus ?? false;\r\n\r\n\t\t// Internal parameters\r\n\t\tthis.input = this.el.querySelector('[data-hs-combo-box-input]') ?? null;\r\n\t\tthis.output = this.el.querySelector('[data-hs-combo-box-output]') ?? null;\r\n\t\tthis.itemsWrapper =\r\n\t\t\tthis.el.querySelector('[data-hs-combo-box-output-items-wrapper]') ?? null;\r\n\t\tthis.items =\r\n\t\t\tArray.from(this.el.querySelectorAll('[data-hs-combo-box-output-item]')) ??\r\n\t\t\t[];\r\n\t\tthis.tabs = [];\r\n\t\tthis.toggle = this.el.querySelector('[data-hs-combo-box-toggle]') ?? null;\r\n\t\tthis.toggleClose =\r\n\t\t\tthis.el.querySelector('[data-hs-combo-box-close]') ?? null;\r\n\t\tthis.toggleOpen = this.el.querySelector('[data-hs-combo-box-open]') ?? null;\r\n\t\tthis.outputPlaceholder = null;\r\n\r\n\t\tthis.selected = this.value =\r\n\t\t\t(this.el.querySelector('[data-hs-combo-box-input]') as HTMLInputElement)\r\n\t\t\t\t.value ?? '';\r\n\t\tthis.currentData = null;\r\n\t\tthis.isOpened = false;\r\n\t\tthis.isCurrent = false;\r\n\t\tthis.animationInProcess = false;\r\n\t\tthis.selectedGroup = 'all';\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate inputFocus() {\r\n\t\tif (!this.isOpened) {\r\n\t\t\tthis.setResultAndRender();\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate inputInput(evt: InputEvent) {\r\n\t\tconst val = (evt.target as HTMLInputElement).value.trim();\r\n\r\n\t\tif (val.length <= this.minSearchLength) this.setResultAndRender('');\r\n\t\telse this.setResultAndRender(val);\r\n\r\n\t\tif (this.input.value !== '') this.el.classList.add('has-value');\r\n\t\telse this.el.classList.remove('has-value');\r\n\r\n\t\tif (!this.isOpened) this.open();\r\n\t}\r\n\r\n\tprivate toggleClick() {\r\n\t\tif (this.isOpened) this.close();\r\n\t\telse this.open(this.toggle.getAttribute('data-hs-combo-box-toggle'));\r\n\t}\r\n\r\n\tprivate toggleCloseClick() {\r\n\t\tthis.close();\r\n\t}\r\n\r\n\tprivate toggleOpenClick() {\r\n\t\tthis.open();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsComboBoxCollection, this);\r\n\r\n\t\tthis.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.buildInput();\r\n\t\tif (this.groupingType) this.setGroups();\r\n\t\tthis.buildItems();\r\n\t\tif (this.preventVisibility) {\r\n\t\t\t// TODO:: test the plugin while the line below is commented.\r\n\t\t\t// this.isOpened = true;\r\n\r\n\t\t\tif (!this.preventAutoPosition) this.recalculateDirection();\r\n\t\t}\r\n\t\tif (this.toggle) this.buildToggle();\r\n\t\tif (this.toggleClose) this.buildToggleClose();\r\n\t\tif (this.toggleOpen) this.buildToggleOpen();\r\n\t}\r\n\r\n\tprivate getNestedProperty<T>(obj: T, path: string): any {\r\n\t\treturn path.split('.').reduce((acc: any, key: string) => acc && acc[key], obj);\r\n\t}\r\n\r\n\tprivate setValue(val: string, data: {} | null = null) {\r\n\t\tthis.selected = val;\r\n\t\tthis.value = val;\r\n\t\tthis.input.value = val;\r\n\r\n\t\tif (data) this.currentData = data;\r\n\r\n\t\tthis.fireEvent('select', this.currentData);\r\n\t\tdispatch('select.hs.combobox', this.el, this.currentData);\r\n\t}\r\n\r\n\tprivate setValueAndOpen(val: string) {\r\n\t\tthis.value = val;\r\n\r\n\t\tif (this.items.length) {\r\n\t\t\tthis.setItemsVisibility();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setValueAndClear(val: string | null, data: {} | null = null) {\r\n\t\tif (val) this.setValue(val, data);\r\n\t\telse this.setValue(this.selected, data);\r\n\r\n\t\tif (this.outputPlaceholder) this.destroyOutputPlaceholder();\r\n\t}\r\n\r\n\tprivate setSelectedByValue(val: string[]) {\r\n\t\tthis.items.forEach((el) => {\r\n\t\t\tif (this.isTextExists(el, val))\r\n\t\t\t\t(el as HTMLElement).classList.add('selected');\r\n\t\t\telse (el as HTMLElement).classList.remove('selected');\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setResultAndRender(value = '') {\r\n\t\t// TODO:: test the plugin with below code added.\r\n\t\tlet _value = this.preventVisibility ? this.input.value : value;\r\n\r\n\t\tthis.setResults(_value);\r\n\r\n\t\tif (this.apiSearchQuery || this.apiSearchPath || this.apiSearchDefaultPath) this.itemsFromJson();\r\n\r\n\t\tif (_value === '') this.isSearchLengthExceeded = true;\r\n\t\telse this.isSearchLengthExceeded = false;\r\n\t}\r\n\r\n\tprivate setResults(val: string) {\r\n\t\tthis.value = val;\r\n\r\n\t\tthis.resultItems();\r\n\r\n\t\tif (this.hasVisibleItems()) this.destroyOutputPlaceholder();\r\n\t\telse this.buildOutputPlaceholder();\r\n\t}\r\n\r\n\tprivate setGroups() {\r\n\t\tconst groups: any[] = [];\r\n\r\n\t\tthis.items.forEach((item: HTMLElement) => {\r\n\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\titem.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t);\r\n\r\n\t\t\tif (!groups.some((el) => el?.name === group.name)) {\r\n\t\t\t\tgroups.push(group);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.groups = groups;\r\n\t}\r\n\r\n\tprivate setApiGroups(items: any) {\r\n\t\tconst groups: any[] = [];\r\n\r\n\t\titems.forEach((item: any) => {\r\n\t\t\tconst group = item[this.apiGroupField];\r\n\r\n\t\t\tif (!groups.some((el) => el.name === group)) {\r\n\t\t\t\tgroups.push({\r\n\t\t\t\t\tname: group,\r\n\t\t\t\t\ttitle: group,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.groups = groups;\r\n\t}\r\n\r\n\tprivate setItemsVisibility() {\r\n\t\tif (this.groupingType === 'tabs' && this.selectedGroup !== 'all') {\r\n\t\t\tthis.items.forEach((item) => {\r\n\t\t\t\t(item as HTMLElement).style.display = 'none';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst items =\r\n\t\t\tthis.groupingType === 'tabs'\r\n\t\t\t\t? this.selectedGroup === 'all'\r\n\t\t\t\t\t? this.items\r\n\t\t\t\t\t: this.items.filter((f: HTMLElement) => {\r\n\t\t\t\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\t\t\t\tf.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn group.name === this.selectedGroup;\r\n\t\t\t\t\t})\r\n\t\t\t\t: this.items;\r\n\r\n\t\tif (this.groupingType === 'tabs' && this.selectedGroup !== 'all') {\r\n\t\t\titems.forEach((item) => {\r\n\t\t\t\t(item as HTMLElement).style.display = 'block';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.forEach((item) => {\r\n\t\t\tif (!this.isTextExistsAny(item, this.value))\r\n\t\t\t\t(item as HTMLElement).style.display = 'none';\r\n\t\t\telse (item as HTMLElement).style.display = 'block';\r\n\t\t});\r\n\r\n\t\tif (this.groupingType === 'default') {\r\n\t\t\tthis.output\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-group-title]')\r\n\t\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\t\tconst g = el.getAttribute('data-hs-combo-box-group-title');\r\n\t\t\t\t\tconst items = this.items.filter((f: HTMLElement) => {\r\n\t\t\t\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\t\t\t\tf.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn group.name === g && f.style.display === 'block';\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (items.length) el.style.display = 'block';\r\n\t\t\t\t\telse el.style.display = 'none';\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate isTextExists(el: HTMLElement, val: string[]): boolean {\r\n\t\tconst lowerCased = val.map((v) => v.toLowerCase());\r\n\r\n\t\treturn Array.from(\r\n\t\t\tel.querySelectorAll('[data-hs-combo-box-search-text]'),\r\n\t\t).some((elI: HTMLElement) =>\r\n\t\t\tlowerCased.includes(\r\n\t\t\t\telI.getAttribute('data-hs-combo-box-search-text').toLowerCase(),\r\n\t\t\t),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate isTextExistsAny(el: HTMLElement, val: string): boolean {\r\n\t\treturn Array.from(\r\n\t\t\tel.querySelectorAll('[data-hs-combo-box-search-text]'),\r\n\t\t).some((elI: HTMLElement) =>\r\n\t\t\telI\r\n\t\t\t\t.getAttribute('data-hs-combo-box-search-text')\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.includes(val.toLowerCase()),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate hasVisibleItems() {\r\n\t\treturn this.items.length\r\n\t\t\t? this.items.some((el: HTMLElement) => el.style.display === 'block')\r\n\t\t\t: false;\r\n\t}\r\n\r\n\tprivate valuesBySelector(el: HTMLElement) {\r\n\t\treturn Array.from(\r\n\t\t\tel.querySelectorAll('[data-hs-combo-box-search-text]'),\r\n\t\t).reduce(\r\n\t\t\t(acc: any, cur: HTMLElement) => [\r\n\t\t\t\t...acc,\r\n\t\t\t\tcur.getAttribute('data-hs-combo-box-search-text'),\r\n\t\t\t],\r\n\t\t\t[],\r\n\t\t);\r\n\t}\r\n\r\n\tprivate sortItems() {\r\n\t\tconst compareFn = (i1: HTMLElement, i2: HTMLElement) => {\r\n\t\t\tconst a = i1\r\n\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\t\t\tconst b = i2\r\n\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\r\n\t\t\tif (a < b) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else if (a > b) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t};\r\n\r\n\t\treturn this.items.sort(compareFn);\r\n\t}\r\n\r\n\tprivate buildInput() {\r\n\t\tif (this.isOpenOnFocus) {\r\n\t\t\tthis.onInputFocusListener = () => this.inputFocus();\r\n\r\n\t\t\tthis.input.addEventListener('focus', this.onInputFocusListener);\r\n\t\t}\r\n\r\n\t\tthis.onInputInputListener = debounce((evt: InputEvent) =>\r\n\t\t\tthis.inputInput(evt),\r\n\t\t);\r\n\r\n\t\tthis.input.addEventListener('input', this.onInputInputListener);\r\n\t}\r\n\r\n\tprivate async buildItems() {\r\n\t\tthis.output.role = 'listbox';\r\n\t\tthis.output.tabIndex = -1;\r\n\t\tthis.output.ariaOrientation = 'vertical';\r\n\r\n\t\tif (this.apiUrl) await this.itemsFromJson();\r\n\t\telse {\r\n\t\t\tif (this.itemsWrapper) this.itemsWrapper.innerHTML = '';\r\n\t\t\telse this.output.innerHTML = '';\r\n\t\t\tthis.itemsFromHtml();\r\n\t\t}\r\n\r\n\t\tif (this.items[0].classList.contains('selected'))\r\n\t\t\tthis.currentData = JSON.parse(this.items[0].getAttribute('data-hs-combo-box-item-stored-data'));\r\n\t}\r\n\r\n\tprivate buildOutputLoader() {\r\n\t\tif (this.outputLoader) return false;\r\n\r\n\t\tthis.outputLoader = htmlToElement(this.outputLoaderTemplate);\r\n\t\tif (this.items.length || this.outputPlaceholder) {\r\n\t\t\tthis.outputLoader.style.position = 'absolute';\r\n\t\t\tthis.outputLoader.style.top = '0';\r\n\t\t\tthis.outputLoader.style.bottom = '0';\r\n\t\t\tthis.outputLoader.style.left = '0';\r\n\t\t\tthis.outputLoader.style.right = '0';\r\n\t\t\tthis.outputLoader.style.zIndex = '2';\r\n\t\t} else {\r\n\t\t\tthis.outputLoader.style.position = '';\r\n\t\t\tthis.outputLoader.style.top = '';\r\n\t\t\tthis.outputLoader.style.bottom = '';\r\n\t\t\tthis.outputLoader.style.left = '';\r\n\t\t\tthis.outputLoader.style.right = '';\r\n\t\t\tthis.outputLoader.style.zIndex = '';\r\n\t\t\tthis.outputLoader.style.height = '30px';\r\n\t\t}\r\n\r\n\t\tthis.output.append(this.outputLoader);\r\n\t}\r\n\r\n\tprivate buildToggle() {\r\n\t\tif (this.isOpened) {\r\n\t\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'true';\r\n\t\t\tif (this?.input?.ariaExpanded) this.input.ariaExpanded = 'true';\r\n\t\t} else {\r\n\t\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'false';\r\n\t\t\tif (this?.input?.ariaExpanded) this.input.ariaExpanded = 'false';\r\n\t\t}\r\n\r\n\t\tthis.onToggleClickListener = () => this.toggleClick();\r\n\r\n\t\tthis.toggle.addEventListener('click', this.onToggleClickListener);\r\n\t}\r\n\r\n\tprivate buildToggleClose() {\r\n\t\tthis.onToggleCloseClickListener = () => this.toggleCloseClick();\r\n\r\n\t\tthis.toggleClose.addEventListener('click', this.onToggleCloseClickListener);\r\n\t}\r\n\r\n\tprivate buildToggleOpen() {\r\n\t\tthis.onToggleOpenClickListener = () => this.toggleOpenClick();\r\n\r\n\t\tthis.toggleOpen.addEventListener('click', this.onToggleOpenClickListener);\r\n\t}\r\n\r\n\tprivate buildOutputPlaceholder() {\r\n\t\tif (!this.outputPlaceholder)\r\n\t\t\tthis.outputPlaceholder = htmlToElement(this.outputEmptyTemplate);\r\n\r\n\t\tthis.appendItemsToWrapper(this.outputPlaceholder);\r\n\t}\r\n\r\n\tprivate destroyOutputLoader() {\r\n\t\tif (this.outputLoader) this.outputLoader.remove();\r\n\r\n\t\tthis.outputLoader = null;\r\n\t}\r\n\r\n\tprivate itemRender(item: HTMLElement) {\r\n\t\tconst val = item\r\n\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\t\tconst data = JSON.parse(item.getAttribute('data-hs-combo-box-item-stored-data')) ?? null;\r\n\r\n\t\tif (this.itemsWrapper) this.itemsWrapper.append(item);\r\n\t\telse this.output.append(item);\r\n\r\n\t\tif (!this.preventSelection) {\r\n\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\tthis.close(val, data);\r\n\t\t\t\tthis.setSelectedByValue(this.valuesBySelector(item));\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate plainRender(items: HTMLElement[]) {\r\n\t\titems.forEach((item: HTMLElement) => {\r\n\t\t\tthis.itemRender(item);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate jsonItemsRender(items: any) {\r\n\t\titems.forEach((item: never, index: number) => {\r\n\t\t\tconst newItem = htmlToElement(this.outputItemTemplate);\r\n\t\t\tnewItem.setAttribute('data-hs-combo-box-item-stored-data', JSON.stringify(item));\r\n\t\t\tnewItem\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-output-item-field]')\r\n\t\t\t\t.forEach((el) => {\r\n\t\t\t\t\tconst value = this.getNestedProperty(item, el.getAttribute('data-hs-combo-box-output-item-field'));\r\n\t\t\t\t\tconst hideIfEmpty = el.hasAttribute(\r\n\t\t\t\t\t\t'data-hs-combo-box-output-item-hide-if-empty',\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tel.textContent = value ?? '';\r\n\t\t\t\t\tif (!value && hideIfEmpty) (el as HTMLElement).style.display = 'none';\r\n\t\t\t\t});\r\n\t\t\tnewItem\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-search-text]')\r\n\t\t\t\t.forEach((el) => {\r\n\t\t\t\t\tconst value = this.getNestedProperty(item, el.getAttribute('data-hs-combo-box-output-item-field'));\r\n\r\n\t\t\t\t\tel.setAttribute(\r\n\t\t\t\t\t\t'data-hs-combo-box-search-text',\r\n\t\t\t\t\t\tvalue ?? '',\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\tnewItem\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-output-item-attr]')\r\n\t\t\t\t.forEach((el) => {\r\n\t\t\t\t\tconst attributes = JSON.parse(\r\n\t\t\t\t\t\tel.getAttribute('data-hs-combo-box-output-item-attr'),\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tattributes.forEach((attr: IComboBoxItemAttr) => {\r\n\t\t\t\t\t\tel.setAttribute(attr.attr, item[attr.valueFrom]);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\tnewItem.setAttribute('tabIndex', `${index}`);\r\n\t\t\tif (this.groupingType === 'tabs' || this.groupingType === 'default') {\r\n\t\t\t\tnewItem.setAttribute(\r\n\t\t\t\t\t'data-hs-combo-box-output-item',\r\n\t\t\t\t\t`{\"group\": {\"name\": \"${item[this.apiGroupField]}\", \"title\": \"${item[this.apiGroupField]\r\n\t\t\t\t\t}\"}}`,\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.items = [...this.items, newItem];\r\n\r\n\t\t\tif (!this.preventSelection) {\r\n\t\t\t\t(newItem as HTMLElement).addEventListener('click', () => {\r\n\t\t\t\t\tthis.close(\r\n\t\t\t\t\t\t(newItem as HTMLElement)\r\n\t\t\t\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t\t\t\t.getAttribute('data-hs-combo-box-search-text'),\r\n\t\t\t\t\t\tJSON.parse((newItem as HTMLElement)\r\n\t\t\t\t\t\t\t.getAttribute('data-hs-combo-box-item-stored-data')),\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tthis.setSelectedByValue(this.valuesBySelector(newItem));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.appendItemsToWrapper(newItem);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate groupDefaultRender() {\r\n\t\tthis.groups.forEach((el) => {\r\n\t\t\tconst title = htmlToElement(this.groupingTitleTemplate);\r\n\t\t\ttitle.setAttribute('data-hs-combo-box-group-title', el.name);\r\n\t\t\ttitle.classList.add('--exclude-accessibility');\r\n\t\t\ttitle.innerText = el.title;\r\n\r\n\t\t\tif (this.itemsWrapper) this.itemsWrapper.append(title);\r\n\t\t\telse this.output.append(title);\r\n\r\n\t\t\tconst items = this.sortItems().filter((f) => {\r\n\t\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\t\tf.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn group.name === el.name;\r\n\t\t\t});\r\n\r\n\t\t\tthis.plainRender(items);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate groupTabsRender() {\r\n\t\tconst tabsScroll = htmlToElement(this.tabsWrapperTemplate);\r\n\t\tconst tabsWrapper = htmlToElement(\r\n\t\t\t`<div class=\"flex flex-nowrap gap-x-2\"></div>`,\r\n\t\t);\r\n\r\n\t\ttabsScroll.append(tabsWrapper);\r\n\t\tthis.output.insertBefore(tabsScroll, this.output.firstChild);\r\n\r\n\t\tconst tabDef = htmlToElement(this.groupingTitleTemplate);\r\n\t\ttabDef.setAttribute('data-hs-combo-box-group-title', 'all');\r\n\t\ttabDef.classList.add('--exclude-accessibility', 'active');\r\n\t\ttabDef.innerText = 'All';\r\n\t\tthis.tabs = [...this.tabs, tabDef];\r\n\t\ttabsWrapper.append(tabDef);\r\n\t\ttabDef.addEventListener('click', () => {\r\n\t\t\tthis.selectedGroup = 'all';\r\n\t\t\tconst selectedTab = this.tabs.find(\r\n\t\t\t\t(elI: HTMLElement) =>\r\n\t\t\t\t\telI.getAttribute('data-hs-combo-box-group-title') ===\r\n\t\t\t\t\tthis.selectedGroup,\r\n\t\t\t);\r\n\r\n\t\t\tthis.tabs.forEach((el: HTMLElement) => el.classList.remove('active'));\r\n\t\t\tselectedTab.classList.add('active');\r\n\t\t\tthis.setItemsVisibility();\r\n\t\t});\r\n\r\n\t\tthis.groups.forEach((el) => {\r\n\t\t\tconst tab = htmlToElement(this.groupingTitleTemplate);\r\n\t\t\ttab.setAttribute('data-hs-combo-box-group-title', el.name);\r\n\t\t\ttab.classList.add('--exclude-accessibility');\r\n\t\t\ttab.innerText = el.title;\r\n\r\n\t\t\tthis.tabs = [...this.tabs, tab];\r\n\t\t\ttabsWrapper.append(tab);\r\n\r\n\t\t\ttab.addEventListener('click', () => {\r\n\t\t\t\tthis.selectedGroup = el.name;\r\n\t\t\t\tconst selectedTab = this.tabs.find(\r\n\t\t\t\t\t(elI: HTMLElement) =>\r\n\t\t\t\t\t\telI.getAttribute('data-hs-combo-box-group-title') ===\r\n\t\t\t\t\t\tthis.selectedGroup,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.tabs.forEach((el: HTMLElement) => el.classList.remove('active'));\r\n\t\t\t\tselectedTab.classList.add('active');\r\n\t\t\t\tthis.setItemsVisibility();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate itemsFromHtml() {\r\n\t\tif (this.groupingType === 'default') {\r\n\t\t\tthis.groupDefaultRender();\r\n\t\t} else if (this.groupingType === 'tabs') {\r\n\t\t\tconst items = this.sortItems();\r\n\r\n\t\t\tthis.groupTabsRender();\r\n\t\t\tthis.plainRender(items);\r\n\t\t} else {\r\n\t\t\tconst items = this.sortItems();\r\n\r\n\t\t\tthis.plainRender(items);\r\n\t\t}\r\n\t\tthis.setResults(this.input.value);\r\n\t}\r\n\r\n\tprivate async itemsFromJson() {\r\n\t\tif (this.isSearchLengthExceeded) return false;\r\n\r\n\t\tthis.buildOutputLoader();\r\n\r\n\t\ttry {\r\n\t\t\tconst query = `${this.apiQuery}`;\r\n\t\t\tlet searchQuery;\r\n\t\t\tlet searchPath;\r\n\t\t\tlet url = this.apiUrl;\r\n\r\n\t\t\tif (!this.apiSearchQuery && this.apiSearchPath) {\r\n\t\t\t\tif (this.apiSearchDefaultPath && this.value === '') {\r\n\t\t\t\t\tsearchPath = `/${this.apiSearchDefaultPath}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsearchPath = `/${this.apiSearchPath}/${this.value.toLowerCase()}`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.apiSearchPath || this.apiSearchDefaultPath) {\r\n\t\t\t\t\turl += searchPath;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsearchQuery = `${this.apiSearchQuery}=${this.value.toLowerCase()}`;\r\n\r\n\t\t\t\tif (this.apiQuery && this.apiSearchQuery) {\r\n\t\t\t\t\turl += `?${searchQuery}&${query}`;\r\n\t\t\t\t} else if (this.apiQuery) {\r\n\t\t\t\t\turl += `?${query}`;\r\n\t\t\t\t} else if (this.apiSearchQuery) {\r\n\t\t\t\t\turl += `?${searchQuery}`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst res = await fetch(url, this.apiHeaders);\r\n\t\t\tlet items = await res.json();\r\n\r\n\t\t\tif (this.apiDataPart) {\r\n\t\t\t\titems = items[this.apiDataPart];\r\n\t\t\t}\r\n\t\t\tif (this.apiSearchQuery || this.apiSearchPath) {\r\n\t\t\t\tthis.items = [];\r\n\t\t\t}\r\n\t\t\tif (this.itemsWrapper) {\r\n\t\t\t\tthis.itemsWrapper.innerHTML = '';\r\n\t\t\t} else {\r\n\t\t\t\tthis.output.innerHTML = '';\r\n\t\t\t}\r\n\r\n\t\t\tif (this.groupingType === 'tabs') {\r\n\t\t\t\tthis.setApiGroups(items);\r\n\t\t\t\tthis.groupTabsRender();\r\n\t\t\t\tthis.jsonItemsRender(items);\r\n\t\t\t} else if (this.groupingType === 'default') {\r\n\t\t\t\tthis.setApiGroups(items);\r\n\r\n\t\t\t\tthis.groups.forEach((el) => {\r\n\t\t\t\t\tconst title = htmlToElement(this.groupingTitleTemplate);\r\n\t\t\t\t\ttitle.setAttribute('data-hs-combo-box-group-title', el.name);\r\n\t\t\t\t\ttitle.classList.add('--exclude-accessibility');\r\n\t\t\t\t\ttitle.innerText = el.title;\r\n\t\t\t\t\tconst newItems = items.filter(\r\n\t\t\t\t\t\t(i: any) => i[this.apiGroupField] === el.name,\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (this.itemsWrapper) this.itemsWrapper.append(title);\r\n\t\t\t\t\telse this.output.append(title);\r\n\r\n\t\t\t\t\tthis.jsonItemsRender(newItems);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.jsonItemsRender(items);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setResults(this.input.value.length <= this.minSearchLength ? '' : this.input.value);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\r\n\t\t\tthis.buildOutputPlaceholder();\r\n\t\t}\r\n\r\n\t\tthis.destroyOutputLoader();\r\n\t}\r\n\r\n\tprivate appendItemsToWrapper(item: HTMLElement) {\r\n\t\tif (this.itemsWrapper) {\r\n\t\t\tthis.itemsWrapper.append(item);\r\n\t\t} else {\r\n\t\t\tthis.output.append(item);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate resultItems() {\r\n\t\tif (!this.items.length) return false;\r\n\r\n\t\tthis.setItemsVisibility();\r\n\t\tthis.setSelectedByValue([this.selected]);\r\n\t}\r\n\r\n\tprivate destroyOutputPlaceholder() {\r\n\t\tif (this.outputPlaceholder) this.outputPlaceholder.remove();\r\n\r\n\t\tthis.outputPlaceholder = null;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic getCurrentData() {\r\n\t\treturn this.currentData;\r\n\t}\r\n\r\n\tpublic setCurrent() {\r\n\t\tif (window.$hsComboBoxCollection.length) {\r\n\t\t\twindow.$hsComboBoxCollection.map((el) => (el.element.isCurrent = false));\r\n\r\n\t\t\tthis.isCurrent = true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic open(val?: string) {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tif (typeof val !== 'undefined') this.setValueAndOpen(val);\r\n\r\n\t\tif (this.preventVisibility) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.output.style.display = 'block';\r\n\t\tif (!this.preventAutoPosition) this.recalculateDirection();\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this?.input?.ariaExpanded) this.input.ariaExpanded = 'true';\r\n\t\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'true';\r\n\t\t\tthis.el.classList.add('active');\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.isOpened = true;\r\n\t}\r\n\r\n\tpublic close(val?: string | null, data: {} | null = null) {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tif (this.preventVisibility) {\r\n\t\t\tthis.setValueAndClear(val, data);\r\n\r\n\t\t\tif (this.input.value !== '') this.el.classList.add('has-value');\r\n\t\t\telse this.el.classList.remove('has-value');\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tif (this?.input?.ariaExpanded) this.input.ariaExpanded = 'false';\r\n\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'false';\r\n\t\tthis.el.classList.remove('active');\r\n\t\tif (!this.preventAutoPosition) {\r\n\t\t\tthis.output.classList.remove('bottom-full', 'top-full');\r\n\t\t\tthis.output.style.marginTop = '';\r\n\t\t\tthis.output.style.marginBottom = '';\r\n\t\t}\r\n\r\n\t\tafterTransition(this.output, () => {\r\n\t\t\tthis.output.style.display = 'none';\r\n\r\n\t\t\tthis.setValueAndClear(val, data || null);\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tif (this.input.value !== '') this.el.classList.add('has-value');\r\n\t\telse this.el.classList.remove('has-value');\r\n\r\n\t\tthis.isOpened = false;\r\n\t}\r\n\r\n\tpublic recalculateDirection() {\r\n\t\tif (\r\n\t\t\tisEnoughSpace(\r\n\t\t\t\tthis.output,\r\n\t\t\t\tthis.input,\r\n\t\t\t\t'bottom',\r\n\t\t\t\tthis.gap,\r\n\t\t\t\tthis.viewport as HTMLElement,\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tthis.output.classList.remove('bottom-full');\r\n\t\t\tthis.output.style.marginBottom = '';\r\n\t\t\tthis.output.classList.add('top-full');\r\n\t\t\tthis.output.style.marginTop = `${this.gap}px`;\r\n\t\t} else {\r\n\t\t\tthis.output.classList.remove('top-full');\r\n\t\t\tthis.output.style.marginTop = '';\r\n\t\t\tthis.output.classList.add('bottom-full');\r\n\t\t\tthis.output.style.marginBottom = `${this.gap}px`;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\tthis.input.removeEventListener('focus', this.onInputFocusListener);\r\n\t\tthis.input.removeEventListener('input', this.onInputInputListener);\r\n\t\tthis.toggle.removeEventListener('click', this.onToggleClickListener);\r\n\t\tif (this.toggleClose)\r\n\t\t\tthis.toggleClose.removeEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onToggleCloseClickListener,\r\n\t\t\t);\r\n\t\tif (this.toggleOpen)\r\n\t\t\tthis.toggleOpen.removeEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onToggleOpenClickListener,\r\n\t\t\t);\r\n\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('has-value', 'active');\r\n\t\tif (this.items.length)\r\n\t\t\tthis.items.forEach((el) => {\r\n\t\t\t\t(el as HTMLElement).classList.remove('selected');\r\n\t\t\t\t(el as HTMLElement).style.display = '';\r\n\t\t\t});\r\n\r\n\t\t// Remove attributes\r\n\t\tthis.output.removeAttribute('role');\r\n\t\tthis.output.removeAttribute('tabindex');\r\n\t\tthis.output.removeAttribute('aria-orientation');\r\n\r\n\t\t// Remove generated markup\r\n\t\tif (this.outputLoader) {\r\n\t\t\tthis.outputLoader.remove();\r\n\t\t\tthis.outputLoader = null;\r\n\t\t}\r\n\t\tif (this.outputPlaceholder) {\r\n\t\t\tthis.outputPlaceholder.remove();\r\n\t\t\tthis.outputPlaceholder = null;\r\n\t\t}\r\n\t\tif (this.apiUrl) {\r\n\t\t\tthis.output.innerHTML = '';\r\n\t\t}\r\n\r\n\t\tthis.items = [];\r\n\r\n\t\twindow.$hsComboBoxCollection = window.$hsComboBoxCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsComboBoxCollection) {\r\n\t\t\twindow.$hsComboBoxCollection = [];\r\n\r\n\t\t\twindow.addEventListener('click', (evt) => {\r\n\t\t\t\tconst evtTarget = evt.target;\r\n\r\n\t\t\t\tHSComboBox.closeCurrentlyOpened(evtTarget as HTMLElement);\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSComboBox.accessibility(evt),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (window.$hsComboBoxCollection)\r\n\t\t\twindow.$hsComboBoxCollection = window.$hsComboBoxCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-combo-box]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsComboBoxCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-combo-box');\r\n\t\t\t\t\tconst options: IComboBoxOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSComboBox(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic close(target: HTMLElement | string) {\r\n\t\tconst elInCollection = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection && elInCollection.element.isOpened) {\r\n\t\t\telInCollection.element.close();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic closeCurrentlyOpened(evtTarget: HTMLElement | null = null) {\r\n\t\tif (!evtTarget.closest('[data-hs-combo-box].active')) {\r\n\t\t\tconst currentlyOpened =\r\n\t\t\t\twindow.$hsComboBoxCollection.filter((el) => el.element.isOpened) ||\r\n\t\t\t\tnull;\r\n\r\n\t\t\tif (currentlyOpened) {\r\n\t\t\t\tcurrentlyOpened.forEach((el) => {\r\n\t\t\t\t\tel.element.close();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tprivate static getPreparedItems(\r\n\t\tisReversed = false,\r\n\t\toutput: HTMLElement | null,\r\n\t): Element[] | null {\r\n\t\tif (!output) return null;\r\n\r\n\t\tconst preparedItems = isReversed\r\n\t\t\t? Array.from(\r\n\t\t\t\toutput.querySelectorAll(':scope > *:not(.--exclude-accessibility)'),\r\n\t\t\t)\r\n\t\t\t\t.filter((el) => (el as HTMLElement).style.display !== 'none')\r\n\t\t\t\t.reverse()\r\n\t\t\t: Array.from(\r\n\t\t\t\toutput.querySelectorAll(':scope > *:not(.--exclude-accessibility)'),\r\n\t\t\t).filter((el) => (el as HTMLElement).style.display !== 'none');\r\n\t\tconst items = preparedItems.filter(\r\n\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t);\r\n\r\n\t\treturn items;\r\n\t}\r\n\r\n\tprivate static setHighlighted(\r\n\t\tprev: Element,\r\n\t\tcurrent: HTMLElement,\r\n\t\tinput: HTMLInputElement,\r\n\t): void {\r\n\t\tcurrent.focus();\r\n\r\n\t\tinput.value = current\r\n\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\r\n\t\tif (prev) prev.classList.remove('hs-combo-box-output-item-highlighted');\r\n\t\tcurrent.classList.add('hs-combo-box-output-item-highlighted');\r\n\t}\r\n\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst target = window.$hsComboBoxCollection.find((el) =>\r\n\t\t\tel.element.preventVisibility ? el.element.isCurrent : el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\tCOMBO_BOX_ACCESSIBILITY_KEY_SET.includes(evt.code) &&\r\n\t\t\t!evt.metaKey\r\n\t\t) {\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase 'Escape':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEscape();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape() {\r\n\t\tconst target = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) => !el.element.preventVisibility && el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\ttarget.element.close();\r\n\t\t\ttarget.element.input.blur();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrow(isArrowUp = true) {\r\n\t\tconst target = window.$hsComboBoxCollection.find((el) =>\r\n\t\t\tel.element.preventVisibility ? el.element.isCurrent : el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst output = target.element.itemsWrapper ?? target.element.output;\r\n\r\n\t\t\tif (!output) return false;\r\n\r\n\t\t\tconst items = HSComboBox.getPreparedItems(isArrowUp, output) as Element[];\r\n\t\t\tconst current = output.querySelector(\r\n\t\t\t\t'.hs-combo-box-output-item-highlighted',\r\n\t\t\t);\r\n\t\t\tlet currentItem = null;\r\n\t\t\tif (!current)\r\n\t\t\t\titems[0].classList.add('hs-combo-box-output-item-highlighted');\r\n\t\t\tlet currentInd = items.findIndex((el: any) => el === current);\r\n\t\t\tif (currentInd + 1 < items.length) currentInd++;\r\n\t\t\tcurrentItem = items[currentInd] as HTMLButtonElement;\r\n\r\n\t\t\tHSComboBox.setHighlighted(current, currentItem, target.element.input);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isStart = true) {\r\n\t\tconst target = window.$hsComboBoxCollection.find((el) =>\r\n\t\t\tel.element.preventVisibility ? el.element.isCurrent : el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst output = target.element.itemsWrapper ?? target.element.output;\r\n\r\n\t\t\tif (!output) return false;\r\n\r\n\t\t\tconst items = HSComboBox.getPreparedItems(isStart, output) as Element[];\r\n\t\t\tconst current = output.querySelector(\r\n\t\t\t\t'.hs-combo-box-output-item-highlighted',\r\n\t\t\t);\r\n\r\n\t\t\tif (items.length)\r\n\t\t\t\tHSComboBox.setHighlighted(\r\n\t\t\t\t\tcurrent,\r\n\t\t\t\t\titems[0] as HTMLButtonElement,\r\n\t\t\t\t\ttarget.element.input,\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEnter(evt: Event) {\r\n\t\tconst target = evt.target;\r\n\t\tconst opened = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\t!isParentOrElementHidden(el.element.el) &&\r\n\t\t\t\t(evt.target as HTMLElement).closest('[data-hs-combo-box]') ===\r\n\t\t\t\tel.element.el,\r\n\t\t);\r\n\r\n\t\tconst link: HTMLAnchorElement = opened.element.el.querySelector(\r\n\t\t\t'.hs-combo-box-output-item-highlighted a',\r\n\t\t);\r\n\r\n\t\tif ((target as HTMLElement).hasAttribute('data-hs-combo-box-input')) {\r\n\t\t\topened.element.close();\r\n\t\t\t(target as HTMLInputElement).blur();\r\n\t\t} else {\r\n\t\t\tif (!opened.element.preventSelection) {\r\n\t\t\t\topened.element.setSelectedByValue(\r\n\t\t\t\t\topened.element.valuesBySelector(evt.target as HTMLElement),\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (opened.element.preventSelection && link) {\r\n\t\t\t\twindow.location.assign(link.getAttribute('href'));\r\n\t\t\t}\r\n\t\t\topened.element.close(\r\n\t\t\t\t!opened.element.preventSelection\r\n\t\t\t\t\t? (evt.target as HTMLElement)\r\n\t\t\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t\t\t.getAttribute('data-hs-combo-box-search-text')\r\n\t\t\t\t\t: null,\r\n\t\t\t\tJSON.parse((evt.target as HTMLElement).getAttribute('data-hs-combo-box-item-stored-data')) ?? null\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSComboBox: Function;\r\n\t\t$hsComboBoxCollection: ICollectionItem<HSComboBox>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSComboBox.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('ComboBox collection:', window.$hsComboBoxCollection);\r\n});\r\n\r\ndocument.addEventListener('scroll', () => {\r\n\tif (!window.$hsComboBoxCollection) return false;\r\n\r\n\tconst target = window.$hsComboBoxCollection.find((el) => el.element.isOpened);\r\n\r\n\tif (target && !target.element.preventAutoPosition)\r\n\t\ttarget.element.recalculateDirection();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSComboBox = HSComboBox;\r\n}\r\n\r\nexport default HSComboBox;\r\n", "/*\r\n * HSDropdown\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport {\r\n\tstringToBoolean,\r\n\tgetClassProperty,\r\n\tgetClassPropertyAlt,\r\n\tisIOS,\r\n\tisIpadOS,\r\n\tdispatch,\r\n\tafterTransition,\r\n\tmenuSearchHistory,\r\n} from '../../utils';\r\nimport { IMenuSearchHistory } from '../../utils/interfaces';\r\n\r\nimport {\r\n\tcreatePopper,\r\n\tPositioningStrategy,\r\n\tVirtualElement,\r\n} from '@popperjs/core';\r\n\r\nimport { IDropdown, IHTMLElementPopper } from '../dropdown/interfaces';\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { POSITIONS, DROPDOWN_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSDropdown\r\n\textends HSBasePlugin<{}, IHTMLElementPopper>\r\n\timplements IDropdown {\r\n\tprivate static history: IMenuSearchHistory;\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tprivate readonly closers: HTMLElement[] | null;\r\n\tpublic menu: HTMLElement | null;\r\n\tprivate eventMode: string;\r\n\tprivate closeMode: string;\r\n\tprivate hasAutofocus: boolean;\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tprivate onElementMouseEnterListener: () => void | null;\r\n\tprivate onElementMouseLeaveListener: () => void | null;\r\n\tprivate onToggleClickListener: (evt: Event) => void | null;\r\n\tprivate onToggleContextMenuListener: (evt: Event) => void | null;\r\n\tprivate onCloserClickListener:\r\n\t\t| {\r\n\t\t\tel: HTMLButtonElement;\r\n\t\t\tfn: () => void;\r\n\t\t}[]\r\n\t\t| null;\r\n\r\n\tconstructor(el: IHTMLElementPopper, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.toggle =\r\n\t\t\tthis.el.querySelector(':scope > .hs-dropdown-toggle') ||\r\n\t\t\tthis.el.querySelector(\r\n\t\t\t\t':scope > .hs-dropdown-toggle-wrapper > .hs-dropdown-toggle',\r\n\t\t\t) ||\r\n\t\t\t(this.el.children[0] as HTMLElement);\r\n\t\tthis.closers =\r\n\t\t\tArray.from(this.el.querySelectorAll(':scope .hs-dropdown-close')) || null;\r\n\t\tthis.menu = this.el.querySelector(':scope > .hs-dropdown-menu');\r\n\t\tthis.eventMode = getClassProperty(this.el, '--trigger', 'click');\r\n\t\tthis.closeMode = getClassProperty(this.el, '--auto-close', 'true');\r\n\t\tthis.hasAutofocus = stringToBoolean(\r\n\t\t\tgetClassProperty(this.el, '--has-autofocus', 'true') || 'true',\r\n\t\t);\r\n\t\tthis.animationInProcess = false;\r\n\r\n\t\tthis.onCloserClickListener = [];\r\n\r\n\t\tif (this.toggle && this.menu) this.init();\r\n\t}\r\n\r\n\tprivate elementMouseEnter() {\r\n\t\tthis.onMouseEnterHandler();\r\n\t}\r\n\r\n\tprivate elementMouseLeave() {\r\n\t\tthis.onMouseLeaveHandler();\r\n\t}\r\n\r\n\tprivate toggleClick(evt: Event) {\r\n\t\tthis.onClickHandler(evt);\r\n\t}\r\n\r\n\tprivate toggleContextMenu(evt: MouseEvent) {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tthis.onContextMenuHandler(evt);\r\n\t}\r\n\r\n\tprivate closerClick() {\r\n\t\tthis.close();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsDropdownCollection, this);\r\n\r\n\t\tif ((this.toggle as HTMLButtonElement).disabled) return false;\r\n\r\n\t\tif (this.toggle) this.buildToggle();\r\n\t\tif (this.menu) this.buildMenu();\r\n\t\tif (this.closers) this.buildClosers();\r\n\r\n\t\tif (!isIOS() && !isIpadOS()) {\r\n\t\t\tthis.onElementMouseEnterListener = () => this.elementMouseEnter();\r\n\t\t\tthis.onElementMouseLeaveListener = () => this.elementMouseLeave();\r\n\r\n\t\t\tthis.el.addEventListener('mouseenter', this.onElementMouseEnterListener);\r\n\t\t\tthis.el.addEventListener('mouseleave', this.onElementMouseLeaveListener);\r\n\t\t}\r\n\t}\r\n\r\n\tresizeHandler() {\r\n\t\tthis.eventMode = getClassProperty(this.el, '--trigger', 'click');\r\n\t\tthis.closeMode = getClassProperty(this.el, '--auto-close', 'true');\r\n\t}\r\n\r\n\tprivate buildToggle() {\r\n\t\tif (this?.toggle?.ariaExpanded) {\r\n\t\t\tif (this.el.classList.contains('open')) this.toggle.ariaExpanded = 'true';\r\n\t\t\telse this.toggle.ariaExpanded = 'false';\r\n\t\t}\r\n\r\n\t\tif (this.eventMode === 'contextmenu') {\r\n\t\t\tthis.onToggleContextMenuListener = (evt: MouseEvent) =>\r\n\t\t\t\tthis.toggleContextMenu(evt);\r\n\r\n\t\t\tthis.toggle.addEventListener(\r\n\t\t\t\t'contextmenu',\r\n\t\t\t\tthis.onToggleContextMenuListener,\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.onToggleClickListener = (evt) => this.toggleClick(evt);\r\n\r\n\t\t\tthis.toggle.addEventListener('click', this.onToggleClickListener);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildMenu() {\r\n\t\tthis.menu.role = this.menu.getAttribute('role') || 'menu';\r\n\r\n\t\tconst checkboxes = this.menu.querySelectorAll('[role=\"menuitemcheckbox\"]');\r\n\t\tconst radiobuttons = this.menu.querySelectorAll('[role=\"menuitemradio\"]');\r\n\r\n\t\tcheckboxes.forEach((el: HTMLElement) => el.addEventListener('click', () => this.selectCheckbox(el)));\r\n\t\tradiobuttons.forEach((el: HTMLElement) => el.addEventListener('click', () => this.selectRadio(el)));\r\n\t}\r\n\r\n\tprivate buildClosers() {\r\n\t\tthis.closers.forEach((el: HTMLButtonElement) => {\r\n\t\t\tthis.onCloserClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.closerClick(),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onCloserClickListener.find((closer) => closer.el === el).fn,\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate getScrollbarSize() {\r\n\t\tlet div = document.createElement('div');\r\n\t\tdiv.style.overflow = 'scroll';\r\n\t\tdiv.style.width = '100px';\r\n\t\tdiv.style.height = '100px';\r\n\t\tdocument.body.appendChild(div);\r\n\r\n\t\tlet scrollbarSize = div.offsetWidth - div.clientWidth;\r\n\r\n\t\tdocument.body.removeChild(div);\r\n\r\n\t\treturn scrollbarSize;\r\n\t}\r\n\r\n\tprivate onContextMenuHandler(evt: MouseEvent) {\r\n\t\tconst virtualElement: VirtualElement = {\r\n\t\t\tgetBoundingClientRect: () => new DOMRect(),\r\n\t\t};\r\n\t\tvirtualElement.getBoundingClientRect = () =>\r\n\t\t\tnew DOMRect(evt.clientX, evt.clientY, 0, 0);\r\n\r\n\t\tHSDropdown.closeCurrentlyOpened();\r\n\r\n\t\tif (\r\n\t\t\tthis.el.classList.contains('open') &&\r\n\t\t\t!this.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.close();\r\n\r\n\t\t\tdocument.body.style.overflow = '';\r\n\t\t\tdocument.body.style.paddingRight = '';\r\n\t\t} else {\r\n\t\t\tdocument.body.style.overflow = 'hidden';\r\n\t\t\tdocument.body.style.paddingRight = `${this.getScrollbarSize()}px`;\r\n\r\n\t\t\tthis.open(virtualElement);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickHandler(evt: Event) {\r\n\t\tif (\r\n\t\t\tthis.el.classList.contains('open') &&\r\n\t\t\t!this.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onMouseEnterHandler() {\r\n\t\tif (this.eventMode !== 'hover') return false;\r\n\r\n\t\tif (this.el._popper) this.forceClearState();\r\n\r\n\t\tif (\r\n\t\t\t!this.el.classList.contains('open') &&\r\n\t\t\tthis.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onMouseLeaveHandler() {\r\n\t\tif (this.eventMode !== 'hover') return false;\r\n\r\n\t\tif (\r\n\t\t\tthis.el.classList.contains('open') &&\r\n\t\t\t!this.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate destroyPopper() {\r\n\t\tconst scope = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--scope') || ''\r\n\t\t).replace(' ', '');\r\n\r\n\t\tthis.menu.classList.remove('block');\r\n\t\tthis.menu.classList.add('hidden');\r\n\r\n\t\tthis.menu.style.inset = null;\r\n\t\tthis.menu.style.position = null;\r\n\r\n\t\tif (this.el && this.el._popper) this.el._popper.destroy();\r\n\r\n\t\tif (scope === 'window') this.el.appendChild(this.menu);\r\n\r\n\t\tthis.animationInProcess = false;\r\n\t}\r\n\r\n\tprivate absoluteStrategyModifiers() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'applyStyles',\r\n\t\t\t\tfn: (data: any) => {\r\n\t\t\t\t\tconst strategy = (\r\n\t\t\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--strategy') ||\r\n\t\t\t\t\t\t'absolute'\r\n\t\t\t\t\t).replace(' ', '');\r\n\t\t\t\t\tconst adaptive = (\r\n\t\t\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--adaptive') ||\r\n\t\t\t\t\t\t'adaptive'\r\n\t\t\t\t\t).replace(' ', '');\r\n\r\n\t\t\t\t\tdata.state.elements.popper.style.position = strategy;\r\n\t\t\t\t\tdata.state.elements.popper.style.transform =\r\n\t\t\t\t\t\tadaptive === 'adaptive' ? data.state.styles.popper.transform : null;\r\n\t\t\t\t\tdata.state.elements.popper.style.top = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.bottom = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.left = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.right = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.margin = 0;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tprivate focusElement() {\r\n\t\tconst input: HTMLInputElement = this.menu.querySelector('[autofocus]');\r\n\r\n\t\tif (!input) return false;\r\n\t\telse input.focus();\r\n\t}\r\n\r\n\tprivate setupPopper(target?: VirtualElement | HTMLElement) {\r\n\t\tconst _target = target || this.el;\r\n\t\tconst placement = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--placement') || ''\r\n\t\t).replace(' ', '');\r\n\t\tconst flip = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--flip') || 'true'\r\n\t\t).replace(' ', '');\r\n\t\tconst strategy = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--strategy') || 'fixed'\r\n\t\t).replace(' ', '') as PositioningStrategy;\r\n\t\tconst offset = parseInt(\r\n\t\t\t(\r\n\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--offset') || '10'\r\n\t\t\t).replace(' ', ''),\r\n\t\t);\r\n\t\tconst gpuAcceleration = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--gpu-acceleration') ||\r\n\t\t\t'true'\r\n\t\t).replace(' ', '');\r\n\t\tconst popperInstance = createPopper(_target, this.menu, {\r\n\t\t\tplacement: POSITIONS[placement] || 'bottom-start',\r\n\t\t\tstrategy: strategy,\r\n\t\t\tmodifiers: [\r\n\t\t\t\t...(strategy !== 'fixed' ? this.absoluteStrategyModifiers() : []),\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'flip',\r\n\t\t\t\t\tenabled: flip === 'true',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'offset',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\toffset: [0, offset],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'computeStyles',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tadaptive: strategy !== 'fixed' ? false : true,\r\n\t\t\t\t\t\tgpuAcceleration: gpuAcceleration === 'true',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t});\r\n\r\n\t\treturn popperInstance;\r\n\t}\r\n\r\n\tprivate selectCheckbox(target: HTMLElement) {\r\n\t\ttarget.ariaChecked = target.ariaChecked === 'true' ? 'false' : 'true';\r\n\t}\r\n\r\n\tprivate selectRadio(target: HTMLElement) {\r\n\t\tif (target.ariaChecked === 'true') return false;\r\n\t\tconst group = target.closest('.group');\r\n\t\tconst items = group.querySelectorAll('[role=\"menuitemradio\"]');\r\n\t\tconst otherItems = Array.from(items).filter((el) => el !== target);\r\n\t\totherItems.forEach((el) => {\r\n\t\t\tel.ariaChecked = 'false';\r\n\t\t});\r\n\t\ttarget.ariaChecked = 'true';\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic calculatePopperPosition(target?: VirtualElement | HTMLElement) {\r\n\t\tconst popperInstance = this.setupPopper(target);\r\n\t\tpopperInstance.forceUpdate();\r\n\r\n\t\tconst popperPosition = popperInstance.state.placement;\r\n\t\tpopperInstance.destroy();\r\n\r\n\t\treturn popperPosition;\r\n\t}\r\n\r\n\tpublic open(target?: VirtualElement | HTMLElement) {\r\n\t\tif (this.el.classList.contains('open') || this.animationInProcess) return false;\r\n\r\n\t\tconst _target = target || this.el;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tconst scope = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--scope') || ''\r\n\t\t).replace(' ', '');\r\n\t\tconst placement = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--placement') || ''\r\n\t\t).replace(' ', '');\r\n\t\tconst flip = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--flip') || 'true'\r\n\t\t).replace(' ', '');\r\n\t\tconst strategy = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--strategy') || 'fixed'\r\n\t\t).replace(' ', '') as PositioningStrategy;\r\n\t\tconst offset = parseInt(\r\n\t\t\t(\r\n\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--offset') || '10'\r\n\t\t\t).replace(' ', ''),\r\n\t\t);\r\n\t\tconst gpuAcceleration = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--gpu-acceleration') ||\r\n\t\t\t'true'\r\n\t\t).replace(' ', '');\r\n\r\n\t\tif (scope === 'window') document.body.appendChild(this.menu);\r\n\r\n\t\tif (strategy !== ('static' as PositioningStrategy)) {\r\n\t\t\tthis.el._popper = createPopper(_target, this.menu, {\r\n\t\t\t\tplacement: POSITIONS[placement] || 'bottom-start',\r\n\t\t\t\tstrategy: strategy,\r\n\t\t\t\tmodifiers: [\r\n\t\t\t\t\t...(strategy !== 'fixed' ? this.absoluteStrategyModifiers() : []),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'flip',\r\n\t\t\t\t\t\tenabled: flip === 'true',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'offset',\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\toffset: [0, offset],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'computeStyles',\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\tadaptive: strategy !== 'fixed' ? false : true,\r\n\t\t\t\t\t\t\tgpuAcceleration: gpuAcceleration === 'true' ? true : false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.menu.style.margin = null;\r\n\r\n\t\tthis.menu.classList.remove('hidden');\r\n\t\tthis.menu.classList.add('block');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'true';\r\n\t\t\tthis.el.classList.add('open');\r\n\r\n\t\t\tif (scope === 'window') this.menu.classList.add('open');\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\r\n\t\t\tif (this.hasAutofocus) this.focusElement();\r\n\r\n\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\tdispatch('open.hs.dropdown', this.el, this.el);\r\n\t\t});\r\n\r\n\t\t// this.fireEvent('open', this.el);\r\n\t\t// dispatch('open.hs.dropdown', this.el, this.el);\r\n\t}\r\n\r\n\tpublic close(isAnimated = true) {\r\n\t\tif (this.animationInProcess || !this.el.classList.contains('open'))\r\n\t\t\treturn false;\r\n\r\n\t\tconst scope = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--scope') || ''\r\n\t\t).replace(' ', '');\r\n\r\n\t\tconst clearAfterClose = () => {\r\n\t\t\tthis.menu.style.margin = null;\r\n\r\n\t\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'false';\r\n\t\t\tthis.el.classList.remove('open');\r\n\r\n\t\t\tthis.fireEvent('close', this.el);\r\n\t\t\tdispatch('close.hs.dropdown', this.el, this.el);\r\n\t\t};\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tif (scope === 'window') this.menu.classList.remove('open');\r\n\r\n\t\tif (isAnimated) {\r\n\t\t\tconst el: HTMLElement =\r\n\t\t\t\tthis.el.querySelector('[data-hs-dropdown-transition]') || this.menu;\r\n\r\n\t\t\tafterTransition(el, () => this.destroyPopper());\r\n\t\t} else this.destroyPopper();\r\n\r\n\t\tclearAfterClose();\r\n\t}\r\n\r\n\tpublic forceClearState() {\r\n\t\tthis.destroyPopper();\r\n\t\tthis.menu.style.margin = null;\r\n\t\tthis.el.classList.remove('open');\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\tif (!isIOS() && !isIpadOS()) {\r\n\t\t\tthis.el.removeEventListener(\r\n\t\t\t\t'mouseenter',\r\n\t\t\t\tthis.onElementMouseEnterListener,\r\n\t\t\t);\r\n\t\t\tthis.el.removeEventListener(\r\n\t\t\t\t'mouseleave',\r\n\t\t\t\t() => this.onElementMouseLeaveListener,\r\n\t\t\t);\r\n\r\n\t\t\tthis.onElementMouseEnterListener = null;\r\n\t\t\tthis.onElementMouseLeaveListener = null;\r\n\t\t}\r\n\t\tthis.toggle.removeEventListener('click', this.onToggleClickListener);\r\n\t\tthis.onToggleClickListener = null;\r\n\t\tif (this.closers.length) {\r\n\t\t\tthis.closers.forEach((el: HTMLButtonElement) => {\r\n\t\t\t\tel.removeEventListener(\r\n\t\t\t\t\t'click',\r\n\t\t\t\t\tthis.onCloserClickListener.find((closer) => closer.el === el).fn,\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\tthis.onCloserClickListener = null;\r\n\t\t}\r\n\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('open');\r\n\r\n\t\tthis.destroyPopper();\r\n\r\n\t\twindow.$hsDropdownCollection = window.$hsDropdownCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSDropdown | HTMLElement | string): ICollectionItem<HSDropdown> | null {\r\n\t\treturn window.$hsDropdownCollection.find((el) => {\r\n\t\t\tif (target instanceof HSDropdown) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsDropdownCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsDropdownCollection) {\r\n\t\t\twindow.$hsDropdownCollection = [];\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSDropdown.accessibility(evt),\r\n\t\t\t);\r\n\r\n\t\t\twindow.addEventListener('click', (evt) => {\r\n\t\t\t\tconst evtTarget = evt.target;\r\n\r\n\t\t\t\tHSDropdown.closeCurrentlyOpened(evtTarget as HTMLElement);\r\n\t\t\t});\r\n\r\n\t\t\tlet prevWidth = window.innerWidth;\r\n\t\t\twindow.addEventListener('resize', () => {\r\n\t\t\t\tif (window.innerWidth !== prevWidth) {\r\n\t\t\t\t\tprevWidth = innerWidth;\r\n\t\t\t\t\tHSDropdown.closeCurrentlyOpened(null, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (window.$hsDropdownCollection)\r\n\t\t\twindow.$hsDropdownCollection = window.$hsDropdownCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-dropdown:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: IHTMLElementPopper) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsDropdownCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSDropdown(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic open(target: HSDropdown | HTMLElement | string) {\r\n\t\tconst instance = HSDropdown.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\tinstance.element.menu.classList.contains('hidden')\r\n\t\t) instance.element.open();\r\n\t}\r\n\r\n\tstatic close(target: HSDropdown | HTMLElement | string) {\r\n\t\tconst instance = HSDropdown.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\t!instance.element.menu.classList.contains('hidden')\r\n\t\t) instance.element.close();\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tthis.history = menuSearchHistory;\r\n\r\n\t\tconst target: ICollectionItem<HSDropdown> | null =\r\n\t\t\twindow.$hsDropdownCollection.find((el) =>\r\n\t\t\t\tel.element.el.classList.contains('open'),\r\n\t\t\t);\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\t(DROPDOWN_ACCESSIBILITY_KEY_SET.includes(evt.code) ||\r\n\t\t\t\t(evt.code.length === 4 &&\r\n\t\t\t\t\tevt.code[evt.code.length - 1].match(/^[A-Z]*$/))) &&\r\n\t\t\t!evt.metaKey &&\r\n\t\t\t!target.element.menu.querySelector('input:focus') &&\r\n\t\t\t!target.element.menu.querySelector('textarea:focus')\r\n\t\t) {\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase 'Escape':\r\n\t\t\t\t\tif (!target.element.menu.querySelector('.hs-select.active')) {\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tthis.onEscape(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!target.element.menu.querySelector('.hs-select button:focus') &&\r\n\t\t\t\t\t\t!target.element.menu.querySelector('.hs-collapse-toggle:focus')\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowRight':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrowX(evt, 'right');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowLeft':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrowX(evt, 'left');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onFirstLetter(evt.key);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape(evt: KeyboardEvent) {\r\n\t\tconst dropdown = (evt.target as HTMLElement).closest('.hs-dropdown.open');\r\n\r\n\t\tif (window.$hsDropdownCollection.find((el) => el.element.el === dropdown)) {\r\n\t\t\tconst target = window.$hsDropdownCollection.find(\r\n\t\t\t\t(el) => el.element.el === dropdown,\r\n\t\t\t);\r\n\r\n\t\t\tif (target) {\r\n\t\t\t\ttarget.element.close();\r\n\t\t\t\ttarget.element.toggle.focus();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.closeCurrentlyOpened();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEnter(evt: KeyboardEvent) {\r\n\t\tconst target = evt.target as HTMLElement;\r\n\t\tconst { element } =\r\n\t\t\twindow.$hsDropdownCollection.find(\r\n\t\t\t\t(el) => el.element.el === target.closest('.hs-dropdown'),\r\n\t\t\t) ?? null;\r\n\r\n\t\tif (element && target.classList.contains('hs-dropdown-toggle')) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\telement.open();\r\n\t\t} else if (element && target.getAttribute('role') === 'menuitemcheckbox') {\r\n\t\t\telement.selectCheckbox(target);\r\n\t\t\telement.close();\r\n\t\t} else if (element && target.getAttribute('role') === 'menuitemradio') {\r\n\t\t\telement.selectRadio(target);\r\n\t\t\telement.close();\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrow(isArrowUp = true) {\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst menu = target.element.menu;\r\n\r\n\t\t\tif (!menu) return false;\r\n\r\n\t\t\tconst preparedLinks = isArrowUp\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\tmenu.querySelectorAll(\r\n\t\t\t\t\t\t'a:not([hidden]), .hs-dropdown > button:not([hidden]), [role=\"button\"]:not([hidden]), [role^=\"menuitem\"]:not([hidden])',\r\n\t\t\t\t\t),\r\n\t\t\t\t).reverse()\r\n\t\t\t\t: Array.from(\r\n\t\t\t\t\tmenu.querySelectorAll(\r\n\t\t\t\t\t\t'a:not([hidden]), .hs-dropdown > button:not([hidden]), [role=\"button\"]:not([hidden]), [role^=\"menuitem\"]:not([hidden])',\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\tconst visiblePreparedLinks = Array.from(preparedLinks).filter((item) => {\r\n\t\t\t\tconst el = item as HTMLElement;\r\n\r\n\t\t\t\treturn el.closest('[hidden]') === null && el.offsetParent !== null;\r\n\t\t\t});\r\n\t\t\tconst links = visiblePreparedLinks.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current = menu.querySelector(\r\n\t\t\t\t'a:focus, button:focus, [role=\"button\"]:focus, [role^=\"menuitem\"]:focus',\r\n\t\t\t);\r\n\t\t\tlet currentInd = links.findIndex((el: any) => el === current);\r\n\r\n\t\t\tif (currentInd + 1 < links.length) {\r\n\t\t\t\tcurrentInd++;\r\n\t\t\t}\r\n\r\n\t\t\t(links[currentInd] as HTMLButtonElement | HTMLAnchorElement).focus();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrowX(evt: KeyboardEvent, direction: 'right' | 'left') {\r\n\t\tconst toggle = evt.target as HTMLElement;\r\n\t\tconst closestDropdown = toggle.closest('.hs-dropdown.open');\r\n\t\tconst isRootDropdown =\r\n\t\t\t!!closestDropdown &&\r\n\t\t\t!closestDropdown?.parentElement.closest('.hs-dropdown');\r\n\t\tconst menuToOpen =\r\n\t\t\t(HSDropdown.getInstance(\r\n\t\t\t\ttoggle.closest('.hs-dropdown') as HTMLElement,\r\n\t\t\t\ttrue,\r\n\t\t\t) as ICollectionItem<HSDropdown>) ?? null;\r\n\t\tconst firstLink = menuToOpen.element.menu.querySelector(\r\n\t\t\t'a, button, [role=\"button\"], [role^=\"menuitem\"]',\r\n\t\t) as HTMLButtonElement;\r\n\r\n\t\tif (isRootDropdown && !toggle.classList.contains('hs-dropdown-toggle'))\r\n\t\t\treturn false;\r\n\r\n\t\tconst menuToClose =\r\n\t\t\t(HSDropdown.getInstance(\r\n\t\t\t\ttoggle.closest('.hs-dropdown.open') as HTMLElement,\r\n\t\t\t\ttrue,\r\n\t\t\t) as ICollectionItem<HSDropdown>) ?? null;\r\n\r\n\t\tif (\r\n\t\t\tmenuToOpen.element.el.classList.contains('open') &&\r\n\t\t\tmenuToOpen.element.el._popper.state.placement.includes(direction)\r\n\t\t) {\r\n\t\t\tfirstLink.focus();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconsole.log(menuToOpen);\r\n\r\n\t\tconst futurePosition = menuToOpen.element.calculatePopperPosition();\r\n\r\n\t\tif (isRootDropdown && !futurePosition.includes(direction)) return false;\r\n\r\n\t\tif (\r\n\t\t\tfuturePosition.includes(direction) &&\r\n\t\t\ttoggle.classList.contains('hs-dropdown-toggle')\r\n\t\t) {\r\n\t\t\tmenuToOpen.element.open();\r\n\t\t\tfirstLink.focus();\r\n\t\t} else {\r\n\t\t\tmenuToClose.element.close(false);\r\n\t\t\tmenuToClose.element.toggle.focus();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isStart = true) {\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst menu = target.element.menu;\r\n\r\n\t\t\tif (!menu) return false;\r\n\r\n\t\t\tconst preparedLinks = isStart\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\tmenu.querySelectorAll(\r\n\t\t\t\t\t\t'a, button, [role=\"button\"], [role^=\"menuitem\"]',\r\n\t\t\t\t\t),\r\n\t\t\t\t)\r\n\t\t\t\t: Array.from(\r\n\t\t\t\t\tmenu.querySelectorAll(\r\n\t\t\t\t\t\t'a, button, [role=\"button\"], [role^=\"menuitem\"]',\r\n\t\t\t\t\t),\r\n\t\t\t\t).reverse();\r\n\t\t\tconst links = preparedLinks.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\r\n\t\t\tif (links.length) {\r\n\t\t\t\t(links[0] as HTMLButtonElement).focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onFirstLetter(code: string) {\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst menu = target.element.menu;\r\n\r\n\t\t\tif (!menu) return false;\r\n\r\n\t\t\tconst links = Array.from(\r\n\t\t\t\tmenu.querySelectorAll('a, [role=\"button\"], [role^=\"menuitem\"]'),\r\n\t\t\t);\r\n\t\t\tconst getCurrentInd = () =>\r\n\t\t\t\tlinks.findIndex(\r\n\t\t\t\t\t(el, i) =>\r\n\t\t\t\t\t\t(el as HTMLElement).innerText.toLowerCase().charAt(0) ===\r\n\t\t\t\t\t\tcode.toLowerCase() && this.history.existsInHistory(i),\r\n\t\t\t\t);\r\n\t\t\tlet currentInd = getCurrentInd();\r\n\r\n\t\t\tif (currentInd === -1) {\r\n\t\t\t\tthis.history.clearHistory();\r\n\t\t\t\tcurrentInd = getCurrentInd();\r\n\t\t\t}\r\n\r\n\t\t\tif (currentInd !== -1) {\r\n\t\t\t\t(links[currentInd] as HTMLElement).focus();\r\n\t\t\t\tthis.history.addHistory(currentInd);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic closeCurrentlyOpened(\r\n\t\tevtTarget: HTMLElement | null = null,\r\n\t\tisAnimated = true,\r\n\t) {\r\n\t\tconst parent =\r\n\t\t\tevtTarget &&\r\n\t\t\t\tevtTarget.closest('.hs-dropdown') &&\r\n\t\t\t\tevtTarget.closest('.hs-dropdown').parentElement.closest('.hs-dropdown')\r\n\t\t\t\t? evtTarget\r\n\t\t\t\t\t.closest('.hs-dropdown')\r\n\t\t\t\t\t.parentElement.closest('.hs-dropdown')\r\n\t\t\t\t: null;\r\n\t\tlet currentlyOpened = parent\r\n\t\t\t? window.$hsDropdownCollection.filter(\r\n\t\t\t\t(el) =>\r\n\t\t\t\t\tel.element.el.classList.contains('open') &&\r\n\t\t\t\t\tel.element.menu\r\n\t\t\t\t\t\t.closest('.hs-dropdown')\r\n\t\t\t\t\t\t.parentElement.closest('.hs-dropdown') === parent,\r\n\t\t\t)\r\n\t\t\t: window.$hsDropdownCollection.filter((el) =>\r\n\t\t\t\tel.element.el.classList.contains('open'),\r\n\t\t\t);\r\n\r\n\t\tif (\r\n\t\t\tevtTarget &&\r\n\t\t\tevtTarget.closest('.hs-dropdown') &&\r\n\t\t\tgetClassPropertyAlt(evtTarget.closest('.hs-dropdown'), '--auto-close') ===\r\n\t\t\t'inside'\r\n\t\t) {\r\n\t\t\tcurrentlyOpened = currentlyOpened.filter(\r\n\t\t\t\t(el) => el.element.el !== evtTarget.closest('.hs-dropdown'),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (currentlyOpened) {\r\n\t\t\tcurrentlyOpened.forEach((el) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tel.element.closeMode === 'false' ||\r\n\t\t\t\t\tel.element.closeMode === 'outside'\r\n\t\t\t\t)\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tel.element.close(isAnimated);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (currentlyOpened) {\r\n\t\t\tcurrentlyOpened.forEach((el) => {\r\n\t\t\t\tif (getClassPropertyAlt(el.element.el, '--trigger') !== 'contextmenu')\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tdocument.body.style.overflow = '';\r\n\t\t\t\tdocument.body.style.paddingRight = '';\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HSDropdown | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSDropdown.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSDropdown: Function;\r\n\t\t$hsDropdownCollection: ICollectionItem<HSDropdown>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSDropdown.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Dropdown collection:', window.$hsDropdownCollection);\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tif (!window.$hsDropdownCollection) window.$hsDropdownCollection = [];\r\n\r\n\twindow.$hsDropdownCollection.forEach((el) => el.element.resizeHandler());\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSDropdown = HSDropdown;\r\n}\r\n\r\nexport default HSDropdown;\r\n", "/*\r\n * HSInputNumber\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { IInputNumberOptions, IInputNumber } from '../input-number/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\n\r\nclass HSInputNumber\r\n\textends HSBasePlugin<IInputNumberOptions>\r\n\timplements IInputNumber\r\n{\r\n\tprivate readonly input: HTMLInputElement | null;\r\n\tprivate readonly increment: HTMLElement | null;\r\n\tprivate readonly decrement: HTMLElement | null;\r\n\tprivate inputValue: number | null;\r\n\tprivate readonly minInputValue: number | null;\r\n\tprivate readonly maxInputValue: number | null;\r\n\tprivate readonly step: number;\r\n\r\n\tprivate onInputInputListener: () => void;\r\n\tprivate onIncrementClickListener: () => void;\r\n\tprivate onDecrementClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IInputNumberOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tthis.input = this.el.querySelector('[data-hs-input-number-input]') || null;\r\n\t\tthis.increment =\r\n\t\t\tthis.el.querySelector('[data-hs-input-number-increment]') || null;\r\n\t\tthis.decrement =\r\n\t\t\tthis.el.querySelector('[data-hs-input-number-decrement]') || null;\r\n\r\n\t\tif (this.input) this.checkIsNumberAndConvert();\r\n\r\n\t\tconst data = this.el.dataset.hsInputNumber;\r\n\t\tconst dataOptions: IInputNumberOptions = data\r\n\t\t\t? JSON.parse(data)\r\n\t\t\t: { step: 1 };\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.minInputValue = 'min' in concatOptions ? concatOptions.min : 0;\r\n\t\tthis.maxInputValue = 'max' in concatOptions ? concatOptions.max : null;\r\n\t\tthis.step =\r\n\t\t\t'step' in concatOptions && concatOptions.step > 0\r\n\t\t\t\t? concatOptions.step\r\n\t\t\t\t: 1;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate inputInput() {\r\n\t\tthis.changeValue();\r\n\t}\r\n\r\n\tprivate incrementClick() {\r\n\t\tthis.changeValue('increment');\r\n\t}\r\n\r\n\tprivate decrementClick() {\r\n\t\tthis.changeValue('decrement');\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsInputNumberCollection, this);\r\n\r\n\t\tif (this.input && this.increment) this.build();\r\n\t}\r\n\r\n\tprivate checkIsNumberAndConvert() {\r\n\t\tconst value = this.input.value.trim();\r\n\t\tconst cleanedValue = this.cleanAndExtractNumber(value);\r\n\r\n\t\tif (cleanedValue !== null) {\r\n\t\t\tthis.inputValue = cleanedValue;\r\n\t\t\tthis.input.value = cleanedValue.toString();\r\n\t\t} else {\r\n\t\t\tthis.inputValue = 0;\r\n\t\t\tthis.input.value = '0';\r\n\t\t}\r\n\t}\r\n\r\n\tprivate cleanAndExtractNumber(value: string): number | null {\r\n\t\tconst cleanedArray: string[] = [];\r\n\t\tlet decimalFound = false;\r\n\r\n\t\tvalue.split('').forEach((char) => {\r\n\t\t\tif (char >= '0' && char <= '9') cleanedArray.push(char);\r\n\t\t\telse if (char === '.' && !decimalFound) {\r\n\t\t\t\tcleanedArray.push(char);\r\n\t\t\t\tdecimalFound = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst cleanedValue = cleanedArray.join('');\r\n\t\tconst number = parseFloat(cleanedValue);\r\n\r\n\t\treturn isNaN(number) ? null : number;\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tif (this.input) this.buildInput();\r\n\t\tif (this.increment) this.buildIncrement();\r\n\t\tif (this.decrement) this.buildDecrement();\r\n\r\n\t\tif (this.inputValue <= this.minInputValue) {\r\n\t\t\tthis.inputValue = this.minInputValue;\r\n\t\t\tthis.input.value = `${this.minInputValue}`;\r\n\t\t}\r\n\r\n\t\tif (this.inputValue <= this.minInputValue) this.changeValue();\r\n\r\n\t\tif (this.input.hasAttribute('disabled')) this.disableButtons();\r\n\t}\r\n\r\n\tprivate buildInput() {\r\n\t\tthis.onInputInputListener = () => this.inputInput();\r\n\r\n\t\tthis.input.addEventListener('input', this.onInputInputListener);\r\n\t}\r\n\r\n\tprivate buildIncrement() {\r\n\t\tthis.onIncrementClickListener = () => this.incrementClick();\r\n\r\n\t\tthis.increment.addEventListener('click', this.onIncrementClickListener);\r\n\t}\r\n\r\n\tprivate buildDecrement() {\r\n\t\tthis.onDecrementClickListener = () => this.decrementClick();\r\n\r\n\t\tthis.decrement.addEventListener('click', this.onDecrementClickListener);\r\n\t}\r\n\r\n\tprivate changeValue(event = 'none') {\r\n\t\tconst payload = { inputValue: this.inputValue };\r\n\t\tconst minInputValue = this.minInputValue ?? Number.MIN_SAFE_INTEGER;\r\n\t\tconst maxInputValue = this.maxInputValue ?? Number.MAX_SAFE_INTEGER;\r\n\r\n\t\tthis.inputValue = isNaN(this.inputValue) ? 0 : this.inputValue;\r\n\r\n\t\tswitch (event) {\r\n\t\t\tcase 'increment':\r\n\t\t\t\tconst incrementedResult = this.inputValue + this.step;\r\n\t\t\t\tthis.inputValue =\r\n\t\t\t\t\tincrementedResult >= minInputValue &&\r\n\t\t\t\t\tincrementedResult <= maxInputValue\r\n\t\t\t\t\t\t? incrementedResult\r\n\t\t\t\t\t\t: maxInputValue;\r\n\t\t\t\tthis.input.value = this.inputValue.toString();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'decrement':\r\n\t\t\t\tconst decrementedResult = this.inputValue - this.step;\r\n\t\t\t\tthis.inputValue =\r\n\t\t\t\t\tdecrementedResult >= minInputValue &&\r\n\t\t\t\t\tdecrementedResult <= maxInputValue\r\n\t\t\t\t\t\t? decrementedResult\r\n\t\t\t\t\t\t: minInputValue;\r\n\t\t\t\tthis.input.value = this.inputValue.toString();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconst defaultResult = isNaN(parseInt(this.input.value))\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: parseInt(this.input.value);\r\n\t\t\t\tthis.inputValue =\r\n\t\t\t\t\tdefaultResult >= maxInputValue\r\n\t\t\t\t\t\t? maxInputValue\r\n\t\t\t\t\t\t: defaultResult <= minInputValue\r\n\t\t\t\t\t\t\t? minInputValue\r\n\t\t\t\t\t\t\t: defaultResult;\r\n\t\t\t\tif (this.inputValue <= minInputValue)\r\n\t\t\t\t\tthis.input.value = this.inputValue.toString();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tpayload.inputValue = this.inputValue;\r\n\r\n\t\tif (this.inputValue === minInputValue) {\r\n\t\t\tthis.el.classList.add('disabled');\r\n\t\t\tif (this.decrement) this.disableButtons('decrement');\r\n\t\t} else {\r\n\t\t\tthis.el.classList.remove('disabled');\r\n\t\t\tif (this.decrement) this.enableButtons('decrement');\r\n\t\t}\r\n\t\tif (this.inputValue === maxInputValue) {\r\n\t\t\tthis.el.classList.add('disabled');\r\n\t\t\tif (this.increment) this.disableButtons('increment');\r\n\t\t} else {\r\n\t\t\tthis.el.classList.remove('disabled');\r\n\t\t\tif (this.increment) this.enableButtons('increment');\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('change', payload);\r\n\t\tdispatch('change.hs.inputNumber', this.el, payload);\r\n\t}\r\n\r\n\tprivate disableButtons(mode = 'all') {\r\n\t\tif (mode === 'all') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.setAttribute('disabled', 'disabled');\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.setAttribute('disabled', 'disabled');\r\n\t\t} else if (mode === 'increment') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.setAttribute('disabled', 'disabled');\r\n\t\t} else if (mode === 'decrement') {\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.setAttribute('disabled', 'disabled');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate enableButtons(mode = 'all') {\r\n\t\tif (mode === 'all') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.removeAttribute('disabled');\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.removeAttribute('disabled');\r\n\t\t} else if (mode === 'increment') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.removeAttribute('disabled');\r\n\t\t} else if (mode === 'decrement') {\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.removeAttribute('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('disabled');\r\n\r\n\t\t// Remove attributes\r\n\t\tthis.increment.removeAttribute('disabled');\r\n\t\tthis.decrement.removeAttribute('disabled');\r\n\r\n\t\t// Remove listeners\r\n\t\tthis.input.removeEventListener('input', this.onInputInputListener);\r\n\t\tthis.increment.removeEventListener('click', this.onIncrementClickListener);\r\n\t\tthis.decrement.removeEventListener('click', this.onDecrementClickListener);\r\n\r\n\t\twindow.$hsInputNumberCollection = window.$hsInputNumberCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Global method\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsInputNumberCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsInputNumberCollection) window.$hsInputNumberCollection = [];\r\n\r\n\t\tif (window.$hsInputNumberCollection)\r\n\t\t\twindow.$hsInputNumberCollection = window.$hsInputNumberCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-input-number]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsInputNumberCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSInputNumber(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSInputNumber: Function;\r\n\t\t$hsInputNumberCollection: {\r\n\t\t\tid: number;\r\n\t\t\telement: HSInputNumber;\r\n\t\t}[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSInputNumber.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Input number collection:', window.$hsInputNumberCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSInputNumber = HSInputNumber;\r\n}\r\n\r\nexport default HSInputNumber;\r\n", "/*\r\n * HSLayoutSplitter\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\nimport { isJson, classToClassList, htmlToElement, dispatch } from '../../utils';\r\n\r\nimport {\r\n\tILayoutSplitterOptions,\r\n\tILayoutSplitter,\r\n\tISingleLayoutSplitter,\r\n\tIControlLayoutSplitter,\r\n} from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSLayoutSplitter\r\n\textends HSBasePlugin<ILayoutSplitterOptions>\r\n\timplements ILayoutSplitter {\r\n\tstatic isListenersInitialized = false;\r\n\r\n\tprivate readonly horizontalSplitterClasses: string | null;\r\n\tprivate readonly horizontalSplitterTemplate: string;\r\n\tprivate readonly verticalSplitterClasses: string | null;\r\n\tprivate readonly verticalSplitterTemplate: string;\r\n\tprivate readonly isSplittersAddedManually: boolean;\r\n\r\n\tprivate horizontalSplitters: ISingleLayoutSplitter[];\r\n\tprivate horizontalControls: IControlLayoutSplitter[];\r\n\tprivate verticalSplitters: ISingleLayoutSplitter[];\r\n\tprivate verticalControls: IControlLayoutSplitter[];\r\n\r\n\tisDragging: boolean;\r\n\tactiveSplitter: IControlLayoutSplitter | null;\r\n\r\n\tprivate onControlPointerDownListener:\r\n\t\t| {\r\n\t\t\tel: HTMLElement;\r\n\t\t\tfn: () => void;\r\n\t\t}[]\r\n\t\t| null;\r\n\r\n\tconstructor(el: HTMLElement, options?: ILayoutSplitterOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-layout-splitter');\r\n\t\tconst dataOptions: ILayoutSplitterOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.horizontalSplitterClasses =\r\n\t\t\tconcatOptions?.horizontalSplitterClasses || null;\r\n\t\tthis.horizontalSplitterTemplate =\r\n\t\t\tconcatOptions?.horizontalSplitterTemplate || '<div></div>';\r\n\t\tthis.verticalSplitterClasses =\r\n\t\t\tconcatOptions?.verticalSplitterClasses || null;\r\n\t\tthis.verticalSplitterTemplate =\r\n\t\t\tconcatOptions?.verticalSplitterTemplate || '<div></div>';\r\n\t\tthis.isSplittersAddedManually = concatOptions?.isSplittersAddedManually ?? false;\r\n\r\n\t\tthis.horizontalSplitters = [];\r\n\t\tthis.horizontalControls = [];\r\n\t\tthis.verticalSplitters = [];\r\n\t\tthis.verticalControls = [];\r\n\r\n\t\tthis.isDragging = false;\r\n\t\tthis.activeSplitter = null;\r\n\r\n\t\tthis.onControlPointerDownListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate controlPointerDown(item: IControlLayoutSplitter) {\r\n\t\tthis.isDragging = true;\r\n\t\tthis.activeSplitter = item;\r\n\r\n\t\tthis.onPointerDownHandler(item);\r\n\t}\r\n\r\n\tprivate controlPointerUp() {\r\n\t\tthis.isDragging = false;\r\n\t\tthis.activeSplitter = null;\r\n\r\n\t\tthis.onPointerUpHandler();\r\n\t}\r\n\r\n\tprivate static onDocumentPointerMove = (evt: PointerEvent) => {\r\n\t\tconst draggingElement = document.querySelector(\r\n\t\t\t'.hs-layout-splitter-control.dragging',\r\n\t\t);\r\n\t\tif (!draggingElement) return;\r\n\r\n\t\tconst draggingInstance = HSLayoutSplitter.getInstance(\r\n\t\t\tdraggingElement.closest('[data-hs-layout-splitter]') as HTMLElement,\r\n\t\t\ttrue,\r\n\t\t) as ICollectionItem<HSLayoutSplitter>;\r\n\r\n\t\tif (!draggingInstance || !draggingInstance.element.isDragging) return;\r\n\r\n\t\tconst activeSplitter = draggingInstance.element.activeSplitter;\r\n\t\tif (!activeSplitter) return;\r\n\r\n\t\tif (activeSplitter.direction === 'vertical')\r\n\t\t\tdraggingInstance.element.onPointerMoveHandler(\r\n\t\t\t\tevt,\r\n\t\t\t\tactiveSplitter,\r\n\t\t\t\t'vertical'\r\n\t\t\t);\r\n\t\telse\r\n\t\t\tdraggingInstance.element.onPointerMoveHandler(\r\n\t\t\t\tevt,\r\n\t\t\t\tactiveSplitter,\r\n\t\t\t\t'horizontal'\r\n\t\t\t);\r\n\t};\r\n\r\n\tprivate static onDocumentPointerUp = () => {\r\n\t\tconst draggingElement = document.querySelector(\r\n\t\t\t'.hs-layout-splitter-control.dragging',\r\n\t\t);\r\n\t\tif (!draggingElement) return;\r\n\r\n\t\tconst draggingInstance = HSLayoutSplitter.getInstance(\r\n\t\t\tdraggingElement.closest('[data-hs-layout-splitter]') as HTMLElement,\r\n\t\t\ttrue,\r\n\t\t) as ICollectionItem<HSLayoutSplitter>;\r\n\r\n\t\tif (draggingInstance) draggingInstance.element.controlPointerUp();\r\n\t};\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsLayoutSplitterCollection, this);\r\n\t\tthis.buildSplitters();\r\n\r\n\t\tif (!HSLayoutSplitter.isListenersInitialized) {\r\n\t\t\tdocument.addEventListener(\r\n\t\t\t\t'pointermove',\r\n\t\t\t\tHSLayoutSplitter.onDocumentPointerMove,\r\n\t\t\t);\r\n\r\n\t\t\tdocument.addEventListener(\r\n\t\t\t\t'pointerup',\r\n\t\t\t\tHSLayoutSplitter.onDocumentPointerUp,\r\n\t\t\t);\r\n\r\n\t\t\tHSLayoutSplitter.isListenersInitialized = true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildSplitters() {\r\n\t\tthis.buildHorizontalSplitters();\r\n\t\tthis.buildVerticalSplitters();\r\n\t}\r\n\r\n\tprivate buildHorizontalSplitters() {\r\n\t\tconst groups = this.el.querySelectorAll(\r\n\t\t\t'[data-hs-layout-splitter-horizontal-group]',\r\n\t\t);\r\n\r\n\t\tif (groups.length) {\r\n\t\t\tgroups.forEach((el: HTMLElement) => {\r\n\t\t\t\tthis.horizontalSplitters.push({\r\n\t\t\t\t\tel,\r\n\t\t\t\t\titems: Array.from(\r\n\t\t\t\t\t\tel.querySelectorAll(':scope > [data-hs-layout-splitter-item]'),\r\n\t\t\t\t\t),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis.updateHorizontalSplitter();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildVerticalSplitters() {\r\n\t\tconst groups = this.el.querySelectorAll(\r\n\t\t\t'[data-hs-layout-splitter-vertical-group]',\r\n\t\t);\r\n\r\n\t\tif (groups.length) {\r\n\t\t\tgroups.forEach((el: HTMLElement) => {\r\n\t\t\t\tthis.verticalSplitters.push({\r\n\t\t\t\t\tel,\r\n\t\t\t\t\titems: Array.from(\r\n\t\t\t\t\t\tel.querySelectorAll(':scope > [data-hs-layout-splitter-item]'),\r\n\t\t\t\t\t),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis.updateVerticalSplitter();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildControl(\r\n\t\tprev: HTMLElement | null,\r\n\t\tnext: HTMLElement | null,\r\n\t\tdirection: 'horizontal' | 'vertical' = 'horizontal',\r\n\t) {\r\n\t\tlet el;\r\n\r\n\t\tif (this.isSplittersAddedManually) {\r\n\t\t\tel = next?.previousElementSibling as HTMLElement;\r\n\r\n\t\t\tif (!el) return false;\r\n\r\n\t\t\tel.style.display = '';\r\n\t\t} else {\r\n\t\t\tel = htmlToElement(direction === 'horizontal' ? this.horizontalSplitterTemplate : this.verticalSplitterTemplate) as HTMLElement;\r\n\t\t\tclassToClassList(direction === 'horizontal' ? this.horizontalSplitterClasses : this.verticalSplitterClasses, el);\r\n\t\t\tel.classList.add('hs-layout-splitter-control');\r\n\t\t}\r\n\r\n\t\tconst item = { el, direction, prev, next };\r\n\r\n\t\tif (direction === 'horizontal') this.horizontalControls.push(item);\r\n\t\telse this.verticalControls.push(item);\r\n\r\n\t\tthis.bindListeners(item);\r\n\r\n\t\tif (next && !this.isSplittersAddedManually) prev.insertAdjacentElement('afterend', el);\r\n\t}\r\n\r\n\tprivate getSplitterItemParsedParam(item: HTMLElement) {\r\n\t\tconst param = item.getAttribute('data-hs-layout-splitter-item');\r\n\r\n\t\treturn isJson(param) ? JSON.parse(param) : param;\r\n\t}\r\n\r\n\tprivate getContainerSize(container: Element, isHorizontal: boolean): number {\r\n\t\treturn isHorizontal ? container.getBoundingClientRect().width : container.getBoundingClientRect().height;\r\n\t}\r\n\r\n\tprivate getMaxFlexSize(element: HTMLElement, param: string, totalWidth: number): number {\r\n\t\tconst paramValue = this.getSplitterItemSingleParam(element, param);\r\n\r\n\t\treturn typeof paramValue === 'number' ? (paramValue / 100) * totalWidth : 0;\r\n\t}\r\n\r\n\tprivate updateHorizontalSplitter() {\r\n\t\tthis.horizontalSplitters.forEach(({ items }) => {\r\n\t\t\titems.forEach((el: HTMLElement) => {\r\n\t\t\t\tthis.updateSingleSplitter(el);\r\n\t\t\t});\r\n\r\n\t\t\titems.forEach((el: HTMLElement, index: number) => {\r\n\t\t\t\tif (index >= items.length - 1) this.buildControl(el, null);\r\n\t\t\t\telse this.buildControl(el, items[index + 1]);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate updateSingleSplitter(el: HTMLElement) {\r\n\t\tconst param = el.getAttribute('data-hs-layout-splitter-item');\r\n\t\tconst parsedParam = isJson(param) ? JSON.parse(param) : param;\r\n\t\tconst width = isJson(param) ? parsedParam.dynamicSize : param;\r\n\t\tel.style.flex = `${width} 1 0`;\r\n\t}\r\n\r\n\tprivate updateVerticalSplitter() {\r\n\t\tthis.verticalSplitters.forEach(({ items }) => {\r\n\t\t\titems.forEach((el: HTMLElement) => {\r\n\t\t\t\tthis.updateSingleSplitter(el);\r\n\t\t\t});\r\n\r\n\t\t\titems.forEach((el: HTMLElement, index: number) => {\r\n\t\t\t\tif (index >= items.length - 1) this.buildControl(el, null, 'vertical');\r\n\t\t\t\telse this.buildControl(el, items[index + 1], 'vertical');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate updateSplitterItemParam(item: HTMLElement, newSize: number) {\r\n\t\tconst param = this.getSplitterItemParsedParam(item);\r\n\t\tconst newSizeFixed = newSize.toFixed(1);\r\n\t\tconst newParam = typeof param === 'object' ? JSON.stringify({\r\n\t\t\t...param,\r\n\t\t\tdynamicSize: +newSizeFixed,\r\n\t\t}) : newSizeFixed;\r\n\r\n\t\titem.setAttribute(\r\n\t\t\t'data-hs-layout-splitter-item',\r\n\t\t\tnewParam,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate onPointerDownHandler(item: IControlLayoutSplitter) {\r\n\t\tconst { el, prev, next } = item;\r\n\r\n\t\tel.classList.add('dragging');\r\n\t\tprev.classList.add('dragging');\r\n\t\tnext.classList.add('dragging');\r\n\t\tdocument.body.style.userSelect = 'none';\r\n\t}\r\n\r\n\tprivate onPointerUpHandler() {\r\n\t\tdocument.body.style.userSelect = '';\r\n\t}\r\n\r\n\tprivate onPointerMoveHandler(\r\n\t\tevt: PointerEvent,\r\n\t\titem: IControlLayoutSplitter,\r\n\t\tdirection: 'horizontal' | 'vertical'\r\n\t) {\r\n\t\tconst { prev, next } = item;\r\n\t\tconst container = item.el.closest(\r\n\t\t\tdirection === 'horizontal'\r\n\t\t\t\t? '[data-hs-layout-splitter-horizontal-group]'\r\n\t\t\t\t: '[data-hs-layout-splitter-vertical-group]'\r\n\t\t);\r\n\t\tconst isHorizontal = direction === 'horizontal';\r\n\t\tconst totalSize = this.getContainerSize(container, isHorizontal);\r\n\t\tconst availableSize = this.calculateAvailableSize(container, prev, next, isHorizontal, totalSize);\r\n\r\n\t\tconst sizes = this.calculateResizedSizes(evt, prev, availableSize, isHorizontal);\r\n\t\tconst adjustedSizes = this.enforceLimits(sizes, prev, next, totalSize, availableSize);\r\n\r\n\t\tthis.applySizes(prev, next, adjustedSizes, totalSize);\r\n\t}\r\n\r\n\tprivate bindListeners(item: IControlLayoutSplitter) {\r\n\t\tconst { el } = item;\r\n\r\n\t\tthis.onControlPointerDownListener.push({\r\n\t\t\tel,\r\n\t\t\tfn: () => this.controlPointerDown(item),\r\n\t\t});\r\n\r\n\t\tel.addEventListener(\r\n\t\t\t'pointerdown',\r\n\t\t\tthis.onControlPointerDownListener.find((control) => control.el === el).fn,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate calculateAvailableSize(\r\n\t\tcontainer: Element,\r\n\t\tprev: HTMLElement,\r\n\t\tnext: HTMLElement,\r\n\t\tisHorizontal: boolean,\r\n\t\ttotalSize: number\r\n\t): number {\r\n\t\tconst items = container.querySelectorAll(':scope > [data-hs-layout-splitter-item]');\r\n\t\tconst otherSize = Array.from(items).reduce((sum, item) => {\r\n\t\t\tif (item === prev || item === next) return sum;\r\n\r\n\t\t\tconst rect = item.getBoundingClientRect();\r\n\t\t\t// TODO:: Test\r\n\t\t\tconst computedStyle = window.getComputedStyle(item);\r\n\r\n\t\t\treturn sum + (computedStyle.position === 'fixed' ? 0 : (isHorizontal ? rect.width : rect.height));\r\n\t\t}, 0);\r\n\r\n\t\treturn totalSize - otherSize;\r\n\t}\r\n\r\n\tprivate calculateResizedSizes(\r\n\t\tevt: PointerEvent,\r\n\t\tprev: HTMLElement,\r\n\t\tavailableSize: number,\r\n\t\tisHorizontal: boolean\r\n\t): {\r\n\t\tpreviousSize: number;\r\n\t\tnextSize: number\r\n\t} {\r\n\t\tconst prevStart = isHorizontal ? prev.getBoundingClientRect().left : prev.getBoundingClientRect().top;\r\n\t\tlet previousSize = Math.max(0, Math.min((isHorizontal ? evt.clientX : evt.clientY) - prevStart, availableSize));\r\n\t\tlet nextSize = availableSize - previousSize;\r\n\r\n\t\treturn { previousSize, nextSize };\r\n\t}\r\n\r\n\tprivate enforceLimits(\r\n\t\tsizes: {\r\n\t\t\tpreviousSize: number;\r\n\t\t\tnextSize: number\r\n\t\t},\r\n\t\tprev: HTMLElement,\r\n\t\tnext: HTMLElement,\r\n\t\ttotalSize: number,\r\n\t\tavailableSize: number\r\n\t): {\r\n\t\tpreviousSize: number;\r\n\t\tnextSize: number;\r\n\t} {\r\n\t\tconst prevMinSize = this.getMaxFlexSize(prev, 'minSize', totalSize);\r\n\t\tconst nextMinSize = this.getMaxFlexSize(next, 'minSize', totalSize);\r\n\t\tconst prevPreLimitSize = this.getMaxFlexSize(prev, 'preLimitSize', totalSize);\r\n\t\tconst nextPreLimitSize = this.getMaxFlexSize(next, 'preLimitSize', totalSize);\r\n\r\n\t\tlet { previousSize, nextSize } = sizes;\r\n\r\n\t\tif (nextSize < nextMinSize) {\r\n\t\t\tnextSize = nextMinSize;\r\n\t\t\tpreviousSize = availableSize - nextSize;\r\n\t\t} else if (previousSize < prevMinSize) {\r\n\t\t\tpreviousSize = prevMinSize;\r\n\t\t\tnextSize = availableSize - previousSize;\r\n\t\t}\r\n\r\n\t\tconst payload = {\r\n\t\t\tprev,\r\n\t\t\tnext,\r\n\t\t\tpreviousSize: previousSize.toFixed(),\r\n\t\t\tpreviousFlexSize: (previousSize / totalSize) * 100,\r\n\t\t\tpreviousPreLimitSize: prevPreLimitSize,\r\n\t\t\tpreviousPreLimitFlexSize: (prevPreLimitSize / totalSize) * 100,\r\n\t\t\tpreviousMinSize: prevMinSize,\r\n\t\t\tpreviousMinFlexSize: (prevMinSize / totalSize) * 100,\r\n\t\t\tnextSize: nextSize.toFixed(),\r\n\t\t\tnextFlexSize: (nextSize / totalSize) * 100,\r\n\t\t\tnextPreLimitSize: nextPreLimitSize,\r\n\t\t\tnextPreLimitFlexSize: (nextPreLimitSize / totalSize) * 100,\r\n\t\t\tnextMinSize: nextMinSize,\r\n\t\t\tnextMinFlexSize: (nextMinSize / totalSize) * 100,\r\n\t\t\tstatic: {\r\n\t\t\t\tprev: {\r\n\t\t\t\t\tminSize: this.getSplitterItemSingleParam(prev, 'minSize'),\r\n\t\t\t\t\tpreLimitSize: this.getSplitterItemSingleParam(prev, 'preLimitSize')\r\n\t\t\t\t},\r\n\t\t\t\tnext: {\r\n\t\t\t\t\tminSize: this.getSplitterItemSingleParam(next, 'minSize'),\r\n\t\t\t\t\tpreLimitSize: this.getSplitterItemSingleParam(next, 'preLimitSize')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (nextSize < nextMinSize) {\r\n\t\t\tthis.fireEvent('onNextLimit', payload);\r\n\t\t\tdispatch('onNextLimit.hs.layoutSplitter', this.el, payload);\r\n\t\t} else if (previousSize < prevMinSize) {\r\n\t\t\tthis.fireEvent('onPrevLimit', payload);\r\n\t\t\tdispatch('onPrevLimit.hs.layoutSplitter', this.el, payload);\r\n\t\t}\r\n\r\n\t\tif (previousSize <= prevPreLimitSize) {\r\n\t\t\tthis.fireEvent('onPrevPreLimit', payload);\r\n\t\t\tdispatch('onPrevPreLimit.hs.layoutSplitter', this.el, payload);\r\n\t\t}\r\n\t\tif (nextSize <= nextPreLimitSize) {\r\n\t\t\tthis.fireEvent('onNextPreLimit', payload);\r\n\t\t\tdispatch('onNextPreLimit.hs.layoutSplitter', this.el, payload);\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('drag', payload);\r\n\t\tdispatch('drag.hs.layoutSplitter', this.el, payload);\r\n\r\n\t\treturn { previousSize, nextSize };\r\n\t}\r\n\r\n\tprivate applySizes(\r\n\t\tprev: HTMLElement,\r\n\t\tnext: HTMLElement,\r\n\t\tsizes: {\r\n\t\t\tpreviousSize: number;\r\n\t\t\tnextSize: number\r\n\t\t},\r\n\t\ttotalSize: number\r\n\t) {\r\n\t\tconst { previousSize, nextSize } = sizes;\r\n\r\n\t\tconst prevPercent = (previousSize / totalSize) * 100;\r\n\t\tthis.updateSplitterItemParam(prev, prevPercent);\r\n\t\tprev.style.flex = `${prevPercent.toFixed(1)} 1 0`;\r\n\r\n\t\tconst nextPercent = (nextSize / totalSize) * 100;\r\n\t\tthis.updateSplitterItemParam(next, nextPercent);\r\n\t\tnext.style.flex = `${nextPercent.toFixed(1)} 1 0`;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic getSplitterItemSingleParam(item: HTMLElement, name: string) {\r\n\t\ttry {\r\n\t\t\tconst param = this.getSplitterItemParsedParam(item);\r\n\r\n\t\t\treturn param[name];\r\n\t\t} catch {\r\n\t\t\tconsole.log('There is no parameter with this name in the object.');\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getData(el: HTMLElement): any {\r\n\t\tconst container = el.closest('[data-hs-layout-splitter-horizontal-group], [data-hs-layout-splitter-vertical-group]');\r\n\r\n\t\tif (!container) {\r\n\t\t\tthrow new Error('Element is not inside a valid layout splitter container.');\r\n\t\t}\r\n\r\n\t\tconst isHorizontal = container.matches('[data-hs-layout-splitter-horizontal-group]');\r\n\t\tconst totalSize = this.getContainerSize(container, isHorizontal);\r\n\r\n\t\tconst dynamicFlexSize = this.getSplitterItemSingleParam(el, 'dynamicSize') || 0;\r\n\t\tconst minSize = this.getMaxFlexSize(el, 'minSize', totalSize);\r\n\t\tconst preLimitSize = this.getMaxFlexSize(el, 'preLimitSize', totalSize);\r\n\r\n\t\tconst dynamicSize = (dynamicFlexSize / 100) * totalSize;\r\n\r\n\t\tconst minFlexSize = (minSize / totalSize) * 100;\r\n\t\tconst preLimitFlexSize = (preLimitSize / totalSize) * 100;\r\n\r\n\t\treturn {\r\n\t\t\tel,\r\n\r\n\t\t\tdynamicSize: +dynamicSize.toFixed(),\r\n\t\t\tdynamicFlexSize,\r\n\r\n\t\t\tminSize: +minSize.toFixed(),\r\n\t\t\tminFlexSize,\r\n\r\n\t\t\tpreLimitSize: +preLimitSize.toFixed(),\r\n\t\t\tpreLimitFlexSize,\r\n\r\n\t\t\tstatic: {\r\n\t\t\t\tminSize: this.getSplitterItemSingleParam(el, 'minSize') ?? null,\r\n\t\t\t\tpreLimitSize: this.getSplitterItemSingleParam(el, 'preLimitSize') ?? null\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic setSplitterItemSize(el: HTMLElement, size: number) {\r\n\t\tthis.updateSplitterItemParam(el, size);\r\n\t\tel.style.flex = `${size.toFixed(1)} 1 0`;\r\n\t}\r\n\r\n\tpublic updateFlexValues(data: Array<{\r\n\t\tid: string;\r\n\t\tbreakpoints: Record<number, number>;\r\n\t}>): void {\r\n\t\tlet totalFlex = 0;\r\n\t\tconst currentWidth = window.innerWidth;\r\n\t\tconst getBreakpointValue = (breakpoints: Record<number, number>): number => {\r\n\t\t\tconst sortedBreakpoints = Object.keys(breakpoints)\r\n\t\t\t\t.map(Number)\r\n\t\t\t\t.sort((a, b) => a - b);\r\n\r\n\t\t\tfor (let i = sortedBreakpoints.length - 1; i >= 0; i--) {\r\n\t\t\t\tif (currentWidth >= sortedBreakpoints[i]) {\r\n\t\t\t\t\treturn breakpoints[sortedBreakpoints[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t};\r\n\r\n\t\tdata.forEach(({ id, breakpoints }) => {\r\n\t\t\tconst item = document.getElementById(id);\r\n\r\n\t\t\tif (item) {\r\n\t\t\t\tconst flexValue = getBreakpointValue(breakpoints);\r\n\r\n\t\t\t\tthis.updateSplitterItemParam(item, flexValue);\r\n\t\t\t\titem.style.flex = `${flexValue.toFixed(1)} 1 0`;\r\n\r\n\t\t\t\ttotalFlex += flexValue;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (totalFlex !== 100) {\r\n\t\t\tconst scaleFactor = 100 / totalFlex;\r\n\r\n\t\t\tdata.forEach(({ id }) => {\r\n\t\t\t\tconst item = document.getElementById(id);\r\n\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tconst currentFlex = parseFloat(item.style.flex.split(\" \")[0]);\r\n\t\t\t\t\tconst adjustedFlex = currentFlex * scaleFactor;\r\n\r\n\t\t\t\t\tthis.updateSplitterItemParam(item, adjustedFlex);\r\n\t\t\t\t\titem.style.flex = `${adjustedFlex.toFixed(1)} 1 0`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\tif (this.onControlPointerDownListener) {\r\n\t\t\tthis.onControlPointerDownListener.forEach(({ el, fn }) => {\r\n\t\t\t\tel.removeEventListener('pointerdown', fn);\r\n\t\t\t});\r\n\t\t\tthis.onControlPointerDownListener = null;\r\n\t\t}\r\n\r\n\t\tthis.horizontalSplitters.forEach(({ items }) => {\r\n\t\t\titems.forEach((el: HTMLElement) => {\r\n\t\t\t\tel.style.flex = '';\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.verticalSplitters.forEach(({ items }) => {\r\n\t\t\titems.forEach((el: HTMLElement) => {\r\n\t\t\t\tel.style.flex = '';\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.horizontalControls.forEach(({ el }) => {\r\n\t\t\tif (this.isSplittersAddedManually) el.style.display = 'none';\r\n\t\t\telse el.remove();\r\n\t\t});\r\n\t\tthis.verticalControls.forEach(({ el }) => {\r\n\t\t\tif (this.isSplittersAddedManually) el.style.display = 'none';\r\n\t\t\telse el.remove();\r\n\t\t});\r\n\r\n\t\tthis.horizontalControls = [];\r\n\t\tthis.verticalControls = [];\r\n\r\n\t\twindow.$hsLayoutSplitterCollection =\r\n\t\t\twindow.$hsLayoutSplitterCollection.filter(\r\n\t\t\t\t({ element }) => element.el !== this.el,\r\n\t\t\t);\r\n\r\n\t\tif (\r\n\t\t\twindow.$hsLayoutSplitterCollection.length === 0 &&\r\n\t\t\tHSLayoutSplitter.isListenersInitialized\r\n\t\t) {\r\n\t\t\tdocument.removeEventListener(\r\n\t\t\t\t'pointermove',\r\n\t\t\t\tHSLayoutSplitter.onDocumentPointerMove,\r\n\t\t\t);\r\n\t\t\tdocument.removeEventListener(\r\n\t\t\t\t'pointerup',\r\n\t\t\t\tHSLayoutSplitter.onDocumentPointerUp,\r\n\t\t\t);\r\n\t\t\tHSLayoutSplitter.isListenersInitialized = false;\r\n\t\t}\r\n\t}\r\n\r\n\t// Static method\r\n\tprivate static findInCollection(target: HSLayoutSplitter | HTMLElement | string): ICollectionItem<HSLayoutSplitter> | null {\r\n\t\treturn window.$hsLayoutSplitterCollection.find((el) => {\r\n\t\t\tif (target instanceof HSLayoutSplitter) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsLayoutSplitterCollection) {\r\n\t\t\twindow.$hsLayoutSplitterCollection = [];\r\n\r\n\t\t\twindow.addEventListener('pointerup', () => {\r\n\t\t\t\tif (!window.$hsLayoutSplitterCollection) return false;\r\n\r\n\t\t\t\tconst draggingElement = document.querySelector(\r\n\t\t\t\t\t'.hs-layout-splitter-control.dragging',\r\n\t\t\t\t);\r\n\t\t\t\tconst draggingSections = document.querySelectorAll(\r\n\t\t\t\t\t'[data-hs-layout-splitter-item].dragging',\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!draggingElement) return false;\r\n\r\n\t\t\t\tconst draggingInstance = HSLayoutSplitter.getInstance(\r\n\t\t\t\t\tdraggingElement.closest('[data-hs-layout-splitter]') as HTMLElement,\r\n\t\t\t\t\ttrue,\r\n\t\t\t\t) as ICollectionItem<HSLayoutSplitter>;\r\n\r\n\t\t\t\tdraggingElement.classList.remove('dragging');\r\n\t\t\t\tdraggingSections.forEach((el) => el.classList.remove('dragging'));\r\n\t\t\t\tdraggingInstance.element.isDragging = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (window.$hsLayoutSplitterCollection)\r\n\t\t\twindow.$hsLayoutSplitterCollection =\r\n\t\t\t\twindow.$hsLayoutSplitterCollection.filter(({ element }) =>\r\n\t\t\t\t\tdocument.contains(element.el),\r\n\t\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-layout-splitter]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsLayoutSplitterCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSLayoutSplitter(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsLayoutSplitterCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic on(evt: string, target: HSLayoutSplitter | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSLayoutSplitter.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSLayoutSplitter: Function;\r\n\t\t$hsLayoutSplitterCollection: ICollectionItem<HSLayoutSplitter>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSLayoutSplitter.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Layout splitter collection:', window.$hsLayoutSplitterCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSLayoutSplitter = HSLayoutSplitter;\r\n}\r\n\r\nexport default HSLayoutSplitter;\r\n", "/*\r\n * HSOverlay\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport {\r\n\tstringToBoolean,\r\n\tgetClassProperty,\r\n\tisParentOrElementHidden,\r\n\tisDirectChild,\r\n\tdispatch,\r\n\tafterTransition,\r\n} from '../../utils';\r\n\r\nimport { IOverlayOptions, IOverlay } from './interfaces';\r\nimport { TOverlayOptionsAutoCloseEqualityType } from './types';\r\nimport { ICollectionItem } from '../../interfaces';\r\nimport { BREAKPOINTS } from '../../constants';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\n\r\nclass HSOverlay extends HSBasePlugin<{}> implements IOverlay {\r\n\tprivate readonly hiddenClass: string | null;\r\n\tprivate readonly emulateScrollbarSpace: boolean;\r\n\tprivate readonly isClosePrev: boolean;\r\n\tprivate readonly backdropClasses: string | null;\r\n\tprivate readonly backdropParent: string | HTMLElement | Document;\r\n\tprivate readonly backdropExtraClasses: string | null;\r\n\tprivate readonly animationTarget: HTMLElement | null;\r\n\r\n\tprivate openNextOverlay: boolean;\r\n\tprivate autoHide: ReturnType<typeof setTimeout> | null;\r\n\tprivate toggleButtons: HTMLElement[];\r\n\r\n\tpublic initContainer: HTMLElement | null;\r\n\tpublic isCloseWhenClickInside: boolean;\r\n\tpublic isTabAccessibilityLimited: boolean;\r\n\tpublic isLayoutAffect: boolean;\r\n\tpublic hasAutofocus: boolean;\r\n\tpublic hasAbilityToCloseOnBackdropClick: boolean;\r\n\tpublic openedBreakpoint: number | null;\r\n\tpublic autoClose: number | null;\r\n\tpublic autoCloseEqualityType: TOverlayOptionsAutoCloseEqualityType | null;\r\n\tpublic moveOverlayToBody: number | null;\r\n\r\n\tprivate backdrop: HTMLElement | null;\r\n\r\n\tprivate onElementClickListener: | {\r\n\t\tel: HTMLElement;\r\n\t\tfn: () => void;\r\n\t}[] | null;\r\n\tprivate onOverlayClickListener: (evt: Event) => void;\r\n\tprivate onBackdropClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IOverlayOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\t// Collect all data options from toggles\r\n\t\tthis.toggleButtons = Array.from(document.querySelectorAll(`[data-hs-overlay=\"#${this.el.id}\"]`));\r\n\t\tconst toggleDataOptions = this.collectToggleParameters(this.toggleButtons);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-overlay-options');\r\n\t\tconst dataOptions: IOverlayOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...toggleDataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.hiddenClass = concatOptions?.hiddenClass || 'hidden';\r\n\t\tthis.emulateScrollbarSpace = concatOptions?.emulateScrollbarSpace || false;\r\n\t\tthis.isClosePrev = concatOptions?.isClosePrev ?? true;\r\n\t\tthis.backdropClasses = concatOptions?.backdropClasses ?? 'hs-overlay-backdrop transition duration fixed inset-0 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 dark:bg-neutral-900';\r\n\t\tthis.backdropParent = typeof concatOptions.backdropParent === 'string' ? document.querySelector(concatOptions.backdropParent) as HTMLElement : document.body;\r\n\t\tthis.backdropExtraClasses = concatOptions?.backdropExtraClasses ?? '';\r\n\t\tthis.moveOverlayToBody = concatOptions?.moveOverlayToBody || null;\r\n\r\n\t\tthis.openNextOverlay = false;\r\n\t\tthis.autoHide = null;\r\n\t\tthis.initContainer = this.el?.parentElement || null;\r\n\t\tthis.isCloseWhenClickInside = stringToBoolean(getClassProperty(this.el, '--close-when-click-inside', 'false') || 'false');\r\n\t\tthis.isTabAccessibilityLimited = stringToBoolean(getClassProperty(this.el, '--tab-accessibility-limited', 'true') || 'true');\r\n\t\tthis.isLayoutAffect = stringToBoolean(getClassProperty(this.el, '--is-layout-affect', 'false') || 'false');\r\n\t\tthis.hasAutofocus = stringToBoolean(getClassProperty(this.el, '--has-autofocus', 'true') || 'true');\r\n\t\tthis.hasAbilityToCloseOnBackdropClick = stringToBoolean(this.el.getAttribute('data-hs-overlay-keyboard') || 'true');\r\n\r\n\t\tconst autoCloseBreakpoint = getClassProperty(this.el, '--auto-close');\r\n\t\tconst autoCloseEqualityType = getClassProperty(this.el, '--auto-close-equality-type');\r\n\t\tconst openedBreakpoint = getClassProperty(this.el, '--opened');\r\n\r\n\t\tthis.autoClose = !isNaN(+autoCloseBreakpoint) && isFinite(+autoCloseBreakpoint) ? +autoCloseBreakpoint : BREAKPOINTS[autoCloseBreakpoint] || null;\r\n\t\tthis.autoCloseEqualityType = autoCloseEqualityType as TOverlayOptionsAutoCloseEqualityType ?? null;\r\n\t\tthis.openedBreakpoint = (!isNaN(+openedBreakpoint) && isFinite(+openedBreakpoint) ? +openedBreakpoint : BREAKPOINTS[openedBreakpoint]) || null;\r\n\r\n\t\tthis.animationTarget = this?.el?.querySelector('.hs-overlay-animation-target') || this.el;\r\n\r\n\t\tthis.onElementClickListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate elementClick() {\r\n\t\tif (this.el.classList.contains('opened')) this.close();\r\n\t\telse this.open();\r\n\t}\r\n\r\n\tprivate overlayClick(evt: Event) {\r\n\t\tif (\r\n\t\t\t(evt.target as HTMLElement).id &&\r\n\t\t\t`#${(evt.target as HTMLElement).id}` === this.el.id &&\r\n\t\t\tthis.isCloseWhenClickInside &&\r\n\t\t\tthis.hasAbilityToCloseOnBackdropClick\r\n\t\t) {\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate backdropClick() {\r\n\t\tthis.close();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsOverlayCollection, this);\r\n\r\n\t\tif (this.isLayoutAffect && this.openedBreakpoint) {\r\n\t\t\tconst instance = HSOverlay.getInstance(this.el, true);\r\n\r\n\t\t\tHSOverlay.setOpened(\r\n\t\t\t\tthis.openedBreakpoint,\r\n\t\t\t\tinstance as ICollectionItem<HSOverlay>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.onOverlayClickListener = (evt) => this.overlayClick(evt);\r\n\r\n\t\tthis.el.addEventListener('click', this.onOverlayClickListener);\r\n\r\n\t\tif (this.toggleButtons.length) this.buildToggleButtons();\r\n\t}\r\n\r\n\tprivate buildToggleButtons() {\r\n\t\tthis.toggleButtons.forEach((el) => {\r\n\t\t\tif (this.el.classList.contains('opened')) el.ariaExpanded = 'true';\r\n\t\t\telse el.ariaExpanded = 'false';\r\n\r\n\t\t\tthis.onElementClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.elementClick(),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener('click', this.onElementClickListener.find((toggleButton) => toggleButton.el === el).fn,);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate hideAuto() {\r\n\t\tconst time = parseInt(getClassProperty(this.el, '--auto-hide', '0'));\r\n\r\n\t\tif (time) {\r\n\t\t\tthis.autoHide = setTimeout(() => {\r\n\t\t\t\tthis.close();\r\n\t\t\t}, time);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate checkTimer() {\r\n\t\tif (this.autoHide) {\r\n\t\t\tclearTimeout(this.autoHide);\r\n\r\n\t\t\tthis.autoHide = null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildBackdrop() {\r\n\t\tconst overlayClasses = this.el.classList.value.split(' ');\r\n\t\tconst overlayZIndex = parseInt(\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('z-index'),\r\n\t\t);\r\n\t\tconst backdropId =\r\n\t\t\tthis.el.getAttribute('data-hs-overlay-backdrop-container') || false;\r\n\t\tthis.backdrop = document.createElement('div');\r\n\t\tlet backdropClasses = `${this.backdropClasses} ${this.backdropExtraClasses}`;\r\n\t\tconst closeOnBackdrop =\r\n\t\t\tgetClassProperty(this.el, '--overlay-backdrop', 'true') !== 'static';\r\n\t\tconst disableBackdrop =\r\n\t\t\tgetClassProperty(this.el, '--overlay-backdrop', 'true') === 'false';\r\n\r\n\t\tthis.backdrop.id = `${this.el.id}-backdrop`;\r\n\t\tif ('style' in this.backdrop)\r\n\t\t\tthis.backdrop.style.zIndex = `${overlayZIndex - 1}`;\r\n\r\n\t\tfor (const value of overlayClasses) {\r\n\t\t\tif (\r\n\t\t\t\tvalue.startsWith('hs-overlay-backdrop-open:') ||\r\n\t\t\t\tvalue.includes(':hs-overlay-backdrop-open:')\r\n\t\t\t) {\r\n\t\t\t\tbackdropClasses += ` ${value}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (disableBackdrop) return;\r\n\r\n\t\tif (backdropId) {\r\n\t\t\tthis.backdrop = document\r\n\t\t\t\t.querySelector(backdropId)\r\n\t\t\t\t.cloneNode(true) as HTMLElement;\r\n\t\t\tthis.backdrop.classList.remove('hidden');\r\n\r\n\t\t\tbackdropClasses = `${(this.backdrop as HTMLElement).classList.toString()}`;\r\n\t\t\tthis.backdrop.classList.value = '';\r\n\t\t}\r\n\r\n\t\tif (closeOnBackdrop) {\r\n\t\t\tthis.onBackdropClickListener = () => this.backdropClick();\r\n\r\n\t\t\tthis.backdrop.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onBackdropClickListener,\r\n\t\t\t\ttrue,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.backdrop.setAttribute('data-hs-overlay-backdrop-template', '');\r\n\r\n\t\t(this.backdropParent as HTMLElement).appendChild(this.backdrop);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.backdrop.classList.value = backdropClasses;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate destroyBackdrop() {\r\n\t\tconst backdrop: HTMLElement = document.querySelector(\r\n\t\t\t`#${this.el.id}-backdrop`,\r\n\t\t);\r\n\r\n\t\tif (!backdrop) return;\r\n\r\n\t\tif (this.openNextOverlay) {\r\n\t\t\tbackdrop.style.transitionDuration = `${parseFloat(\r\n\t\t\t\twindow\r\n\t\t\t\t\t.getComputedStyle(backdrop)\r\n\t\t\t\t\t.transitionDuration.replace(/[^\\d.-]/g, ''),\r\n\t\t\t) * 1.8\r\n\t\t\t\t}s`;\r\n\t\t}\r\n\r\n\t\tbackdrop.classList.add('opacity-0');\r\n\r\n\t\tafterTransition(backdrop, () => {\r\n\t\t\tbackdrop.remove();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate focusElement() {\r\n\t\tconst input: HTMLInputElement = this.el.querySelector('[autofocus]');\r\n\r\n\t\tif (!input) return false;\r\n\t\telse input.focus();\r\n\t}\r\n\r\n\tprivate getScrollbarSize() {\r\n\t\tlet div = document.createElement('div');\r\n\t\tdiv.style.overflow = 'scroll';\r\n\t\tdiv.style.width = '100px';\r\n\t\tdiv.style.height = '100px';\r\n\t\tdocument.body.appendChild(div);\r\n\r\n\t\tlet scrollbarSize = div.offsetWidth - div.clientWidth;\r\n\r\n\t\tdocument.body.removeChild(div);\r\n\r\n\t\treturn scrollbarSize;\r\n\t}\r\n\r\n\tprivate collectToggleParameters(buttons: HTMLElement[]) {\r\n\t\tlet toggleData = {};\r\n\r\n\t\tbuttons.forEach((el) => {\r\n\t\t\tconst data = el.getAttribute('data-hs-overlay-options');\r\n\t\t\tconst dataOptions: IOverlayOptions = data ? JSON.parse(data) : {};\r\n\t\t\ttoggleData = {\r\n\t\t\t\t...toggleData,\r\n\t\t\t\t...dataOptions\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn toggleData;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic open() {\r\n\t\tconst openedOverlays = document.querySelectorAll('.hs-overlay.open');\r\n\t\tconst currentlyOpened = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tArray.from(openedOverlays).includes(el.element.el) &&\r\n\t\t\t\t!el.element.isLayoutAffect,\r\n\t\t);\r\n\t\tconst toggles = document.querySelectorAll(\r\n\t\t\t`[data-hs-overlay=\"#${this.el.id}\"]`,\r\n\t\t);\r\n\t\tconst disabledScroll =\r\n\t\t\tgetClassProperty(this.el, '--body-scroll', 'false') !== 'true';\r\n\r\n\t\tif (this.isClosePrev && currentlyOpened) {\r\n\t\t\tthis.openNextOverlay = true;\r\n\r\n\t\t\treturn currentlyOpened.element.close().then(() => {\r\n\t\t\t\tthis.open();\r\n\r\n\t\t\t\tthis.openNextOverlay = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (disabledScroll) {\r\n\t\t\tdocument.body.style.overflow = 'hidden';\r\n\t\t\tif (this.emulateScrollbarSpace)\r\n\t\t\t\tdocument.body.style.paddingRight = `${this.getScrollbarSize()}px`;\r\n\t\t}\r\n\r\n\t\tthis.buildBackdrop();\r\n\t\tthis.checkTimer();\r\n\t\tthis.hideAuto();\r\n\r\n\t\ttoggles.forEach((toggle) => {\r\n\t\t\tif (toggle.ariaExpanded) toggle.ariaExpanded = 'true';\r\n\t\t});\r\n\t\tthis.el.classList.remove(this.hiddenClass);\r\n\t\tthis.el.setAttribute('aria-overlay', 'true');\r\n\t\tthis.el.setAttribute('tabindex', '-1');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.el.classList.contains('opened')) return false;\r\n\r\n\t\t\tthis.el.classList.add('open', 'opened');\r\n\t\t\tif (this.isLayoutAffect) document.body.classList.add('hs-overlay-body-open');\r\n\r\n\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\tdispatch('open.hs.overlay', this.el, this.el);\r\n\r\n\t\t\tif (this.hasAutofocus) this.focusElement();\r\n\t\t}, 50);\r\n\t}\r\n\r\n\tpublic close(forceClose = false) {\r\n\t\tif (this.isLayoutAffect)\r\n\t\t\tdocument.body.classList.remove('hs-overlay-body-open');\r\n\r\n\t\tconst closeFn = (cb: Function) => {\r\n\t\t\tif (this.el.classList.contains('open')) return false;\r\n\t\t\tconst toggles = document.querySelectorAll(\r\n\t\t\t\t`[data-hs-overlay=\"#${this.el.id}\"]`,\r\n\t\t\t);\r\n\r\n\t\t\ttoggles.forEach((toggle) => {\r\n\t\t\t\tif (toggle.ariaExpanded) toggle.ariaExpanded = 'false';\r\n\t\t\t});\r\n\t\t\tthis.el.classList.add(this.hiddenClass);\r\n\r\n\t\t\tthis.destroyBackdrop();\r\n\r\n\t\t\tthis.fireEvent('close', this.el);\r\n\t\t\tdispatch('close.hs.overlay', this.el, this.el);\r\n\r\n\t\t\tif (!document.querySelector('.hs-overlay.opened')) {\r\n\t\t\t\tdocument.body.style.overflow = '';\r\n\t\t\t\tif (this.emulateScrollbarSpace) document.body.style.paddingRight = '';\r\n\t\t\t}\r\n\r\n\t\t\tcb(this.el);\r\n\t\t};\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tthis.el.classList.remove('open', 'opened');\r\n\t\t\tthis.el.removeAttribute('aria-overlay');\r\n\t\t\tthis.el.removeAttribute('tabindex');\r\n\r\n\t\t\tif (forceClose) closeFn(resolve);\r\n\t\t\telse afterTransition(this.animationTarget, () => closeFn(resolve));\r\n\t\t});\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('open', 'opened', this.hiddenClass);\r\n\t\tif (this.isLayoutAffect)\r\n\t\t\tdocument.body.classList.remove('hs-overlay-body-open');\r\n\r\n\t\t// Remove listeners\r\n\t\tthis.el.removeEventListener('click', this.onOverlayClickListener);\r\n\t\tif (this.onElementClickListener.length) {\r\n\t\t\tthis.onElementClickListener.forEach(({ el, fn }) => {\r\n\t\t\t\tel.removeEventListener('click', fn);\r\n\t\t\t});\r\n\t\t\tthis.onElementClickListener = null;\r\n\t\t}\r\n\t\tif (this.backdrop)\r\n\t\t\tthis.backdrop.removeEventListener('click', this.onBackdropClickListener);\r\n\r\n\t\tif (this.backdrop) {\r\n\t\t\tthis.backdrop.remove();\r\n\t\t\tthis.backdrop = null;\r\n\t\t}\r\n\r\n\t\twindow.$hsOverlayCollection = window.$hsOverlayCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSOverlay | HTMLElement | string): ICollectionItem<HSOverlay> | null {\r\n\t\treturn window.$hsOverlayCollection.find((el) => {\r\n\t\t\tif (target instanceof HSOverlay) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\t// Backward compatibility\r\n\t\tconst _temp = typeof target === 'string' ? document.querySelector(target) : target;\r\n\t\tconst _target = _temp?.getAttribute('data-hs-overlay') ? _temp.getAttribute('data-hs-overlay') : target;\r\n\r\n\t\tconst elInCollection = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el === (typeof _target === 'string' ? document.querySelector(_target) : _target) ||\r\n\t\t\t\tel.element.el === (typeof _target === 'string' ? document.querySelector(_target) : _target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsOverlayCollection) {\r\n\t\t\twindow.$hsOverlayCollection = [];\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSOverlay.accessibility(evt),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (window.$hsOverlayCollection)\r\n\t\t\twindow.$hsOverlayCollection = window.$hsOverlayCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-overlay:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsOverlayCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSOverlay(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic open(target: HSOverlay | HTMLElement | string) {\r\n\t\tconst instance = HSOverlay.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\tinstance.element.el.classList.contains(instance.element.hiddenClass)\r\n\t\t) instance.element.open();\r\n\t}\r\n\r\n\tstatic close(target: HSOverlay | HTMLElement | string) {\r\n\t\tconst instance = HSOverlay.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\t!instance.element.el.classList.contains(instance.element.hiddenClass)\r\n\t\t) instance.element.close();\r\n\t}\r\n\r\n\tstatic setOpened(breakpoint: number, el: ICollectionItem<HSOverlay>) {\r\n\t\tif (document.body.clientWidth >= breakpoint) {\r\n\t\t\tdocument.body.classList.add('hs-overlay-body-open');\r\n\t\t\tel.element.open();\r\n\t\t} else el.element.close(true);\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst targets = window.$hsOverlayCollection.filter((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\t\tconst target = targets[targets.length - 1];\r\n\t\tconst focusableElements = target?.element?.el?.querySelectorAll(\r\n\t\t\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])',\r\n\t\t);\r\n\t\tconst notHiddenFocusableElements: HTMLElement[] = [];\r\n\t\tif (focusableElements?.length)\r\n\t\t\tfocusableElements.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (!isParentOrElementHidden(el)) notHiddenFocusableElements.push(el);\r\n\t\t\t});\r\n\t\tconst basicCheck = target && !evt.metaKey;\r\n\r\n\t\tif (\r\n\t\t\tbasicCheck &&\r\n\t\t\t!target.element.isTabAccessibilityLimited &&\r\n\t\t\tevt.code === 'Tab'\r\n\t\t)\r\n\t\t\treturn false;\r\n\r\n\t\tif (basicCheck && notHiddenFocusableElements.length && evt.code === 'Tab') {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tthis.onTab(target);\r\n\t\t}\r\n\t\tif (basicCheck && evt.code === 'Escape') {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tthis.onEscape(target);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape(target: ICollectionItem<HSOverlay>) {\r\n\t\tif (target && target.element.hasAbilityToCloseOnBackdropClick)\r\n\t\t\ttarget.element.close();\r\n\t}\r\n\r\n\tstatic onTab(target: ICollectionItem<HSOverlay>) {\r\n\t\tconst overlayElement = target.element.el;\r\n\t\tconst focusableElements = Array.from(\r\n\t\t\toverlayElement.querySelectorAll<HTMLElement>(\r\n\t\t\t\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\tif (focusableElements.length === 0) return false;\r\n\r\n\t\tconst focusedElement = overlayElement.querySelector(':focus');\r\n\r\n\t\tif (focusedElement) {\r\n\t\t\tlet foundCurrent = false;\r\n\r\n\t\t\tfor (const element of focusableElements) {\r\n\t\t\t\tif (foundCurrent) {\r\n\t\t\t\t\telement.focus();\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element === focusedElement) {\r\n\t\t\t\t\tfoundCurrent = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfocusableElements[0].focus();\r\n\t\t} else {\r\n\t\t\tfocusableElements[0].focus();\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HSOverlay | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSOverlay.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSOverlay: Function;\r\n\t\t$hsOverlayCollection: ICollectionItem<HSOverlay>[];\r\n\t}\r\n}\r\n\r\nconst autoCloseResizeFn = () => {\r\n\tif (\r\n\t\t!window.$hsOverlayCollection.length ||\r\n\t\t!window.$hsOverlayCollection.find((el) => el.element.autoClose)\r\n\t)\r\n\t\treturn false;\r\n\r\n\tconst overlays = window.$hsOverlayCollection.filter(\r\n\t\t(el) => el.element.autoClose,\r\n\t);\r\n\r\n\toverlays.forEach((overlay) => {\r\n\t\tconst { autoCloseEqualityType, autoClose } = overlay.element;\r\n\t\tconst condition = autoCloseEqualityType === 'less-than'\r\n\t\t\t? document.body.clientWidth <= autoClose\r\n\t\t\t: document.body.clientWidth >= autoClose;\r\n\r\n\t\tif (condition) {\r\n\t\t\toverlay.element.close(true);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst moveOverlayToBodyResizeFn = () => {\r\n\tif (\r\n\t\t!window.$hsOverlayCollection.length ||\r\n\t\t!window.$hsOverlayCollection.find((el) => el.element.moveOverlayToBody)\r\n\t)\r\n\t\treturn false;\r\n\r\n\tconst overlays = window.$hsOverlayCollection.filter(\r\n\t\t(el) => el.element.moveOverlayToBody,\r\n\t);\r\n\r\n\toverlays.forEach((overlay) => {\r\n\t\tconst resolution = overlay.element.moveOverlayToBody;\r\n\t\tconst initPlace = overlay.element.initContainer;\r\n\t\tconst newPlace = document.querySelector('body');\r\n\t\tconst target = overlay.element.el;\r\n\r\n\t\tif (!initPlace && target) return false;\r\n\r\n\t\tif (\r\n\t\t\tdocument.body.clientWidth <= resolution &&\r\n\t\t\t!isDirectChild(newPlace, target)\r\n\t\t)\r\n\t\t\tnewPlace.appendChild(target);\r\n\t\telse if (\r\n\t\t\tdocument.body.clientWidth > resolution &&\r\n\t\t\t!initPlace.contains(target)\r\n\t\t)\r\n\t\t\tinitPlace.appendChild(target);\r\n\t});\r\n};\r\n\r\nconst setOpenedResizeFn = () => {\r\n\tif (\r\n\t\t!window.$hsOverlayCollection.length ||\r\n\t\t!window.$hsOverlayCollection.find((el) => el.element.autoClose)\r\n\t)\r\n\t\treturn false;\r\n\r\n\tconst overlays = window.$hsOverlayCollection.filter(\r\n\t\t(el) => el.element.autoClose,\r\n\t);\r\n\r\n\toverlays.forEach((overlay) => {\r\n\t\tconst { autoCloseEqualityType, autoClose } = overlay.element;\r\n\t\tconst condition = autoCloseEqualityType === 'less-than'\r\n\t\t\t? document.body.clientWidth <= autoClose\r\n\t\t\t: document.body.clientWidth >= autoClose;\r\n\r\n\t\tif (condition) {\r\n\t\t\toverlay.element.close(true);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst setBackdropZIndexResizeFn = () => {\r\n\tif (\r\n\t\t!window.$hsOverlayCollection.length ||\r\n\t\t!window.$hsOverlayCollection.find((el) => el.element.el.classList.contains('opened'))\r\n\t)\r\n\t\treturn false;\r\n\r\n\tconst overlays = window.$hsOverlayCollection.filter((el) => el.element.el.classList.contains('opened'));\r\n\r\n\toverlays.forEach((overlay) => {\r\n\t\tconst overlayZIndex = parseInt(window.getComputedStyle(overlay.element.el).getPropertyValue('z-index'));\r\n\t\tconst backdrop: HTMLElement = document.querySelector(`#${overlay.element.el.id}-backdrop`);\r\n\t\tif (!backdrop) return false;\r\n\r\n\t\tconst backdropZIndex = parseInt(window.getComputedStyle(backdrop).getPropertyValue('z-index'));\r\n\t\tif (overlayZIndex === backdropZIndex + 1) return false;\r\n\r\n\t\tif ('style' in backdrop) backdrop.style.zIndex = `${overlayZIndex - 1}`;\r\n\r\n\t\tdocument.body.classList.add('hs-overlay-body-open');\r\n\t});\r\n};\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSOverlay.autoInit();\r\n\r\n\tmoveOverlayToBodyResizeFn();\r\n\t// Uncomment for debug\r\n\t// console.log('Overlay collection:', window.$hsOverlayCollection);\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tautoCloseResizeFn();\r\n\tmoveOverlayToBodyResizeFn();\r\n\tsetOpenedResizeFn();\r\n\tsetBackdropZIndexResizeFn();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSOverlay = HSOverlay;\r\n}\r\n\r\nexport default HSOverlay;\r\n", "/*\r\n * HSPinInput\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { IPinInputOptions, IPinInput } from '../pin-input/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSPinInput extends HSBasePlugin<IPinInputOptions> implements IPinInput {\r\n\tprivate items: NodeListOf<HTMLElement> | null;\r\n\tprivate currentItem: HTMLInputElement | null;\r\n\tprivate currentValue: string[] | null;\r\n\tprivate readonly placeholders: string[] | null;\r\n\tprivate readonly availableCharsRE: RegExp | null;\r\n\r\n\tprivate onElementInputListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: (evt: Event) => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\tprivate onElementPasteListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: (evt: Event) => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\tprivate onElementKeydownListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: (evt: Event) => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\tprivate onElementFocusinListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: () => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\tprivate onElementFocusoutListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: () => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\r\n\tprivate elementInput(evt: Event, index: number) {\r\n\t\tthis.onInput(evt, index);\r\n\t}\r\n\r\n\tprivate elementPaste(evt: ClipboardEvent) {\r\n\t\tthis.onPaste(evt);\r\n\t}\r\n\r\n\tprivate elementKeydown(evt: KeyboardEvent, index: number) {\r\n\t\tthis.onKeydown(evt, index);\r\n\t}\r\n\r\n\tprivate elementFocusin(index: number) {\r\n\t\tthis.onFocusIn(index);\r\n\t}\r\n\r\n\tprivate elementFocusout(index: number) {\r\n\t\tthis.onFocusOut(index);\r\n\t}\r\n\r\n\tconstructor(el: HTMLElement, options?: IPinInputOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-pin-input');\r\n\t\tconst dataOptions: IPinInputOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.items = this.el.querySelectorAll('[data-hs-pin-input-item]');\r\n\t\tthis.currentItem = null;\r\n\t\tthis.currentValue = new Array(this.items.length).fill('');\r\n\t\tthis.placeholders = [];\r\n\t\tthis.availableCharsRE = new RegExp(\r\n\t\t\tconcatOptions?.availableCharsRE || '^[a-zA-Z0-9]+$',\r\n\t\t); // '^[0-9]+$'\r\n\r\n\t\tthis.onElementInputListener = [];\r\n\t\tthis.onElementPasteListener = [];\r\n\t\tthis.onElementKeydownListener = [];\r\n\t\tthis.onElementFocusinListener = [];\r\n\t\tthis.onElementFocusoutListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsPinInputCollection, this);\r\n\r\n\t\tif (this.items.length) this.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.buildInputItems();\r\n\t}\r\n\r\n\tprivate buildInputItems() {\r\n\t\tthis.items.forEach((el, index) => {\r\n\t\t\tthis.placeholders.push(el.getAttribute('placeholder') || '');\r\n\r\n\t\t\tif (el.hasAttribute('autofocus')) this.onFocusIn(index);\r\n\r\n\t\t\tthis.onElementInputListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: (evt: Event) => this.elementInput(evt, index),\r\n\t\t\t});\r\n\t\t\tthis.onElementPasteListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: (evt: ClipboardEvent) => this.elementPaste(evt),\r\n\t\t\t});\r\n\t\t\tthis.onElementKeydownListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: (evt: KeyboardEvent) => this.elementKeydown(evt, index),\r\n\t\t\t});\r\n\t\t\tthis.onElementFocusinListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.elementFocusin(index),\r\n\t\t\t});\r\n\t\t\tthis.onElementFocusoutListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.elementFocusout(index),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'input',\r\n\t\t\t\tthis.onElementInputListener.find((elI) => elI.el === el).fn,\r\n\t\t\t);\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'paste',\r\n\t\t\t\tthis.onElementPasteListener.find((elI) => elI.el === el).fn,\r\n\t\t\t);\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'keydown',\r\n\t\t\t\tthis.onElementKeydownListener.find((elI) => elI.el === el).fn,\r\n\t\t\t);\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'focusin',\r\n\t\t\t\tthis.onElementFocusinListener.find((elI) => elI.el === el).fn,\r\n\t\t\t);\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'focusout',\r\n\t\t\t\tthis.onElementFocusoutListener.find((elI) => elI.el === el).fn,\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate checkIfNumber(value: string) {\r\n\t\treturn value.match(this.availableCharsRE);\r\n\t}\r\n\r\n\tprivate autoFillAll(text: string) {\r\n\t\tArray.from(text).forEach((n, i) => {\r\n\t\t\tif (!this?.items[i]) return false;\r\n\r\n\t\t\t(this.items[i] as HTMLInputElement).value = n;\r\n\r\n\t\t\tthis.items[i].dispatchEvent(new Event('input', { bubbles: true }));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentValue() {\r\n\t\tthis.currentValue = Array.from(this.items).map(\r\n\t\t\t(el) => (el as HTMLInputElement).value,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate toggleCompleted() {\r\n\t\tif (!this.currentValue.includes('')) this.el.classList.add('active');\r\n\t\telse this.el.classList.remove('active');\r\n\t}\r\n\r\n\tprivate onInput(evt: Event, index: number) {\r\n\t\tconst originalValue = (evt.target as HTMLInputElement).value;\r\n\t\tthis.currentItem = evt.target as HTMLInputElement;\r\n\t\tthis.currentItem.value = '';\r\n\t\tthis.currentItem.value = originalValue[originalValue.length - 1];\r\n\r\n\t\tif (!this.checkIfNumber(this.currentItem.value)) {\r\n\t\t\tthis.currentItem.value = this.currentValue[index] || '';\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.setCurrentValue();\r\n\r\n\t\tif (this.currentItem.value) {\r\n\t\t\tif (index < this.items.length - 1) this.items[index + 1].focus();\r\n\t\t\tif (!this.currentValue.includes('')) {\r\n\t\t\t\tconst payload = { currentValue: this.currentValue };\r\n\r\n\t\t\t\tthis.fireEvent('completed', payload);\r\n\t\t\t\tdispatch('completed.hs.pinInput', this.el, payload);\r\n\t\t\t}\r\n\r\n\t\t\tthis.toggleCompleted();\r\n\t\t} else {\r\n\t\t\tif (index > 0) this.items[index - 1].focus();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onKeydown(evt: KeyboardEvent, index: number) {\r\n\t\tif (evt.key === 'Backspace' && index > 0) {\r\n\t\t\tif ((this.items[index] as HTMLInputElement).value === '') {\r\n\t\t\t\t(this.items[index - 1] as HTMLInputElement).value = '';\r\n\t\t\t\t(this.items[index - 1] as HTMLInputElement).focus();\r\n\t\t\t} else {\r\n\t\t\t\t(this.items[index] as HTMLInputElement).value = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setCurrentValue();\r\n\t\tthis.toggleCompleted();\r\n\t}\r\n\r\n\tprivate onFocusIn(index: number) {\r\n\t\tthis.items[index].setAttribute('placeholder', '');\r\n\t}\r\n\r\n\tprivate onFocusOut(index: number) {\r\n\t\tthis.items[index].setAttribute('placeholder', this.placeholders[index]);\r\n\t}\r\n\r\n\tprivate onPaste(evt: ClipboardEvent) {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tthis.items.forEach((el) => {\r\n\t\t\tif (document.activeElement === el)\r\n\t\t\t\tthis.autoFillAll(evt.clipboardData.getData('text'));\r\n\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('active');\r\n\r\n\t\t// Remove listeners\r\n\t\tif (this.items.length)\r\n\t\t\tthis.items.forEach((el) => {\r\n\t\t\t\tel.removeEventListener(\r\n\t\t\t\t\t'input',\r\n\t\t\t\t\tthis.onElementInputListener.find((elI) => elI.el === el).fn,\r\n\t\t\t\t);\r\n\t\t\t\tel.removeEventListener(\r\n\t\t\t\t\t'paste',\r\n\t\t\t\t\tthis.onElementPasteListener.find((elI) => elI.el === el).fn,\r\n\t\t\t\t);\r\n\t\t\t\tel.removeEventListener(\r\n\t\t\t\t\t'keydown',\r\n\t\t\t\t\tthis.onElementKeydownListener.find((elI) => elI.el === el).fn,\r\n\t\t\t\t);\r\n\t\t\t\tel.removeEventListener(\r\n\t\t\t\t\t'focusin',\r\n\t\t\t\t\tthis.onElementFocusinListener.find((elI) => elI.el === el).fn,\r\n\t\t\t\t);\r\n\t\t\t\tel.removeEventListener(\r\n\t\t\t\t\t'focusout',\r\n\t\t\t\t\tthis.onElementFocusoutListener.find((elI) => elI.el === el).fn,\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\tthis.items = null;\r\n\t\tthis.currentItem = null;\r\n\t\tthis.currentValue = null;\r\n\r\n\t\twindow.$hsPinInputCollection = window.$hsPinInputCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsPinInputCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsPinInputCollection) window.$hsPinInputCollection = [];\r\n\r\n\t\tif (window.$hsPinInputCollection)\r\n\t\t\twindow.$hsPinInputCollection = window.$hsPinInputCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-pin-input]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsPinInputCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSPinInput(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSPinInput: Function;\r\n\t\t$hsPinInputCollection: ICollectionItem<HSPinInput>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSPinInput.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('PIN input collection:', window.$hsPinInputCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSPinInput = HSPinInput;\r\n}\r\n\r\nexport default HSPinInput;\r\n", "/*\r\n * HSRemoveElement\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { afterTransition } from '../../utils';\r\n\r\nimport {\r\n\tIRemoveElementOptions,\r\n\tIRemoveElement,\r\n} from '../remove-element/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSRemoveElement\r\n\textends HSBasePlugin<IRemoveElementOptions>\r\n\timplements IRemoveElement {\r\n\tprivate readonly removeTargetId: string | null;\r\n\tprivate readonly removeTarget: HTMLElement | null;\r\n\tprivate readonly removeTargetAnimationClass: string;\r\n\r\n\tprivate onElementClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IRemoveElementOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-remove-element-options');\r\n\t\tconst dataOptions: IRemoveElementOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.removeTargetId = this.el.getAttribute('data-hs-remove-element');\r\n\t\tthis.removeTarget = document.querySelector(this.removeTargetId);\r\n\t\tthis.removeTargetAnimationClass =\r\n\t\t\tconcatOptions?.removeTargetAnimationClass || 'hs-removing';\r\n\r\n\t\tif (this.removeTarget) this.init();\r\n\t}\r\n\r\n\tprivate elementClick() {\r\n\t\tthis.remove();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsRemoveElementCollection, this);\r\n\r\n\t\tthis.onElementClickListener = () => this.elementClick();\r\n\r\n\t\tthis.el.addEventListener('click', this.onElementClickListener);\r\n\t}\r\n\r\n\tprivate remove() {\r\n\t\tif (!this.removeTarget) return false;\r\n\r\n\t\tthis.removeTarget.classList.add(this.removeTargetAnimationClass);\r\n\r\n\t\tafterTransition(this.removeTarget, () =>\r\n\t\t\tsetTimeout(() => this.removeTarget.remove()),\r\n\t\t);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tthis.removeTarget.classList.remove(this.removeTargetAnimationClass);\r\n\r\n\t\t// Remove listeners\r\n\t\tthis.el.removeEventListener('click', this.onElementClickListener);\r\n\r\n\t\twindow.$hsRemoveElementCollection =\r\n\t\t\twindow.$hsRemoveElementCollection.filter(\r\n\t\t\t\t({ element }) => element.el !== this.el,\r\n\t\t\t);\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(target: HTMLElement, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsRemoveElementCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t: target) ||\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t: target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsRemoveElementCollection)\r\n\t\t\twindow.$hsRemoveElementCollection = [];\r\n\r\n\t\tif (window.$hsRemoveElementCollection)\r\n\t\t\twindow.$hsRemoveElementCollection =\r\n\t\t\t\twindow.$hsRemoveElementCollection.filter(({ element }) =>\r\n\t\t\t\t\tdocument.contains(element.el),\r\n\t\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-remove-element]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsRemoveElementCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSRemoveElement(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSRemoveElement: Function;\r\n\t\t$hsRemoveElementCollection: ICollectionItem<HSRemoveElement>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSRemoveElement.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Remove element collection:', window.$hsRemoveElementCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSRemoveElement = HSRemoveElement;\r\n}\r\n\r\nexport default HSRemoveElement;\r\n", "/*\r\n * HSScrollspy\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { getClassProperty, dispatch } from '../../utils';\r\n\r\nimport { IScrollspy } from '../scrollspy/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSScrollspy extends HSBasePlugin<{}> implements IScrollspy {\r\n\tprivate activeSection: HTMLElement | null;\r\n\tprivate readonly contentId: string | null;\r\n\tprivate readonly content: HTMLElement | null;\r\n\tprivate readonly links: NodeListOf<HTMLAnchorElement> | null;\r\n\tprivate readonly sections: HTMLElement[] | null;\r\n\tprivate readonly scrollableId: string | null;\r\n\tprivate readonly scrollable: HTMLElement | Document;\r\n\r\n\tprivate onScrollableScrollListener: (evt: Event) => void;\r\n\tprivate onLinkClickListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLAnchorElement;\r\n\t\t\t\tfn: (evt: Event) => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\r\n\tconstructor(el: HTMLElement, options = {}) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tthis.activeSection = null;\r\n\t\tthis.contentId = this.el.getAttribute('data-hs-scrollspy');\r\n\t\tthis.content = document.querySelector(this.contentId);\r\n\t\tthis.links = this.el.querySelectorAll('[href]');\r\n\t\tthis.sections = [];\r\n\t\tthis.scrollableId = this.el.getAttribute(\r\n\t\t\t'data-hs-scrollspy-scrollable-parent',\r\n\t\t);\r\n\t\tthis.scrollable = this.scrollableId\r\n\t\t\t? (document.querySelector(this.scrollableId) as HTMLElement)\r\n\t\t\t: (document as Document);\r\n\r\n\t\tthis.onLinkClickListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate scrollableScroll(evt: Event) {\r\n\t\tArray.from(this.sections).forEach((section: HTMLElement) => {\r\n\t\t\tif (!section.getAttribute('id')) return false;\r\n\r\n\t\t\tthis.update(evt, section);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate linkClick(evt: Event, el: HTMLAnchorElement) {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tif (el.getAttribute('href') === 'javascript:;') return false;\r\n\r\n\t\tthis.scrollTo(el);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsScrollspyCollection, this);\r\n\r\n\t\tthis.links.forEach((el) => {\r\n\t\t\tthis.sections.push(\r\n\t\t\t\tthis.scrollable.querySelector(el.getAttribute('href')),\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tthis.onScrollableScrollListener = (evt) => this.scrollableScroll(evt);\r\n\r\n\t\tthis.scrollable.addEventListener('scroll', this.onScrollableScrollListener);\r\n\r\n\t\tthis.links.forEach((el) => {\r\n\t\t\tthis.onLinkClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: (evt: Event) => this.linkClick(evt, el),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onLinkClickListener.find((link) => link.el === el).fn,\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate update(evt: Event, section: HTMLElement) {\r\n\t\tconst globalOffset = parseInt(\r\n\t\t\tgetClassProperty(this.el, '--scrollspy-offset', '0'),\r\n\t\t);\r\n\t\tconst userOffset =\r\n\t\t\tparseInt(getClassProperty(section, '--scrollspy-offset')) || globalOffset;\r\n\t\tconst scrollableParentOffset =\r\n\t\t\tevt.target === document\r\n\t\t\t\t? 0\r\n\t\t\t\t: parseInt(\r\n\t\t\t\t\t\tString((evt.target as HTMLElement).getBoundingClientRect().top),\r\n\t\t\t\t\t);\r\n\t\tconst topOffset =\r\n\t\t\tparseInt(String(section.getBoundingClientRect().top)) -\r\n\t\t\tuserOffset -\r\n\t\t\tscrollableParentOffset;\r\n\t\tconst height = section.offsetHeight;\r\n\r\n\t\tif (topOffset <= 0 && topOffset + height > 0) {\r\n\t\t\tif (this.activeSection === section) return false;\r\n\r\n\t\t\tthis.links.forEach((el) => {\r\n\t\t\t\tel.classList.remove('active');\r\n\t\t\t});\r\n\r\n\t\t\tconst current = this.el.querySelector(\r\n\t\t\t\t`[href=\"#${section.getAttribute('id')}\"]`,\r\n\t\t\t);\r\n\r\n\t\t\tif (current) {\r\n\t\t\t\tcurrent.classList.add('active');\r\n\r\n\t\t\t\tconst group = current.closest('[data-hs-scrollspy-group]');\r\n\r\n\t\t\t\tif (group) {\r\n\t\t\t\t\tconst parentLink = group.querySelector('[href]');\r\n\r\n\t\t\t\t\tif (parentLink) parentLink.classList.add('active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.activeSection = section;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate scrollTo(link: HTMLAnchorElement) {\r\n\t\tconst targetId = link.getAttribute('href');\r\n\t\tconst target: HTMLElement = document.querySelector(targetId);\r\n\t\tconst globalOffset = parseInt(\r\n\t\t\tgetClassProperty(this.el, '--scrollspy-offset', '0'),\r\n\t\t);\r\n\t\tconst userOffset =\r\n\t\t\tparseInt(getClassProperty(target, '--scrollspy-offset')) || globalOffset;\r\n\t\tconst scrollableParentOffset =\r\n\t\t\tthis.scrollable === document\r\n\t\t\t\t? 0\r\n\t\t\t\t: (this.scrollable as HTMLElement).offsetTop;\r\n\t\tconst topOffset = target.offsetTop - userOffset - scrollableParentOffset;\r\n\t\tconst view = this.scrollable === document ? window : this.scrollable;\r\n\t\tconst scrollFn = () => {\r\n\t\t\twindow.history.replaceState(null, null, link.getAttribute('href'));\r\n\r\n\t\t\tif ('scrollTo' in view) {\r\n\t\t\t\tview.scrollTo({\r\n\t\t\t\t\ttop: topOffset,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst beforeScroll = this.fireEvent('beforeScroll', this.el);\r\n\t\tdispatch('beforeScroll.hs.scrollspy', this.el, this.el);\r\n\r\n\t\tif (beforeScroll instanceof Promise) beforeScroll.then(() => scrollFn());\r\n\t\telse scrollFn();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tconst activeLink = this.el.querySelector('[href].active');\r\n\t\tactiveLink.classList.remove('active');\r\n\r\n\t\t// Remove listeners\r\n\t\tthis.scrollable.removeEventListener(\r\n\t\t\t'scroll',\r\n\t\t\tthis.onScrollableScrollListener,\r\n\t\t);\r\n\t\tif (this.onLinkClickListener.length)\r\n\t\t\tthis.onLinkClickListener.forEach(({ el, fn }) => {\r\n\t\t\t\tel.removeEventListener('click', fn);\r\n\t\t\t});\r\n\r\n\t\twindow.$hsScrollspyCollection = window.$hsScrollspyCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsScrollspyCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsScrollspyCollection) window.$hsScrollspyCollection = [];\r\n\r\n\t\tif (window.$hsScrollspyCollection)\r\n\t\t\twindow.$hsScrollspyCollection = window.$hsScrollspyCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-scrollspy]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsScrollspyCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSScrollspy(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSScrollspy: Function;\r\n\t\t$hsScrollspyCollection: ICollectionItem<HSScrollspy>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSScrollspy.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Scrollspy collection:', window.$hsScrollspyCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSScrollspy = HSScrollspy;\r\n}\r\n\r\nexport default HSScrollspy;\r\n", "/*\r\n * HSSelect\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport {\r\n\tisEnoughSpace,\r\n\tdebounce,\r\n\tdispatch,\r\n\tafterTransition,\r\n\thtmlToElement,\r\n\tclassToClassList,\r\n} from '../../utils';\r\n\r\nimport {\r\n\tISelect,\r\n\tISelectOptions,\r\n\tISingleOption,\r\n\tISingleOptionOptions,\r\n\tIApiFieldMap,\r\n} from '../select/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { SELECT_ACCESSIBILITY_KEY_SET, POSITIONS } from '../../constants';\r\n\r\nclass HSSelect extends HSBasePlugin<ISelectOptions> implements ISelect {\r\n\tvalue: string | string[] | null;\r\n\tprivate readonly placeholder: string | null;\r\n\tprivate readonly hasSearch: boolean;\r\n\tprivate readonly minSearchLength: number;\r\n\tprivate readonly preventSearchFocus: boolean;\r\n\tprivate readonly mode: string | null;\r\n\tprivate readonly viewport: HTMLElement | null;\r\n\r\n\tisOpened: boolean | null;\r\n\tisMultiple: boolean | null;\r\n\tisDisabled: boolean | null;\r\n\tselectedItems: string[];\r\n\r\n\tprivate readonly apiUrl: string | null;\r\n\tprivate readonly apiQuery: string | null;\r\n\tprivate readonly apiOptions: RequestInit | null;\r\n\tprivate readonly apiDataPart: string | null;\r\n\tprivate readonly apiSearchQueryKey: string | null;\r\n\tprivate readonly apiFieldsMap: IApiFieldMap | null;\r\n\tprivate readonly apiIconTag: string | null;\r\n\r\n\tprivate readonly toggleTag: string | null;\r\n\tprivate readonly toggleClasses: string | null;\r\n\tprivate readonly toggleSeparators: {\r\n\t\titems?: string;\r\n\t\tbetweenItemsAndCounter?: string;\r\n\t} | null;\r\n\tprivate readonly toggleCountText: string | null;\r\n\tprivate readonly toggleCountTextPlacement:\r\n\t\t| 'postfix'\r\n\t\t| 'prefix'\r\n\t\t| 'postfix-no-space'\r\n\t\t| 'prefix-no-space';\r\n\tprivate readonly toggleCountTextMinItems: number | null;\r\n\tprivate readonly toggleCountTextMode: string | null;\r\n\tprivate readonly wrapperClasses: string | null;\r\n\tprivate readonly tagsItemTemplate: string | null;\r\n\tprivate readonly tagsItemClasses: string | null;\r\n\tprivate readonly tagsInputId: string | null;\r\n\tprivate readonly tagsInputClasses: string | null;\r\n\tprivate readonly dropdownTag: string | null;\r\n\tprivate readonly dropdownClasses: string | null;\r\n\tprivate readonly dropdownDirectionClasses: {\r\n\t\ttop?: string;\r\n\t\tbottom?: string;\r\n\t} | null;\r\n\tpublic dropdownSpace: number | null;\r\n\tpublic readonly dropdownPlacement: string | null;\r\n\tpublic readonly dropdownVerticalFixedPlacement: 'top' | 'bottom' | null;\r\n\tpublic readonly dropdownScope: 'window' | 'parent';\r\n\tprivate readonly searchTemplate: string | null;\r\n\tprivate readonly searchWrapperTemplate: string | null;\r\n\tprivate readonly searchPlaceholder: string | null;\r\n\tprivate readonly searchId: string | null;\r\n\tprivate readonly searchLimit: number | typeof Infinity;\r\n\tprivate readonly isSearchDirectMatch: boolean;\r\n\tprivate readonly searchClasses: string | null;\r\n\tprivate readonly searchWrapperClasses: string | null;\r\n\tprivate readonly searchNoResultTemplate: string | null;\r\n\tprivate readonly searchNoResultText: string | null;\r\n\tprivate readonly searchNoResultClasses: string | null;\r\n\tprivate readonly optionAllowEmptyOption: boolean;\r\n\tprivate readonly optionTag: string | null;\r\n\tprivate readonly optionTemplate: string | null;\r\n\tprivate readonly optionClasses: string | null;\r\n\tprivate readonly descriptionClasses: string | null;\r\n\tprivate readonly iconClasses: string | null;\r\n\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tprivate wrapper: HTMLElement | null;\r\n\tprivate toggle: HTMLElement | null;\r\n\tprivate toggleTextWrapper: HTMLElement | null;\r\n\tprivate tagsInput: HTMLElement | null;\r\n\tprivate dropdown: HTMLElement | null;\r\n\tprivate popperInstance: any;\r\n\tprivate searchWrapper: HTMLElement | null;\r\n\tprivate search: HTMLInputElement | null;\r\n\tprivate searchNoResult: HTMLElement | null;\r\n\tprivate selectOptions: ISingleOption[] | [];\r\n\tprivate extraMarkup: string | string[] | Element | null;\r\n\r\n\tprivate readonly isAddTagOnEnter: boolean;\r\n\r\n\tprivate tagsInputHelper: HTMLElement | null;\r\n\r\n\tprivate remoteOptions: unknown[];\r\n\r\n\tprivate optionId = 0;\r\n\r\n\tprivate onWrapperClickListener: (evt: Event) => void;\r\n\tprivate onToggleClickListener: () => void;\r\n\tprivate onTagsInputFocusListener: () => void;\r\n\tprivate onTagsInputInputListener: () => void;\r\n\tprivate onTagsInputInputSecondListener: (evt: InputEvent) => void;\r\n\tprivate onTagsInputKeydownListener: (evt: KeyboardEvent) => void;\r\n\tprivate onSearchInputListener: (evt: InputEvent) => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: ISelectOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-select');\r\n\t\tconst dataOptions: ISelectOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.value =\r\n\t\t\tconcatOptions?.value || (this.el as HTMLSelectElement).value || null;\r\n\t\tthis.placeholder = concatOptions?.placeholder || 'Select...';\r\n\t\tthis.hasSearch = concatOptions?.hasSearch || false;\r\n\t\tthis.minSearchLength = concatOptions?.minSearchLength ?? 0;\r\n\t\tthis.preventSearchFocus = concatOptions?.preventSearchFocus || false;\r\n\t\tthis.mode = concatOptions?.mode || 'default';\r\n\t\tthis.viewport =\r\n\t\t\ttypeof concatOptions?.viewport !== 'undefined'\r\n\t\t\t\t? document.querySelector(concatOptions?.viewport)\r\n\t\t\t\t: null;\r\n\t\tthis.isOpened = Boolean(concatOptions?.isOpened) || false;\r\n\t\tthis.isMultiple = this.el.hasAttribute('multiple') || false;\r\n\t\tthis.isDisabled = this.el.hasAttribute('disabled') || false;\r\n\t\tthis.selectedItems = [];\r\n\r\n\t\tthis.apiUrl = concatOptions?.apiUrl || null;\r\n\t\tthis.apiQuery = concatOptions?.apiQuery || null;\r\n\t\tthis.apiOptions = concatOptions?.apiOptions || null;\r\n\t\tthis.apiSearchQueryKey = concatOptions?.apiSearchQueryKey || null;\r\n\t\tthis.apiDataPart = concatOptions?.apiDataPart || null;\r\n\t\tthis.apiFieldsMap = concatOptions?.apiFieldsMap || null;\r\n\t\tthis.apiIconTag = concatOptions?.apiIconTag || null;\r\n\r\n\t\tthis.wrapperClasses = concatOptions?.wrapperClasses || null;\r\n\t\tthis.toggleTag = concatOptions?.toggleTag || null;\r\n\t\tthis.toggleClasses = concatOptions?.toggleClasses || null;\r\n\t\tthis.toggleCountText =\r\n\t\t\ttypeof concatOptions?.toggleCountText === undefined\r\n\t\t\t\t? null\r\n\t\t\t\t: concatOptions.toggleCountText;\r\n\t\tthis.toggleCountTextPlacement =\r\n\t\t\tconcatOptions?.toggleCountTextPlacement || 'postfix';\r\n\t\tthis.toggleCountTextMinItems = concatOptions?.toggleCountTextMinItems || 1;\r\n\t\tthis.toggleCountTextMode =\r\n\t\t\tconcatOptions?.toggleCountTextMode || 'countAfterLimit';\r\n\t\tthis.toggleSeparators = {\r\n\t\t\titems: concatOptions?.toggleSeparators?.items || ', ',\r\n\t\t\tbetweenItemsAndCounter:\r\n\t\t\t\tconcatOptions?.toggleSeparators?.betweenItemsAndCounter || 'and',\r\n\t\t};\r\n\t\tthis.tagsItemTemplate = concatOptions?.tagsItemTemplate || null;\r\n\t\tthis.tagsItemClasses = concatOptions?.tagsItemClasses || null;\r\n\t\tthis.tagsInputId = concatOptions?.tagsInputId || null;\r\n\t\tthis.tagsInputClasses = concatOptions?.tagsInputClasses || null;\r\n\t\tthis.dropdownTag = concatOptions?.dropdownTag || null;\r\n\t\tthis.dropdownClasses = concatOptions?.dropdownClasses || null;\r\n\t\tthis.dropdownDirectionClasses =\r\n\t\t\tconcatOptions?.dropdownDirectionClasses || null;\r\n\t\tthis.dropdownSpace = concatOptions?.dropdownSpace || 10;\r\n\t\tthis.dropdownPlacement = concatOptions?.dropdownPlacement || null;\r\n\t\tthis.dropdownVerticalFixedPlacement = concatOptions?.dropdownVerticalFixedPlacement || null;\r\n\t\tthis.dropdownScope = concatOptions?.dropdownScope || 'parent';\r\n\t\tthis.searchTemplate = concatOptions?.searchTemplate || null;\r\n\t\tthis.searchWrapperTemplate = concatOptions?.searchWrapperTemplate || null;\r\n\t\tthis.searchWrapperClasses =\r\n\t\t\tconcatOptions?.searchWrapperClasses || 'bg-white p-2 sticky top-0';\r\n\t\tthis.searchId = concatOptions?.searchId || null;\r\n\t\tthis.searchLimit = concatOptions?.searchLimit || Infinity;\r\n\t\tthis.isSearchDirectMatch =\r\n\t\t\ttypeof concatOptions?.isSearchDirectMatch !== 'undefined'\r\n\t\t\t\t? concatOptions?.isSearchDirectMatch\r\n\t\t\t\t: true;\r\n\t\tthis.searchClasses =\r\n\t\t\tconcatOptions?.searchClasses ||\r\n\t\t\t'block w-[calc(100%-2rem)] text-sm border-gray-200 rounded-md focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 py-2 px-3 my-2 mx-4';\r\n\t\tthis.searchPlaceholder = concatOptions?.searchPlaceholder || 'Search...';\r\n\t\tthis.searchNoResultTemplate =\r\n\t\t\tconcatOptions?.searchNoResultTemplate || '<span></span>';\r\n\t\tthis.searchNoResultText =\r\n\t\t\tconcatOptions?.searchNoResultText || 'No results found';\r\n\t\tthis.searchNoResultClasses =\r\n\t\t\tconcatOptions?.searchNoResultClasses ||\r\n\t\t\t'px-4 text-sm text-gray-800 dark:text-neutral-200';\r\n\t\tthis.optionAllowEmptyOption =\r\n\t\t\ttypeof concatOptions?.optionAllowEmptyOption !== 'undefined'\r\n\t\t\t\t? concatOptions?.optionAllowEmptyOption\r\n\t\t\t\t: false;\r\n\t\tthis.optionTemplate = concatOptions?.optionTemplate || null;\r\n\t\tthis.optionTag = concatOptions?.optionTag || null;\r\n\t\tthis.optionClasses = concatOptions?.optionClasses || null;\r\n\t\tthis.extraMarkup = concatOptions?.extraMarkup || null;\r\n\t\tthis.descriptionClasses = concatOptions?.descriptionClasses || null;\r\n\t\tthis.iconClasses = concatOptions?.iconClasses || null;\r\n\t\tthis.isAddTagOnEnter = concatOptions?.isAddTagOnEnter ?? true;\r\n\r\n\t\tthis.animationInProcess = false;\r\n\t\tthis.selectOptions = [];\r\n\t\tthis.remoteOptions = [];\r\n\r\n\t\tthis.tagsInputHelper = null;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate wrapperClick(evt: Event) {\r\n\t\tif (\r\n\t\t\t!(evt.target as HTMLElement).closest('[data-hs-select-dropdown]') &&\r\n\t\t\t!(evt.target as HTMLElement).closest('[data-tag-value]')\r\n\t\t) {\r\n\t\t\tthis.tagsInput.focus();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate toggleClick() {\r\n\t\tif (this.isDisabled) return false;\r\n\r\n\t\tthis.toggleFn();\r\n\t}\r\n\r\n\tprivate tagsInputFocus() {\r\n\t\tif (!this.isOpened) this.open();\r\n\t}\r\n\r\n\tprivate tagsInputInput() {\r\n\t\tthis.calculateInputWidth();\r\n\t}\r\n\r\n\tprivate tagsInputInputSecond(evt: InputEvent) {\r\n\t\tthis.searchOptions((evt.target as HTMLInputElement).value);\r\n\t}\r\n\r\n\tprivate tagsInputKeydown(evt: KeyboardEvent) {\r\n\t\tif (evt.key === 'Enter' && this.isAddTagOnEnter) {\r\n\t\t\tconst val = (evt.target as HTMLInputElement).value;\r\n\r\n\t\t\tif (this.selectOptions.find((el: ISingleOption) => el.val === val))\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tthis.addSelectOption(val, val);\r\n\t\t\tthis.buildOption(val, val);\r\n\t\t\t(\r\n\t\t\t\tthis.dropdown.querySelector(`[data-value=\"${val}\"]`) as HTMLElement\r\n\t\t\t).click();\r\n\r\n\t\t\tthis.resetTagsInputField();\r\n\t\t\t// this.close();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate searchInput(evt: InputEvent) {\r\n\t\tconst newVal = (evt.target as HTMLInputElement).value;\r\n\r\n\t\tif (this.apiUrl) this.remoteSearch(newVal);\r\n\t\telse this.searchOptions(newVal);\r\n\t}\r\n\r\n\tpublic setValue(val: string | string[]) {\r\n\t\tthis.value = val;\r\n\r\n\t\tthis.clearSelections();\r\n\r\n\t\tif (Array.isArray(val)) {\r\n\t\t\tif (this.mode === 'tags') {\r\n\t\t\t\tthis.unselectMultipleItems();\r\n\t\t\t\tthis.selectMultipleItems();\r\n\r\n\t\t\t\tthis.selectedItems = [];\r\n\r\n\t\t\t\tconst existingTags = this.wrapper.querySelectorAll('[data-tag-value]');\r\n\t\t\t\texistingTags.forEach((tag) => tag.remove());\r\n\r\n\t\t\t\tthis.setTagsItems();\r\n\t\t\t\tthis.reassignTagsInputPlaceholder(this.value.length ? '' : this.placeholder);\r\n\t\t\t} else {\r\n\t\t\t\tthis.toggleTextWrapper.innerHTML = this.value.length ? this.stringFromValue() : this.placeholder;\r\n\r\n\t\t\t\tthis.unselectMultipleItems();\r\n\t\t\t\tthis.selectMultipleItems();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setToggleTitle();\r\n\r\n\t\t\tif (this.toggle.querySelector('[data-icon]')) this.setToggleIcon();\r\n\t\t\tif (this.toggle.querySelector('[data-title]')) this.setToggleTitle();\r\n\r\n\t\t\tthis.selectSingleItem();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsSelectCollection, this);\r\n\r\n\t\tthis.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.el.style.display = 'none';\r\n\r\n\t\tif (this.el.children) {\r\n\t\t\tArray.from(this.el.children)\r\n\t\t\t\t.filter((el: HTMLOptionElement) => this.optionAllowEmptyOption || (!this.optionAllowEmptyOption && el.value && el.value !== ''))\r\n\t\t\t\t.forEach((el: HTMLOptionElement) => {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-select-option');\r\n\r\n\t\t\t\t\tthis.selectOptions = [\r\n\t\t\t\t\t\t...this.selectOptions,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: el.textContent,\r\n\t\t\t\t\t\t\tval: el.value,\r\n\t\t\t\t\t\t\tdisabled: el.disabled,\r\n\t\t\t\t\t\t\toptions: data !== 'undefined' ? JSON.parse(data) : null,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst selectedOptions = Array.from(this.el.children).filter(\r\n\t\t\t\t(el: HTMLOptionElement) => el.selected,\r\n\t\t\t);\r\n\r\n\t\t\tif (selectedOptions) {\r\n\t\t\t\tconst values: string[] = [];\r\n\r\n\t\t\t\tselectedOptions.forEach((el: HTMLOptionElement) => {\r\n\t\t\t\t\tvalues.push(el.value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.value = values;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.buildWrapper();\r\n\t\tif (this.mode === 'tags') this.buildTags();\r\n\t\telse this.buildToggle();\r\n\t\tthis.buildDropdown();\r\n\t\tif (this.extraMarkup) this.buildExtraMarkup();\r\n\t}\r\n\r\n\tprivate buildWrapper() {\r\n\t\tthis.wrapper = document.createElement('div');\r\n\t\tthis.wrapper.classList.add('hs-select', 'relative');\r\n\r\n\t\tif (this.mode === 'tags') {\r\n\t\t\tthis.onWrapperClickListener = (evt) => this.wrapperClick(evt);\r\n\r\n\t\t\tthis.wrapper.addEventListener('click', this.onWrapperClickListener);\r\n\t\t}\r\n\r\n\t\tif (this.wrapperClasses)\r\n\t\t\tclassToClassList(this.wrapperClasses, this.wrapper);\r\n\r\n\t\tthis.el.before(this.wrapper);\r\n\r\n\t\tthis.wrapper.append(this.el);\r\n\t}\r\n\r\n\tprivate buildExtraMarkup() {\r\n\t\tconst appendMarkup = (markup: string): HTMLElement => {\r\n\t\t\tconst el = htmlToElement(markup);\r\n\r\n\t\t\tthis.wrapper.append(el);\r\n\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tconst clickHandle = (el: HTMLElement) => {\r\n\t\t\tif (!el.classList.contains('--prevent-click'))\r\n\t\t\t\tel.addEventListener('click', (evt: Event) => {\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tthis.toggleFn();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(this.extraMarkup)) {\r\n\t\t\tthis.extraMarkup.forEach((el) => {\r\n\t\t\t\tconst newEl = appendMarkup(el);\r\n\r\n\t\t\t\tclickHandle(newEl);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst newEl = appendMarkup(this.extraMarkup as string);\r\n\r\n\t\t\tclickHandle(newEl);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildToggle() {\r\n\t\tlet icon, title;\r\n\t\tthis.toggleTextWrapper = document.createElement('span');\r\n\t\tthis.toggleTextWrapper.classList.add('truncate');\r\n\t\tthis.toggle = htmlToElement(this.toggleTag || '<div></div>');\r\n\t\ticon = this.toggle.querySelector('[data-icon]');\r\n\t\ttitle = this.toggle.querySelector('[data-title]');\r\n\r\n\t\tif (!this.isMultiple && icon) this.setToggleIcon();\r\n\t\tif (!this.isMultiple && title) this.setToggleTitle();\r\n\t\tif (this.isMultiple) {\r\n\t\t\tthis.toggleTextWrapper.innerHTML = this.value.length\r\n\t\t\t\t? this.stringFromValue()\r\n\t\t\t\t: this.placeholder;\r\n\t\t} else {\r\n\t\t\tthis.toggleTextWrapper.innerHTML =\r\n\t\t\t\tthis.getItemByValue(this.value as string)?.title || this.placeholder;\r\n\t\t}\r\n\t\tif (!title) this.toggle.append(this.toggleTextWrapper);\r\n\t\tif (this.toggleClasses) classToClassList(this.toggleClasses, this.toggle);\r\n\t\tif (this.isDisabled) this.toggle.classList.add('disabled');\r\n\t\tif (this.wrapper) this.wrapper.append(this.toggle);\r\n\r\n\t\tif (this.toggle?.ariaExpanded) {\r\n\t\t\tif (this.isOpened) this.toggle.ariaExpanded = 'true';\r\n\t\t\telse this.toggle.ariaExpanded = 'false';\r\n\t\t}\r\n\r\n\t\tthis.onToggleClickListener = () => this.toggleClick();\r\n\r\n\t\tthis.toggle.addEventListener('click', this.onToggleClickListener);\r\n\t}\r\n\r\n\tprivate setToggleIcon() {\r\n\t\tconst item = this.getItemByValue(this.value as string) as ISingleOption &\r\n\t\t\tIApiFieldMap;\r\n\t\tconst icon = this.toggle.querySelector('[data-icon]');\r\n\r\n\t\tif (icon) {\r\n\t\t\ticon.innerHTML = '';\r\n\r\n\t\t\tconst img = htmlToElement(\r\n\t\t\t\tthis.apiUrl && this.apiIconTag\r\n\t\t\t\t\t? this.apiIconTag || ''\r\n\t\t\t\t\t: item?.options?.icon || '',\r\n\t\t\t) as HTMLImageElement;\r\n\t\t\tif (\r\n\t\t\t\tthis.value &&\r\n\t\t\t\tthis.apiUrl &&\r\n\t\t\t\tthis.apiIconTag &&\r\n\t\t\t\titem[this.apiFieldsMap.icon]\r\n\t\t\t)\r\n\t\t\t\timg.src = (item[this.apiFieldsMap.icon] as string) || '';\r\n\r\n\t\t\ticon.append(img);\r\n\r\n\t\t\tif (!img) icon.classList.add('hidden');\r\n\t\t\telse icon.classList.remove('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setToggleTitle() {\r\n\t\tconst title = this.toggle.querySelector('[data-title]');\r\n\r\n\t\tif (title) {\r\n\t\t\ttitle.innerHTML = this.getItemByValue(this.value as string)?.title || this.placeholder;\r\n\t\t\ttitle.classList.add('truncate');\r\n\r\n\t\t\tthis.toggle.append(title);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildTags() {\r\n\t\tif (this.isDisabled) this.wrapper.classList.add('disabled');\r\n\t\tthis.buildTagsInput();\r\n\t\tthis.setTagsItems();\r\n\t}\r\n\r\n\tprivate reassignTagsInputPlaceholder(placeholder: string) {\r\n\t\t(this.tagsInput as HTMLInputElement).placeholder = placeholder;\r\n\t\tthis.tagsInputHelper.innerHTML = placeholder;\r\n\t\tthis.calculateInputWidth();\r\n\t}\r\n\r\n\tprivate buildTagsItem(val: string) {\r\n\t\tconst item = this.getItemByValue(val) as ISingleOption & IApiFieldMap;\r\n\r\n\t\tlet template, title, remove, icon: null | HTMLElement;\r\n\r\n\t\tconst newItem = document.createElement('div');\r\n\t\tnewItem.setAttribute('data-tag-value', val);\r\n\t\tif (this.tagsItemClasses) classToClassList(this.tagsItemClasses, newItem);\r\n\r\n\t\tif (this.tagsItemTemplate) {\r\n\t\t\ttemplate = htmlToElement(this.tagsItemTemplate);\r\n\r\n\t\t\tnewItem.append(template);\r\n\t\t}\r\n\r\n\t\t// Icon\r\n\t\tif (item?.options?.icon || this.apiIconTag) {\r\n\t\t\tconst img = htmlToElement(\r\n\t\t\t\tthis.apiUrl && this.apiIconTag ? this.apiIconTag : item?.options?.icon,\r\n\t\t\t) as HTMLImageElement;\r\n\r\n\t\t\tif (this.apiUrl && this.apiIconTag && item[this.apiFieldsMap.icon])\r\n\t\t\t\timg.src = (item[this.apiFieldsMap.icon] as string) || '';\r\n\r\n\t\t\ticon = template\r\n\t\t\t\t? template.querySelector('[data-icon]')\r\n\t\t\t\t: document.createElement('span');\r\n\r\n\t\t\ticon.append(img);\r\n\r\n\t\t\tif (!template) newItem.append(icon);\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\ttemplate &&\r\n\t\t\ttemplate.querySelector('[data-icon]') &&\r\n\t\t\t!item?.options?.icon &&\r\n\t\t\t!this.apiUrl &&\r\n\t\t\t!this.apiIconTag &&\r\n\t\t\t!item[this.apiFieldsMap?.icon]\r\n\t\t) {\r\n\t\t\ttemplate.querySelector('[data-icon]').classList.add('hidden');\r\n\t\t}\r\n\r\n\t\t// Title\r\n\t\ttitle = template\r\n\t\t\t? template.querySelector('[data-title]')\r\n\t\t\t: document.createElement('span');\r\n\t\ttitle.textContent = item.title || '';\r\n\r\n\t\tif (!template) newItem.append(title);\r\n\r\n\t\t// Remove\r\n\t\tif (template) {\r\n\t\t\tremove = template.querySelector('[data-remove]');\r\n\t\t} else {\r\n\t\t\tremove = document.createElement('span');\r\n\t\t\tremove.textContent = 'X';\r\n\r\n\t\t\tnewItem.append(remove);\r\n\t\t}\r\n\r\n\t\tremove.addEventListener('click', () => {\r\n\t\t\tthis.value = (this.value as string[]).filter((el) => el !== val);\r\n\t\t\tthis.selectedItems = this.selectedItems.filter((el) => el !== val);\r\n\r\n\t\t\tif (!this.value.length)\r\n\t\t\t\tthis.reassignTagsInputPlaceholder(this.placeholder);\r\n\r\n\t\t\tthis.unselectMultipleItems();\r\n\t\t\tthis.selectMultipleItems();\r\n\r\n\t\t\tnewItem.remove();\r\n\r\n\t\t\tthis.triggerChangeEventForNativeSelect();\r\n\t\t});\r\n\r\n\t\tthis.wrapper.append(newItem);\r\n\t}\r\n\r\n\tprivate getItemByValue(val: string) {\r\n\t\tconst value = this.apiUrl\r\n\t\t\t? (this.remoteOptions as (ISingleOption & IApiFieldMap)[]).find(\r\n\t\t\t\t(el) => `${el[this.apiFieldsMap.val]}` === val || el[this.apiFieldsMap.title] === val,\r\n\t\t\t)\r\n\t\t\t: this.selectOptions.find((el: ISingleOption) => el.val === val);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tprivate setTagsItems() {\r\n\t\tif (this.value) {\r\n\t\t\t(this.value as string[]).forEach((val) => {\r\n\t\t\t\tif (!this.selectedItems.includes(val)) this.buildTagsItem(val);\r\n\r\n\t\t\t\tthis.selectedItems = !this.selectedItems.includes(val)\r\n\t\t\t\t\t? [...this.selectedItems, val]\r\n\t\t\t\t\t: this.selectedItems;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildTagsInput() {\r\n\t\tthis.tagsInput = document.createElement('input');\r\n\r\n\t\tif (this.tagsInputId) this.tagsInput.id = this.tagsInputId;\r\n\t\tif (this.tagsInputClasses)\r\n\t\t\tclassToClassList(this.tagsInputClasses, this.tagsInput);\r\n\r\n\t\tthis.onTagsInputFocusListener = () => this.tagsInputFocus();\r\n\t\tthis.onTagsInputInputListener = () => this.tagsInputInput();\r\n\t\tthis.onTagsInputInputSecondListener = debounce((evt: InputEvent) =>\r\n\t\t\tthis.tagsInputInputSecond(evt),\r\n\t\t);\r\n\t\tthis.onTagsInputKeydownListener = (evt) => this.tagsInputKeydown(evt);\r\n\r\n\t\tthis.tagsInput.addEventListener('focus', this.onTagsInputFocusListener);\r\n\t\tthis.tagsInput.addEventListener('input', this.onTagsInputInputListener);\r\n\t\tthis.tagsInput.addEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTagsInputInputSecondListener,\r\n\t\t);\r\n\t\tthis.tagsInput.addEventListener('keydown', this.onTagsInputKeydownListener);\r\n\r\n\t\tthis.wrapper.append(this.tagsInput);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.adjustInputWidth();\r\n\t\t\tthis.reassignTagsInputPlaceholder(\r\n\t\t\t\tthis.value.length ? '' : this.placeholder,\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate buildDropdown() {\r\n\t\tthis.dropdown = htmlToElement(this.dropdownTag || '<div></div>');\r\n\t\tthis.dropdown.setAttribute('data-hs-select-dropdown', '');\r\n\r\n\t\tif (this.dropdownScope === 'parent') {\r\n\t\t\tthis.dropdown.classList.add('absolute');\r\n\t\t\tif (!this.dropdownVerticalFixedPlacement) this.dropdown.classList.add('top-full');\r\n\t\t}\r\n\t\tthis.dropdown.role = 'listbox';\r\n\t\tthis.dropdown.tabIndex = -1;\r\n\t\tthis.dropdown.ariaOrientation = 'vertical';\r\n\r\n\t\tif (!this.isOpened) this.dropdown.classList.add('hidden');\r\n\r\n\t\tif (this.dropdownClasses)\r\n\t\t\tclassToClassList(this.dropdownClasses, this.dropdown);\r\n\t\tif (this.wrapper) this.wrapper.append(this.dropdown);\r\n\t\tif (this.dropdown && this.hasSearch) this.buildSearch();\r\n\t\tif (this.selectOptions)\r\n\t\t\tthis.selectOptions.forEach((props: ISingleOption, i) =>\r\n\t\t\t\tthis.buildOption(\r\n\t\t\t\t\tprops.title,\r\n\t\t\t\t\tprops.val,\r\n\t\t\t\t\tprops.disabled,\r\n\t\t\t\t\tprops.selected,\r\n\t\t\t\t\tprops.options,\r\n\t\t\t\t\t`${i}`,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\r\n\t\tif (this.apiUrl) this.optionsFromRemoteData();\r\n\r\n\t\tif (this.dropdownScope === 'window') this.buildPopper();\r\n\t}\r\n\r\n\tprivate buildPopper() {\r\n\t\tif (typeof Popper !== 'undefined' && Popper.createPopper) {\r\n\t\t\tdocument.body.appendChild(this.dropdown);\r\n\r\n\t\t\tthis.popperInstance = Popper.createPopper(\r\n\t\t\t\tthis.mode === 'tags' ? this.wrapper : this.toggle,\r\n\t\t\t\tthis.dropdown,\r\n\t\t\t\t{\r\n\t\t\t\t\tplacement: POSITIONS[this.dropdownPlacement] || 'bottom',\r\n\t\t\t\t\tstrategy: 'fixed',\r\n\t\t\t\t\tmodifiers: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'offset',\r\n\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\toffset: [0, 5],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateDropdownWidth() {\r\n\t\tconst toggle = this.mode === 'tags' ? this.wrapper : this.toggle;\r\n\r\n\t\tthis.dropdown.style.width = `${toggle.clientWidth}px`;\r\n\t}\r\n\r\n\tprivate buildSearch() {\r\n\t\tlet input;\r\n\t\tthis.searchWrapper = htmlToElement(\r\n\t\t\tthis.searchWrapperTemplate || '<div></div>',\r\n\t\t);\r\n\t\tif (this.searchWrapperClasses)\r\n\t\t\tclassToClassList(this.searchWrapperClasses, this.searchWrapper);\r\n\t\tinput = this.searchWrapper.querySelector('[data-input]');\r\n\r\n\t\tconst search = htmlToElement(\r\n\t\t\tthis.searchTemplate || '<input type=\"text\" />',\r\n\t\t);\r\n\t\tthis.search = (\r\n\t\t\tsearch.tagName === 'INPUT' ? search : search.querySelector(':scope input')\r\n\t\t) as HTMLInputElement;\r\n\r\n\t\tthis.search.placeholder = this.searchPlaceholder;\r\n\t\tif (this.searchClasses) classToClassList(this.searchClasses, this.search);\r\n\t\tif (this.searchId) this.search.id = this.searchId;\r\n\r\n\t\tthis.onSearchInputListener = debounce((evt: InputEvent) => this.searchInput(evt));\r\n\r\n\t\tthis.search.addEventListener('input', this.onSearchInputListener);\r\n\r\n\t\tif (input) input.append(search);\r\n\t\telse this.searchWrapper.append(search);\r\n\r\n\t\tthis.dropdown.append(this.searchWrapper);\r\n\t}\r\n\r\n\tprivate buildOption(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\tdisabled: boolean = false,\r\n\t\tselected: boolean = false,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t\tindex: string = '1',\r\n\t\tid?: string,\r\n\t) {\r\n\t\tlet template: HTMLElement | null = null;\r\n\t\tlet titleWrapper: HTMLElement | null = null;\r\n\t\tlet iconWrapper: HTMLElement | null = null;\r\n\t\tlet descriptionWrapper: HTMLElement | null = null;\r\n\r\n\t\tconst option = htmlToElement(this.optionTag || '<div></div>');\r\n\t\toption.setAttribute('data-value', val);\r\n\t\toption.setAttribute('data-title-value', title);\r\n\t\toption.setAttribute('tabIndex', index);\r\n\t\toption.classList.add('cursor-pointer');\r\n\t\toption.setAttribute('data-id', id || `${this.optionId}`);\r\n\t\tif (!id) this.optionId++;\r\n\t\tif (disabled) option.classList.add('disabled');\r\n\t\tif (selected) {\r\n\t\t\tif (this.isMultiple) this.value = [...(this.value as []), val];\r\n\t\t\telse this.value = val;\r\n\t\t}\r\n\t\tif (this.optionTemplate) {\r\n\t\t\ttemplate = htmlToElement(this.optionTemplate);\r\n\r\n\t\t\toption.append(template);\r\n\t\t}\r\n\t\tif (template) {\r\n\t\t\ttitleWrapper = template.querySelector('[data-title]');\r\n\t\t\ttitleWrapper.textContent = title || '';\r\n\t\t} else {\r\n\t\t\toption.textContent = title || '';\r\n\t\t}\r\n\t\tif (options) {\r\n\t\t\tif (options.icon) {\r\n\t\t\t\tconst img = htmlToElement(this.apiIconTag ?? options.icon);\r\n\t\t\t\timg.classList.add('max-w-full');\r\n\r\n\t\t\t\tif (this.apiUrl) {\r\n\t\t\t\t\timg.setAttribute('alt', title);\r\n\t\t\t\t\timg.setAttribute('src', options.icon);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (template) {\r\n\t\t\t\t\ticonWrapper = template.querySelector('[data-icon]');\r\n\t\t\t\t\ticonWrapper.append(img);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst icon = htmlToElement('<div></div>');\r\n\t\t\t\t\tif (this.iconClasses) classToClassList(this.iconClasses, icon);\r\n\r\n\t\t\t\t\ticon.append(img);\r\n\t\t\t\t\toption.append(icon);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (options.description) {\r\n\t\t\t\tif (template) {\r\n\t\t\t\t\tdescriptionWrapper = template.querySelector('[data-description]');\r\n\t\t\t\t\tif (descriptionWrapper)\r\n\t\t\t\t\t\tdescriptionWrapper.append(options.description);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst description = htmlToElement('<div></div>');\r\n\t\t\t\t\tdescription.textContent = options.description;\r\n\t\t\t\t\tif (this.descriptionClasses)\r\n\t\t\t\t\t\tclassToClassList(this.descriptionClasses, description);\r\n\r\n\t\t\t\t\toption.append(description);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttemplate &&\r\n\t\t\ttemplate.querySelector('[data-icon]') &&\r\n\t\t\t!options &&\r\n\t\t\t!options?.icon\r\n\t\t) {\r\n\t\t\ttemplate.querySelector('[data-icon]').classList.add('hidden');\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tthis.value &&\r\n\t\t\t(this.isMultiple ? this.value.includes(val) : this.value === val)\r\n\t\t)\r\n\t\t\toption.classList.add('selected');\r\n\r\n\t\tif (!disabled)\r\n\t\t\toption.addEventListener('click', () => this.onSelectOption(val));\r\n\r\n\t\tif (this.optionClasses) classToClassList(this.optionClasses, option);\r\n\t\tif (this.dropdown) this.dropdown.append(option);\r\n\t\tif (selected) this.setNewValue();\r\n\t}\r\n\r\n\tprivate buildOptionFromRemoteData(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\tdisabled: boolean = false,\r\n\t\tselected: boolean = false,\r\n\t\tindex: string = '1',\r\n\t\tid: string | null,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t) {\r\n\t\tif (index) {\r\n\t\t\tthis.buildOption(title, val, disabled, selected, options, index, id);\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t'ID parameter is required for generating remote options! Please check your API endpoint have it.',\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildOptionsFromRemoteData(data: []) {\r\n\t\tdata.forEach((el: IApiFieldMap, i) => {\r\n\t\t\tlet id = null;\r\n\t\t\tlet title = '';\r\n\t\t\tlet value = '';\r\n\t\t\tconst options: IApiFieldMap & { rest: { [key: string]: unknown } } = {\r\n\t\t\t\tid: '',\r\n\t\t\t\tval: '',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\ticon: null,\r\n\t\t\t\tdescription: null,\r\n\t\t\t\trest: {},\r\n\t\t\t};\r\n\r\n\t\t\tObject.keys(el).forEach((key: string) => {\r\n\t\t\t\tif (el[this.apiFieldsMap.id]) id = el[this.apiFieldsMap.id];\r\n\t\t\t\tif (el[this.apiFieldsMap.val] || el[this.apiFieldsMap.title]) {\r\n\t\t\t\t\tvalue = el[this.apiFieldsMap.val] as string || el[this.apiFieldsMap.title] as string;\r\n\t\t\t\t}\r\n\t\t\t\tif (el[this.apiFieldsMap.title])\r\n\t\t\t\t\ttitle = el[this.apiFieldsMap.title] as string;\r\n\t\t\t\tif (el[this.apiFieldsMap.icon])\r\n\t\t\t\t\toptions.icon = el[this.apiFieldsMap.icon] as string;\r\n\t\t\t\tif (el[this.apiFieldsMap?.description])\r\n\t\t\t\t\toptions.description = el[this.apiFieldsMap.description] as string;\r\n\t\t\t\toptions.rest[key] = el[key];\r\n\t\t\t});\r\n\r\n\t\t\tthis.buildOriginalOption(\r\n\t\t\t\ttitle,\r\n\t\t\t\t`${value}`,\r\n\t\t\t\tid,\r\n\t\t\t\tfalse,\r\n\t\t\t\tfalse,\r\n\t\t\t\toptions as ISingleOptionOptions & IApiFieldMap,\r\n\t\t\t);\r\n\r\n\t\t\tthis.buildOptionFromRemoteData(\r\n\t\t\t\ttitle,\r\n\t\t\t\t`${value}`,\r\n\t\t\t\tfalse,\r\n\t\t\t\tfalse,\r\n\t\t\t\t`${i}`,\r\n\t\t\t\tid,\r\n\t\t\t\toptions as ISingleOptionOptions & IApiFieldMap,\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tthis.sortElements(this.el, 'option');\r\n\t\tthis.sortElements(this.dropdown, '[data-value]');\r\n\t}\r\n\r\n\tprivate async optionsFromRemoteData(val = '') {\r\n\t\tconst res = await this.apiRequest(val);\r\n\t\tthis.remoteOptions = res;\r\n\r\n\t\tif (res.length) this.buildOptionsFromRemoteData(this.remoteOptions as []);\r\n\t\telse console.log('There is no data were responded!');\r\n\t}\r\n\r\n\tprivate async apiRequest(val = '') {\r\n\t\ttry {\r\n\t\t\tlet url = this.apiUrl;\r\n\t\t\tconst search = this.apiSearchQueryKey\r\n\t\t\t\t? `${this.apiSearchQueryKey}=${val.toLowerCase()}`\r\n\t\t\t\t: null;\r\n\t\t\tconst query = `${this.apiQuery}`;\r\n\t\t\tconst options = this.apiOptions || {};\r\n\r\n\t\t\tif (search) url += `?${search}`;\r\n\t\t\tif (this.apiQuery) url += `${search ? '&' : '?'}${query}`;\r\n\r\n\t\t\tconst req = await fetch(url, options);\r\n\t\t\tconst res = await req.json();\r\n\r\n\t\t\treturn this.apiDataPart ? res[this.apiDataPart] : res;\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate sortElements(container: HTMLElement, selector: string): void {\r\n\t\tconst items = Array.from(container.querySelectorAll(selector));\r\n\r\n\t\titems.sort((a, b) => {\r\n\t\t\tconst isASelected =\r\n\t\t\t\ta.classList.contains('selected') || a.hasAttribute('selected');\r\n\t\t\tconst isBSelected =\r\n\t\t\t\tb.classList.contains('selected') || b.hasAttribute('selected');\r\n\r\n\t\t\tif (isASelected && !isBSelected) return -1;\r\n\t\t\tif (!isASelected && isBSelected) return 1;\r\n\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\titems.forEach((item) => container.appendChild(item));\r\n\t}\r\n\r\n\tprivate async remoteSearch(val: string) {\r\n\t\tif (val.length <= this.minSearchLength) {\r\n\t\t\tconst res = await this.apiRequest('');\r\n\t\t\tthis.remoteOptions = res;\r\n\r\n\t\t\tArray.from(this.dropdown.querySelectorAll('[data-value]')).forEach(el => el.remove());\r\n\t\t\tArray.from(this.el.querySelectorAll('option[value]')).forEach((el: HTMLOptionElement) => {\r\n\t\t\t\tel.remove();\r\n\t\t\t});\r\n\r\n\t\t\tif (res.length) this.buildOptionsFromRemoteData(res);\r\n\t\t\telse console.log('No data responded!');\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst res = await this.apiRequest(val);\r\n\t\tthis.remoteOptions = res;\r\n\t\tlet newIds = res.map((item: { id: string }) => `${item.id}`);\r\n\t\tlet restOptions = null;\r\n\t\tconst pseudoOptions = this.dropdown.querySelectorAll('[data-value]');\r\n\t\tconst options = this.el.querySelectorAll('[data-hs-select-option]');\r\n\r\n\t\toptions.forEach((el: HTMLOptionElement) => {\r\n\t\t\tconst dataId = el.getAttribute('data-id');\r\n\t\t\tif (!newIds.includes(dataId) && !this.value?.includes(el.value))\r\n\t\t\t\tthis.destroyOriginalOption(el.value);\r\n\t\t});\r\n\r\n\t\tpseudoOptions.forEach((el: HTMLElement) => {\r\n\t\t\tconst dataId = el.getAttribute('data-id');\r\n\t\t\tif (!newIds.includes(dataId) && !this.value?.includes(el.getAttribute('data-value')))\r\n\t\t\t\tthis.destroyOption(el.getAttribute('data-value'));\r\n\t\t\telse newIds = newIds.filter((item: string) => item !== dataId);\r\n\t\t});\r\n\r\n\t\trestOptions = res.filter((item: { id: string }) =>\r\n\t\t\tnewIds.includes(`${item.id}`),\r\n\t\t);\r\n\r\n\t\tif (restOptions.length) this.buildOptionsFromRemoteData(restOptions as []);\r\n\t\telse console.log('No data responded!');\r\n\t}\r\n\r\n\tprivate destroyOption(val: string) {\r\n\t\tconst option = this.dropdown.querySelector(`[data-value=\"${val}\"]`);\r\n\r\n\t\tif (!option) return false;\r\n\r\n\t\toption.remove();\r\n\t}\r\n\r\n\tprivate buildOriginalOption(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\tid?: string | null,\r\n\t\tdisabled?: boolean,\r\n\t\tselected?: boolean,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t) {\r\n\t\tconst option = htmlToElement('<option></option>');\r\n\t\toption.setAttribute('value', val);\r\n\t\tif (disabled) option.setAttribute('disabled', 'disabled');\r\n\t\tif (selected) option.setAttribute('selected', 'selected');\r\n\t\tif (id) option.setAttribute('data-id', id);\r\n\t\toption.setAttribute('data-hs-select-option', JSON.stringify(options));\r\n\t\toption.innerText = title;\r\n\r\n\t\tthis.el.append(option);\r\n\t}\r\n\r\n\tprivate destroyOriginalOption(val: string) {\r\n\t\tconst option = this.el.querySelector(`[value=\"${val}\"]`);\r\n\r\n\t\tif (!option) return false;\r\n\r\n\t\toption.remove();\r\n\t}\r\n\r\n\tprivate buildTagsInputHelper() {\r\n\t\tthis.tagsInputHelper = document.createElement('span');\r\n\t\tthis.tagsInputHelper.style.fontSize = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).fontSize;\r\n\t\tthis.tagsInputHelper.style.fontFamily = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).fontFamily;\r\n\t\tthis.tagsInputHelper.style.fontWeight = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).fontWeight;\r\n\t\tthis.tagsInputHelper.style.letterSpacing = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).letterSpacing;\r\n\t\tthis.tagsInputHelper.style.visibility = 'hidden';\r\n\t\tthis.tagsInputHelper.style.whiteSpace = 'pre';\r\n\t\tthis.tagsInputHelper.style.position = 'absolute';\r\n\r\n\t\tthis.wrapper.appendChild(this.tagsInputHelper);\r\n\t}\r\n\r\n\tprivate calculateInputWidth() {\r\n\t\tthis.tagsInputHelper.textContent =\r\n\t\t\t(this.tagsInput as HTMLInputElement).value ||\r\n\t\t\t(this.tagsInput as HTMLInputElement).placeholder;\r\n\r\n\t\tconst inputPadding =\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).paddingLeft) +\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).paddingRight);\r\n\t\tconst inputBorder =\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth) +\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).borderRightWidth);\r\n\t\tconst newWidth =\r\n\t\t\tthis.tagsInputHelper.offsetWidth + inputPadding + inputBorder;\r\n\t\tconst maxWidth =\r\n\t\t\tthis.wrapper.offsetWidth -\r\n\t\t\t(parseInt(window.getComputedStyle(this.wrapper).paddingLeft) +\r\n\t\t\t\tparseInt(window.getComputedStyle(this.wrapper).paddingRight));\r\n\r\n\t\t(this.tagsInput as HTMLInputElement).style.width = `${Math.min(newWidth, maxWidth) + 2\r\n\t\t\t}px`;\r\n\t}\r\n\r\n\tprivate adjustInputWidth() {\r\n\t\tthis.buildTagsInputHelper();\r\n\t\tthis.calculateInputWidth();\r\n\t}\r\n\r\n\tprivate onSelectOption(val: string) {\r\n\t\tthis.clearSelections();\r\n\r\n\t\tif (this.isMultiple) {\r\n\t\t\tthis.value = this.value.includes(val)\r\n\t\t\t\t? Array.from(this.value).filter((el) => el !== val)\r\n\t\t\t\t: [...Array.from(this.value), val];\r\n\r\n\t\t\tthis.selectMultipleItems();\r\n\t\t\tthis.setNewValue();\r\n\t\t} else {\r\n\t\t\tthis.value = val;\r\n\r\n\t\t\tthis.selectSingleItem();\r\n\t\t\tthis.setNewValue();\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('change', this.value);\r\n\t\t// TODO:: test with this line commented out\r\n\t\t// dispatch('change.hs.select', this.el, this.value);\r\n\r\n\t\tif (this.mode === 'tags') {\r\n\t\t\tconst intersection = this.selectedItems.filter(\r\n\t\t\t\t(x) => !(this.value as string[]).includes(x),\r\n\t\t\t);\r\n\t\t\tif (intersection.length) {\r\n\t\t\t\tintersection.forEach((el) => {\r\n\t\t\t\t\tthis.selectedItems = this.selectedItems.filter((elI) => elI !== el);\r\n\t\t\t\t\tthis.wrapper.querySelector(`[data-tag-value=\"${el}\"]`).remove();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTagsInputField();\r\n\t\t}\r\n\r\n\t\tif (!this.isMultiple) {\r\n\t\t\tif (this.toggle.querySelector('[data-icon]')) this.setToggleIcon();\r\n\t\t\tif (this.toggle.querySelector('[data-title]')) this.setToggleTitle();\r\n\t\t\tthis.close(true);\r\n\t\t}\r\n\r\n\t\tif (!this.value.length && this.mode === 'tags')\r\n\t\t\tthis.reassignTagsInputPlaceholder(this.placeholder);\r\n\r\n\t\tif (this.isOpened && this.mode === 'tags' && this.tagsInput)\r\n\t\t\tthis.tagsInput.focus();\r\n\r\n\t\tthis.triggerChangeEventForNativeSelect();\r\n\t}\r\n\r\n\tprivate triggerChangeEventForNativeSelect() {\r\n\t\tconst selectChangeEvent = new Event('change', { bubbles: true });\r\n\t\t(this.el as HTMLSelectElement).dispatchEvent(selectChangeEvent);\r\n\r\n\t\t// TODO:: test with these lines added\r\n\t\tdispatch('change.hs.select', this.el, this.value);\r\n\t}\r\n\r\n\tprivate addSelectOption(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\tdisabled?: boolean,\r\n\t\tselected?: boolean,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t) {\r\n\t\tthis.selectOptions = [\r\n\t\t\t...this.selectOptions,\r\n\t\t\t{\r\n\t\t\t\ttitle,\r\n\t\t\t\tval,\r\n\t\t\t\tdisabled,\r\n\t\t\t\tselected,\r\n\t\t\t\toptions,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tprivate removeSelectOption(val: string, isArray = false) {\r\n\t\tconst hasOption = !!this.selectOptions.some(\r\n\t\t\t(el: ISingleOption) => el.val === val,\r\n\t\t);\r\n\r\n\t\tif (!hasOption) return false;\r\n\r\n\t\tthis.selectOptions = this.selectOptions.filter(\r\n\t\t\t(el: ISingleOption) => el.val !== val,\r\n\t\t);\r\n\r\n\t\tthis.value = isArray\r\n\t\t\t? (this.value as string[]).filter((item: string) => item !== val)\r\n\t\t\t: val;\r\n\t}\r\n\r\n\tprivate resetTagsInputField() {\r\n\t\t(this.tagsInput as HTMLInputElement).value = '';\r\n\r\n\t\tthis.reassignTagsInputPlaceholder('');\r\n\t\tthis.searchOptions('');\r\n\t}\r\n\r\n\tprivate clearSelections() {\r\n\t\tArray.from(this.dropdown.children).forEach((el) => {\r\n\t\t\tif (el.classList.contains('selected')) el.classList.remove('selected');\r\n\t\t});\r\n\t\tArray.from(this.el.children).forEach((el) => {\r\n\t\t\tif ((el as HTMLOptionElement).selected)\r\n\t\t\t\t(el as HTMLOptionElement).selected = false;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setNewValue() {\r\n\t\tif (this.mode === 'tags') {\r\n\t\t\tthis.setTagsItems();\r\n\t\t} else {\r\n\t\t\tif (this.value?.length) {\r\n\t\t\t\tthis.toggleTextWrapper.innerHTML = this.stringFromValue();\r\n\t\t\t} else {\r\n\t\t\t\tthis.toggleTextWrapper.innerHTML = this.placeholder;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate stringFromValueBasic(options: ISingleOption[]) {\r\n\t\tconst value: string[] = [];\r\n\t\tlet title = '';\r\n\r\n\t\toptions.forEach((el: ISingleOption) => {\r\n\t\t\tif (this.isMultiple) {\r\n\t\t\t\tif (this.value.includes(el.val)) value.push(el.title);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.value === el.val) value.push(el.title);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (\r\n\t\t\tthis.toggleCountText !== undefined &&\r\n\t\t\tthis.toggleCountText !== null &&\r\n\t\t\tvalue.length >= this.toggleCountTextMinItems\r\n\t\t) {\r\n\t\t\tif (this.toggleCountTextMode === 'nItemsAndCount') {\r\n\t\t\t\tconst nItems = value.slice(0, this.toggleCountTextMinItems - 1);\r\n\t\t\t\tconst tempTitle = [nItems.join(this.toggleSeparators.items)];\r\n\t\t\t\tconst count = `${value.length - nItems.length}`;\r\n\r\n\t\t\t\tif (this?.toggleSeparators?.betweenItemsAndCounter)\r\n\t\t\t\t\ttempTitle.push(this.toggleSeparators.betweenItemsAndCounter);\r\n\t\t\t\tif (this.toggleCountText) {\r\n\t\t\t\t\tswitch (this.toggleCountTextPlacement) {\r\n\t\t\t\t\t\tcase 'postfix-no-space':\r\n\t\t\t\t\t\t\ttempTitle.push(`${count}${this.toggleCountText}`);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'prefix-no-space':\r\n\t\t\t\t\t\t\ttempTitle.push(`${this.toggleCountText}${count}`);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'prefix':\r\n\t\t\t\t\t\t\ttempTitle.push(`${this.toggleCountText} ${count}`);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\ttempTitle.push(`${count} ${this.toggleCountText}`);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttitle = tempTitle.join(' ');\r\n\t\t\t} else {\r\n\t\t\t\ttitle = `${value.length} ${this.toggleCountText}`;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttitle = value.join(this.toggleSeparators.items);\r\n\t\t}\r\n\r\n\t\treturn title;\r\n\t}\r\n\r\n\tprivate stringFromValueRemoteData() {\r\n\t\tconst options = this.dropdown.querySelectorAll('[data-title-value]');\r\n\t\tconst value: string[] = [];\r\n\t\tlet title = '';\r\n\r\n\t\toptions.forEach((el: HTMLElement) => {\r\n\t\t\tconst dataValue = el.getAttribute('data-value');\r\n\t\t\tconst dataTitleValue = el.getAttribute('data-title-value');\r\n\r\n\t\t\tif (this.isMultiple) {\r\n\t\t\t\tif (this.value.includes(dataValue)) value.push(dataTitleValue);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.value === dataValue) value.push(dataTitleValue);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (\r\n\t\t\tthis.toggleCountText &&\r\n\t\t\tthis.toggleCountText !== '' &&\r\n\t\t\tvalue.length >= this.toggleCountTextMinItems\r\n\t\t) {\r\n\t\t\tif (this.toggleCountTextMode === 'nItemsAndCount') {\r\n\t\t\t\tconst nItems = value.slice(0, this.toggleCountTextMinItems - 1);\r\n\r\n\t\t\t\ttitle = `${nItems.join(this.toggleSeparators.items)} ${this.toggleSeparators.betweenItemsAndCounter} ${value.length - nItems.length} ${this.toggleCountText}`;\r\n\t\t\t} else {\r\n\t\t\t\ttitle = `${value.length} ${this.toggleCountText}`;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttitle = value.join(this.toggleSeparators.items);\r\n\t\t}\r\n\r\n\t\treturn title;\r\n\t}\r\n\r\n\tprivate stringFromValue() {\r\n\t\tconst result = this.apiUrl\r\n\t\t\t? this.stringFromValueRemoteData()\r\n\t\t\t: this.stringFromValueBasic(this.selectOptions);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate selectSingleItem() {\r\n\t\tconst selectedOption = Array.from(this.el.children).find(\r\n\t\t\t(el) => this.value === (el as HTMLOptionElement).value,\r\n\t\t);\r\n\t\t(selectedOption as HTMLOptionElement).selected = true;\r\n\r\n\t\tconst selectedItem = Array.from(this.dropdown.children).find(\r\n\t\t\t(el) =>\r\n\t\t\t\tthis.value === (el as HTMLOptionElement).getAttribute('data-value'),\r\n\t\t);\r\n\r\n\t\tif (selectedItem) selectedItem.classList.add('selected');\r\n\t}\r\n\r\n\tprivate selectMultipleItems() {\r\n\t\tArray.from(this.dropdown.children)\r\n\t\t\t.filter((el) => this.value.includes(el.getAttribute('data-value')))\r\n\t\t\t.forEach((el) => el.classList.add('selected'));\r\n\r\n\t\tArray.from(this.el.children)\r\n\t\t\t.filter((el) => this.value.includes((el as HTMLOptionElement).value))\r\n\t\t\t.forEach((el) => ((el as HTMLOptionElement).selected = true));\r\n\t}\r\n\r\n\tprivate unselectMultipleItems() {\r\n\t\tArray.from(this.dropdown.children).forEach((el) =>\r\n\t\t\tel.classList.remove('selected'),\r\n\t\t);\r\n\t\tArray.from(this.el.children).forEach(\r\n\t\t\t(el) => ((el as HTMLOptionElement).selected = false),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate searchOptions(val: string) {\r\n\t\tif (val.length <= this.minSearchLength) {\r\n\t\t\tif (this.searchNoResult) {\r\n\t\t\t\tthis.searchNoResult.remove();\r\n\t\t\t\tthis.searchNoResult = null;\r\n\t\t\t}\r\n\r\n\t\t\tconst options = this.dropdown.querySelectorAll('[data-value]');\r\n\r\n\t\t\toptions.forEach((el) => {\r\n\t\t\t\tel.classList.remove('hidden');\r\n\t\t\t});\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.searchNoResult) {\r\n\t\t\tthis.searchNoResult.remove();\r\n\t\t\tthis.searchNoResult = null;\r\n\t\t}\r\n\r\n\t\tthis.searchNoResult = htmlToElement(this.searchNoResultTemplate);\r\n\t\tthis.searchNoResult.innerText = this.searchNoResultText;\r\n\t\tclassToClassList(this.searchNoResultClasses, this.searchNoResult);\r\n\r\n\t\tconst options = this.dropdown.querySelectorAll('[data-value]');\r\n\t\tlet hasItems = false;\r\n\t\tlet countLimit: number;\r\n\r\n\t\tif (this.searchLimit) countLimit = 0;\r\n\r\n\t\toptions.forEach((el) => {\r\n\t\t\tconst optionVal = el.getAttribute('data-title-value').toLocaleLowerCase();\r\n\t\t\tconst directMatch = this.isSearchDirectMatch;\r\n\t\t\tlet condition;\r\n\r\n\t\t\tif (directMatch) {\r\n\t\t\t\tcondition = !optionVal.includes(val.toLowerCase()) || (this.searchLimit && countLimit >= this.searchLimit);\r\n\t\t\t} else {\r\n\t\t\t\tconst regexSafeVal = val ? val.split('').map((char) => (/\\w/.test(char) ? `${char}[\\\\W_]*` : '\\\\W*')).join('') : '';\r\n\t\t\t\tconst regex = new RegExp(regexSafeVal, 'i');\r\n\t\t\t\tcondition = !regex.test(optionVal.trim()) || (this.searchLimit && countLimit >= this.searchLimit);\r\n\t\t\t}\r\n\r\n\t\t\tif (condition) {\r\n\t\t\t\tel.classList.add('hidden');\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.remove('hidden');\r\n\r\n\t\t\t\thasItems = true;\r\n\r\n\t\t\t\tif (this.searchLimit) countLimit++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!hasItems) this.dropdown.append(this.searchNoResult);\r\n\t}\r\n\r\n\tprivate eraseToggleIcon() {\r\n\t\tconst icon = this.toggle.querySelector('[data-icon]');\r\n\r\n\t\tif (icon) {\r\n\t\t\ticon.innerHTML = null;\r\n\t\t\ticon.classList.add('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate eraseToggleTitle() {\r\n\t\tconst title = this.toggle.querySelector('[data-title]');\r\n\r\n\t\tif (title) {\r\n\t\t\ttitle.innerHTML = this.placeholder;\r\n\t\t} else {\r\n\t\t\tthis.toggleTextWrapper.innerHTML = this.placeholder;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate toggleFn() {\r\n\t\tif (this.isOpened) this.close();\r\n\t\telse this.open();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\tif (this.wrapper)\r\n\t\t\tthis.wrapper.removeEventListener('click', this.onWrapperClickListener);\r\n\t\tif (this.toggle)\r\n\t\t\tthis.toggle.removeEventListener('click', this.onToggleClickListener);\r\n\t\tif (this.tagsInput) {\r\n\t\t\tthis.tagsInput.removeEventListener(\r\n\t\t\t\t'focus',\r\n\t\t\t\tthis.onTagsInputFocusListener,\r\n\t\t\t);\r\n\t\t\tthis.tagsInput.removeEventListener(\r\n\t\t\t\t'input',\r\n\t\t\t\tthis.onTagsInputInputListener,\r\n\t\t\t);\r\n\t\t\tthis.tagsInput.removeEventListener(\r\n\t\t\t\t'input',\r\n\t\t\t\tthis.onTagsInputInputSecondListener,\r\n\t\t\t);\r\n\t\t\tthis.tagsInput.removeEventListener(\r\n\t\t\t\t'keydown',\r\n\t\t\t\tthis.onTagsInputKeydownListener,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.search)\r\n\t\t\tthis.search.removeEventListener('input', this.onSearchInputListener);\r\n\r\n\t\tconst parent = this.el.parentElement.parentElement;\r\n\r\n\t\tthis.el.classList.remove('hidden');\r\n\t\tthis.el.style.display = '';\r\n\t\tparent.prepend(this.el);\r\n\t\tparent.querySelector('.hs-select').remove();\r\n\t\tthis.wrapper = null;\r\n\t}\r\n\r\n\tpublic open() {\r\n\t\tconst currentlyOpened =\r\n\t\t\twindow?.$hsSelectCollection?.find((el) => el.element.isOpened) || null;\r\n\r\n\t\tif (currentlyOpened) currentlyOpened.element.close();\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tif (this.dropdownScope === 'window')\r\n\t\t\tthis.dropdown.classList.add('invisible');\r\n\t\tthis.dropdown.classList.remove('hidden');\r\n\r\n\t\tthis.recalculateDirection();\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'true';\r\n\t\t\tthis.wrapper.classList.add('active');\r\n\t\t\tthis.dropdown.classList.add('opened');\r\n\t\t\tif (\r\n\t\t\t\tthis.dropdown.classList.contains('w-full') &&\r\n\t\t\t\tthis.dropdownScope === 'window'\r\n\t\t\t)\r\n\t\t\t\tthis.updateDropdownWidth();\r\n\t\t\tif (this.popperInstance && this.dropdownScope === 'window') {\r\n\t\t\t\tthis.popperInstance.update();\r\n\t\t\t\tthis.dropdown.classList.remove('invisible');\r\n\t\t\t}\r\n\t\t\tif (this.hasSearch && !this.preventSearchFocus) this.search.focus();\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.isOpened = true;\r\n\t}\r\n\r\n\tpublic close(forceFocus = false) {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tif (this?.toggle?.ariaExpanded) this.toggle.ariaExpanded = 'false';\r\n\t\tthis.wrapper.classList.remove('active');\r\n\t\tthis.dropdown.classList.remove('opened', 'bottom-full', 'top-full');\r\n\t\tif (this.dropdownDirectionClasses?.bottom)\r\n\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.bottom);\r\n\t\tif (this.dropdownDirectionClasses?.top)\r\n\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.top);\r\n\t\tthis.dropdown.style.marginTop = '';\r\n\t\tthis.dropdown.style.marginBottom = '';\r\n\r\n\t\tafterTransition(this.dropdown, () => {\r\n\t\t\tthis.dropdown.classList.add('hidden');\r\n\t\t\tif (this.hasSearch) {\r\n\t\t\t\tthis.search.value = '';\r\n\t\t\t\tthis.search.dispatchEvent(new Event('input', { bubbles: true }));\r\n\t\t\t\tthis.search.blur();\r\n\t\t\t}\r\n\r\n\t\t\tif (forceFocus) this.toggle.focus();\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.dropdown\r\n\t\t\t.querySelector('.hs-select-option-highlighted')\r\n\t\t\t?.classList.remove('hs-select-option-highlighted');\r\n\t\tthis.isOpened = false;\r\n\t}\r\n\r\n\tpublic addOption(items: ISingleOption | ISingleOption[]) {\r\n\t\tlet i = `${this.selectOptions.length}`;\r\n\t\tconst addOption = (option: ISingleOption) => {\r\n\t\t\tconst { title, val, disabled, selected, options } = option;\r\n\t\t\tconst hasOption = !!this.selectOptions.some(\r\n\t\t\t\t(el: ISingleOption) => el.val === val,\r\n\t\t\t);\r\n\r\n\t\t\tif (!hasOption) {\r\n\t\t\t\tthis.addSelectOption(title, val, disabled, selected, options);\r\n\t\t\t\tthis.buildOption(title, val, disabled, selected, options, i);\r\n\t\t\t\tthis.buildOriginalOption(title, val, null, disabled, selected, options);\r\n\r\n\t\t\t\tif (selected && !this.isMultiple) this.onSelectOption(val);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(items)) {\r\n\t\t\titems.forEach((option) => {\r\n\t\t\t\taddOption(option);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddOption(items);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic removeOption(values: string | string[]) {\r\n\t\tconst removeOption = (val: string, isArray = false) => {\r\n\t\t\tconst hasOption = !!this.selectOptions.some(\r\n\t\t\t\t(el: ISingleOption) => el.val === val,\r\n\t\t\t);\r\n\r\n\t\t\tif (hasOption) {\r\n\t\t\t\tthis.removeSelectOption(val, isArray);\r\n\t\t\t\tthis.destroyOption(val);\r\n\t\t\t\tthis.destroyOriginalOption(val);\r\n\r\n\t\t\t\tif (this.value === val) {\r\n\t\t\t\t\tthis.value = null;\r\n\r\n\t\t\t\t\tthis.eraseToggleTitle();\r\n\t\t\t\t\tthis.eraseToggleIcon();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(values)) {\r\n\t\t\tvalues.forEach((val) => {\r\n\t\t\t\tremoveOption(val, this.isMultiple);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tremoveOption(values, this.isMultiple);\r\n\t\t}\r\n\r\n\t\tthis.setNewValue();\r\n\t}\r\n\r\n\tpublic recalculateDirection() {\r\n\t\tif (this?.dropdownVerticalFixedPlacement && (this.dropdown.classList.contains('bottom-full') || this.dropdown.classList.contains('top-full'))) return false;\r\n\r\n\t\tif (this?.dropdownVerticalFixedPlacement === 'top') {\r\n\t\t\tthis.dropdown.classList.add('bottom-full');\r\n\t\t\tthis.dropdown.style.marginBottom = `${this.dropdownSpace}px`;\r\n\t\t} else if (this?.dropdownVerticalFixedPlacement === 'bottom') {\r\n\t\t\tthis.dropdown.classList.add('top-full');\r\n\t\t\tthis.dropdown.style.marginTop = `${this.dropdownSpace}px`;\r\n\t\t} else if (\r\n\t\t\tisEnoughSpace(\r\n\t\t\t\tthis.dropdown,\r\n\t\t\t\tthis.toggle || this.tagsInput,\r\n\t\t\t\t'bottom',\r\n\t\t\t\tthis.dropdownSpace,\r\n\t\t\t\tthis.viewport,\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tthis.dropdown.classList.remove('bottom-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.bottom)\r\n\t\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.bottom);\r\n\t\t\tthis.dropdown.style.marginBottom = '';\r\n\t\t\tthis.dropdown.classList.add('top-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.top)\r\n\t\t\t\tthis.dropdown.classList.add(this.dropdownDirectionClasses.top);\r\n\t\t\tthis.dropdown.style.marginTop = `${this.dropdownSpace}px`;\r\n\t\t} else {\r\n\t\t\tthis.dropdown.classList.remove('top-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.top)\r\n\t\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.top);\r\n\t\t\tthis.dropdown.style.marginTop = '';\r\n\t\t\tthis.dropdown.classList.add('bottom-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.bottom)\r\n\t\t\t\tthis.dropdown.classList.add(this.dropdownDirectionClasses.bottom);\r\n\t\t\tthis.dropdown.style.marginBottom = `${this.dropdownSpace}px`;\r\n\t\t}\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSSelect | HTMLElement | string): ICollectionItem<HSSelect> | null {\r\n\t\treturn window.$hsSelectCollection.find((el) => {\r\n\t\t\tif (target instanceof HSSelect) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsSelectCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsSelectCollection) {\r\n\t\t\twindow.$hsSelectCollection = [];\r\n\r\n\t\t\twindow.addEventListener('click', (evt) => {\r\n\t\t\t\tconst evtTarget = evt.target;\r\n\r\n\t\t\t\tHSSelect.closeCurrentlyOpened(evtTarget as HTMLElement);\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSSelect.accessibility(evt),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (window.$hsSelectCollection)\r\n\t\t\twindow.$hsSelectCollection = window.$hsSelectCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-select]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsSelectCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-select');\r\n\t\t\t\t\tconst options: ISelectOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSSelect(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic open(target: HSSelect | HTMLElement | string) {\r\n\t\tconst instance = HSSelect.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\t!instance.element.isOpened\r\n\t\t) instance.element.open();\r\n\t}\r\n\r\n\tstatic close(target: HSSelect | HTMLElement | string) {\r\n\t\tconst instance = HSSelect.findInCollection(target);\r\n\r\n\t\tif (\r\n\t\t\tinstance &&\r\n\t\t\tinstance.element.isOpened\r\n\t\t) instance.element.close();\r\n\t}\r\n\r\n\tstatic closeCurrentlyOpened(evtTarget: HTMLElement | null = null) {\r\n\t\tif (\r\n\t\t\t!evtTarget.closest('.hs-select.active') &&\r\n\t\t\t!evtTarget.closest('[data-hs-select-dropdown].opened')\r\n\t\t) {\r\n\t\t\tconst currentlyOpened = window.$hsSelectCollection.filter((el) => el.element.isOpened) || null;\r\n\r\n\t\t\tif (currentlyOpened) currentlyOpened.forEach((el) => {\r\n\t\t\t\tel.element.close();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\tSELECT_ACCESSIBILITY_KEY_SET.includes(evt.code) &&\r\n\t\t\t!evt.metaKey\r\n\t\t) {\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase 'Escape':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEscape();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Tab':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onTab(evt.shiftKey);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopImmediatePropagation();\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Space':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape() {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) target.element.close();\r\n\t}\r\n\r\n\tstatic onArrow(isArrowUp = true) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst dropdown = target.element.dropdown;\r\n\r\n\t\t\tif (!dropdown) return false;\r\n\r\n\t\t\tconst preparedOptions = isArrowUp\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\tdropdown.querySelectorAll(':scope > *:not(.hidden)'),\r\n\t\t\t\t).reverse()\r\n\t\t\t\t: Array.from(dropdown.querySelectorAll(':scope > *:not(.hidden)'));\r\n\t\t\tconst options = preparedOptions.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current =\r\n\t\t\t\tdropdown.querySelector('.hs-select-option-highlighted') ||\r\n\t\t\t\tdropdown.querySelector('.selected');\r\n\t\t\tif (!current) options[0].classList.add('hs-select-option-highlighted');\r\n\t\t\tlet currentInd = options.findIndex((el: any) => el === current);\r\n\r\n\t\t\tif (currentInd + 1 < options.length) {\r\n\t\t\t\tcurrentInd++;\r\n\t\t\t}\r\n\r\n\t\t\t(options[currentInd] as HTMLButtonElement).focus();\r\n\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\toptions[currentInd].classList.add('hs-select-option-highlighted');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onTab(isArrowUp = true) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst dropdown = target.element.dropdown;\r\n\r\n\t\t\tif (!dropdown) return false;\r\n\r\n\t\t\tconst preparedOptions = isArrowUp\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\tdropdown.querySelectorAll(':scope >  *:not(.hidden)'),\r\n\t\t\t\t).reverse()\r\n\t\t\t\t: Array.from(dropdown.querySelectorAll(':scope >  *:not(.hidden)'));\r\n\t\t\tconst options = preparedOptions.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current =\r\n\t\t\t\tdropdown.querySelector('.hs-select-option-highlighted') ||\r\n\t\t\t\tdropdown.querySelector('.selected');\r\n\t\t\tif (!current) options[0].classList.add('hs-select-option-highlighted');\r\n\t\t\tlet currentInd = options.findIndex((el: any) => el === current);\r\n\r\n\t\t\tif (currentInd + 1 < options.length) {\r\n\t\t\t\tcurrentInd++;\r\n\t\t\t} else {\r\n\t\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\t\ttarget.element.close();\r\n\t\t\t\ttarget.element.toggle.focus();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t(options[currentInd] as HTMLButtonElement).focus();\r\n\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\toptions[currentInd].classList.add('hs-select-option-highlighted');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isStart = true) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst dropdown = target.element.dropdown;\r\n\r\n\t\t\tif (!dropdown) return false;\r\n\r\n\t\t\tconst preparedOptions = isStart\r\n\t\t\t\t? Array.from(dropdown.querySelectorAll(':scope >  *:not(.hidden)'))\r\n\t\t\t\t: Array.from(\r\n\t\t\t\t\tdropdown.querySelectorAll(':scope >  *:not(.hidden)'),\r\n\t\t\t\t).reverse();\r\n\t\t\tconst options = preparedOptions.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current = dropdown.querySelector('.hs-select-option-highlighted');\r\n\r\n\t\t\tif (options.length) {\r\n\t\t\t\t(options[0] as HTMLButtonElement).focus();\r\n\t\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\t\toptions[0].classList.add('hs-select-option-highlighted');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEnter(evt: Event) {\r\n\t\tconst select = (evt.target as HTMLElement).previousSibling;\r\n\r\n\t\tif (window.$hsSelectCollection.find((el) => el.element.el === select)) {\r\n\t\t\tconst opened = window.$hsSelectCollection.find(\r\n\t\t\t\t(el) => el.element.isOpened,\r\n\t\t\t);\r\n\t\t\tconst target = window.$hsSelectCollection.find(\r\n\t\t\t\t(el) => el.element.el === select,\r\n\t\t\t);\r\n\r\n\t\t\topened.element.close();\r\n\t\t\ttarget.element.open();\r\n\t\t} else {\r\n\t\t\tconst target = window.$hsSelectCollection.find(\r\n\t\t\t\t(el) => el.element.isOpened,\r\n\t\t\t);\r\n\r\n\t\t\tif (target)\r\n\t\t\t\ttarget.element.onSelectOption(\r\n\t\t\t\t\t(evt.target as HTMLElement).dataset.value || '',\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSSelect: Function;\r\n\t\t$hsSelectCollection: ICollectionItem<HSSelect>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSSelect.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Select collection:', window.$hsSelectCollection);\r\n});\r\n\r\ndocument.addEventListener('scroll', () => {\r\n\tif (!window.$hsSelectCollection) return false;\r\n\r\n\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\tif (target) target.element.recalculateDirection();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSSelect = HSSelect;\r\n}\r\n\r\nexport default HSSelect;\r\n", "/*\r\n * HSStepper\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { IStepperOptions, IStepper, IStepperItem } from '../stepper/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSStepper extends HSBasePlugin<{}> implements IStepper {\r\n\tprivate currentIndex: number | null;\r\n\tprivate readonly mode: string | null;\r\n\tprivate isCompleted: boolean | null;\r\n\r\n\tprivate totalSteps: number | null;\r\n\r\n\tprivate navItems: IStepperItem[] | null;\r\n\tprivate contentItems: IStepperItem[] | null;\r\n\tprivate backBtn: HTMLElement | null;\r\n\tprivate nextBtn: HTMLElement | null;\r\n\tprivate skipBtn: HTMLElement | null;\r\n\tprivate completeStepBtn: HTMLElement | null;\r\n\tprivate completeStepBtnDefaultText: string | null;\r\n\tprivate finishBtn: HTMLElement | null;\r\n\tprivate resetBtn: HTMLElement | null;\r\n\r\n\tprivate onNavItemClickListener:\r\n\t\t| {\r\n\t\t\t\tel: HTMLElement;\r\n\t\t\t\tfn: () => void;\r\n\t\t  }[]\r\n\t\t| null;\r\n\tprivate onBackClickListener: () => void;\r\n\tprivate onNextClickListener: () => void;\r\n\tprivate onSkipClickListener: () => void;\r\n\tprivate onCompleteStepBtnClickListener: () => void;\r\n\tprivate onFinishBtnClickListener: () => void;\r\n\tprivate onResetBtnClickListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IStepperOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-stepper');\r\n\t\tconst dataOptions: IStepperOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.currentIndex = concatOptions?.currentIndex || 1;\r\n\t\tthis.mode = concatOptions?.mode || 'linear';\r\n\t\tthis.isCompleted =\r\n\t\t\ttypeof concatOptions?.isCompleted !== 'undefined'\r\n\t\t\t\t? concatOptions?.isCompleted\r\n\t\t\t\t: false;\r\n\r\n\t\tthis.totalSteps = 1;\r\n\r\n\t\tthis.navItems = [];\r\n\t\tthis.contentItems = [];\r\n\r\n\t\tthis.onNavItemClickListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate navItemClick(item: IStepperItem) {\r\n\t\tthis.handleNavItemClick(item);\r\n\t}\r\n\r\n\tprivate backClick() {\r\n\t\tthis.handleBackButtonClick();\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t\t);\r\n\t\t\tconst currentContentItem = this.contentItems.find(\r\n\t\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t\t);\r\n\r\n\t\t\tif (!currentNavItem || !currentContentItem) return;\r\n\r\n\t\t\tif (currentNavItem.isCompleted) {\r\n\t\t\t\tcurrentNavItem.isCompleted = false;\r\n\t\t\t\tcurrentNavItem.isSkip = false;\r\n\r\n\t\t\t\tcurrentNavItem.el.classList.remove('success', 'skipped');\r\n\t\t\t}\r\n\r\n\t\t\tif (currentContentItem.isCompleted) {\r\n\t\t\t\tcurrentContentItem.isCompleted = false;\r\n\t\t\t\tcurrentContentItem.isSkip = false;\r\n\r\n\t\t\t\tcurrentContentItem.el.classList.remove('success', 'skipped');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.mode === 'linear' && this.currentIndex !== this.totalSteps) {\r\n\t\t\t\tif (this.nextBtn) this.nextBtn.style.display = '';\r\n\t\t\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = '';\r\n\t\t\t}\r\n\r\n\t\t\tthis.showSkipButton();\r\n\t\t\tthis.showFinishButton();\r\n\t\t\tthis.showCompleteStepButton();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate nextClick() {\r\n\t\tthis.fireEvent('beforeNext', this.currentIndex);\r\n\t\tdispatch('beforeNext.hs.stepper', this.el, this.currentIndex);\r\n\r\n\t\tif (this.getNavItem(this.currentIndex)?.isProcessed) {\r\n\t\t\tthis.disableAll();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.goToNext();\r\n\t}\r\n\r\n\tprivate skipClick() {\r\n\t\tthis.handleSkipButtonClick();\r\n\r\n\t\tif (this.mode === 'linear' && this.currentIndex === this.totalSteps) {\r\n\t\t\tif (this.nextBtn) this.nextBtn.style.display = 'none';\r\n\t\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = 'none';\r\n\t\t\tif (this.finishBtn) this.finishBtn.style.display = '';\r\n\t\t}\r\n\t}\r\n\r\n\tprivate completeStepBtnClick() {\r\n\t\tthis.handleCompleteStepButtonClick();\r\n\t}\r\n\r\n\tprivate finishBtnClick() {\r\n\t\tthis.handleFinishButtonClick();\r\n\t}\r\n\r\n\tprivate resetBtnClick() {\r\n\t\tthis.handleResetButtonClick();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsStepperCollection, this);\r\n\r\n\t\tthis.buildNav();\r\n\t\tthis.buildContent();\r\n\t\tthis.buildButtons();\r\n\t\tthis.setTotalSteps();\r\n\t}\r\n\r\n\tprivate getUncompletedSteps(inIncludedSkipped: boolean = false) {\r\n\t\treturn this.navItems.filter(({ isCompleted, isSkip }) =>\r\n\t\t\tinIncludedSkipped ? !isCompleted || isSkip : !isCompleted && !isSkip,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setTotalSteps() {\r\n\t\tthis.navItems.forEach((item) => {\r\n\t\t\tconst { index } = item;\r\n\r\n\t\t\tif (index > this.totalSteps) this.totalSteps = index;\r\n\t\t});\r\n\t}\r\n\r\n\t// Nav\r\n\tprivate buildNav() {\r\n\t\tthis.el\r\n\t\t\t.querySelectorAll('[data-hs-stepper-nav-item]')\r\n\t\t\t.forEach((el) => this.addNavItem(el as HTMLElement));\r\n\r\n\t\tthis.navItems.forEach((item) => this.buildNavItem(item));\r\n\t}\r\n\r\n\tprivate buildNavItem(item: IStepperItem) {\r\n\t\tconst { index, isDisabled, el } = item;\r\n\r\n\t\tif (index === this.currentIndex) this.setCurrentNavItem();\r\n\r\n\t\tif (this.mode !== 'linear' || isDisabled) {\r\n\t\t\tthis.onNavItemClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.navItemClick(item),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onNavItemClickListener.find((navItem) => navItem.el === el).fn,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addNavItem(el: HTMLElement) {\r\n\t\tconst {\r\n\t\t\tindex,\r\n\t\t\tisFinal = false,\r\n\t\t\tisCompleted = false,\r\n\t\t\tisSkip = false,\r\n\t\t\tisOptional = false,\r\n\t\t\tisDisabled = false,\r\n\t\t\tisProcessed = false,\r\n\t\t\thasError = false,\r\n\t\t} = JSON.parse(el.getAttribute('data-hs-stepper-nav-item'));\r\n\r\n\t\tif (isCompleted) el.classList.add('success');\r\n\t\tif (isSkip) el.classList.add('skipped');\r\n\t\tif (isDisabled) {\r\n\t\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\t\tel.setAttribute('disabled', 'disabled');\r\n\r\n\t\t\tel.classList.add('disabled');\r\n\t\t}\r\n\t\tif (hasError) el.classList.add('error');\r\n\r\n\t\tthis.navItems.push({\r\n\t\t\tindex,\r\n\t\t\tisFinal,\r\n\t\t\tisCompleted,\r\n\t\t\tisSkip,\r\n\t\t\tisOptional,\r\n\t\t\tisDisabled,\r\n\t\t\tisProcessed,\r\n\t\t\thasError,\r\n\t\t\tel: el as HTMLElement,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentNavItem() {\r\n\t\tthis.navItems.forEach((item) => {\r\n\t\t\tconst { index, el } = item;\r\n\r\n\t\t\tif (index === this.currentIndex) this.setCurrentNavItemActions(el);\r\n\t\t\telse this.unsetCurrentNavItemActions(el);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentNavItemActions(el: HTMLElement) {\r\n\t\tel.classList.add('active');\r\n\r\n\t\tthis.fireEvent('active', this.currentIndex);\r\n\t\tdispatch('active.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\tprivate getNavItem(n = this.currentIndex) {\r\n\t\treturn this.navItems.find(({ index }) => index === n);\r\n\t}\r\n\r\n\tprivate setProcessedNavItemActions(item: IStepperItem) {\r\n\t\titem.isProcessed = true;\r\n\r\n\t\titem.el.classList.add('processed');\r\n\t}\r\n\r\n\tprivate setErrorNavItemActions(item: IStepperItem) {\r\n\t\titem.hasError = true;\r\n\r\n\t\titem.el.classList.add('error');\r\n\t}\r\n\r\n\tprivate unsetCurrentNavItemActions(el: HTMLElement) {\r\n\t\tel.classList.remove('active');\r\n\t}\r\n\r\n\tprivate handleNavItemClick(item: IStepperItem) {\r\n\t\tconst { index } = item;\r\n\r\n\t\tthis.currentIndex = index;\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\t}\r\n\r\n\t// Content\r\n\tprivate buildContent() {\r\n\t\tthis.el\r\n\t\t\t.querySelectorAll('[data-hs-stepper-content-item]')\r\n\t\t\t.forEach((el) => this.addContentItem(el as HTMLElement));\r\n\r\n\t\tthis.navItems.forEach((item) => this.buildContentItem(item));\r\n\t}\r\n\r\n\tprivate buildContentItem(item: IStepperItem) {\r\n\t\tconst { index } = item;\r\n\r\n\t\tif (index === this.currentIndex) this.setCurrentContentItem();\r\n\t}\r\n\r\n\tprivate addContentItem(el: HTMLElement) {\r\n\t\tconst {\r\n\t\t\tindex,\r\n\t\t\tisFinal = false,\r\n\t\t\tisCompleted = false,\r\n\t\t\tisSkip = false,\r\n\t\t} = JSON.parse(el.getAttribute('data-hs-stepper-content-item'));\r\n\r\n\t\tif (isCompleted) el.classList.add('success');\r\n\t\tif (isSkip) el.classList.add('skipped');\r\n\r\n\t\tthis.contentItems.push({\r\n\t\t\tindex,\r\n\t\t\tisFinal,\r\n\t\t\tisCompleted,\r\n\t\t\tisSkip,\r\n\t\t\tel: el as HTMLElement,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentContentItem() {\r\n\t\tif (this.isCompleted) {\r\n\t\t\tconst finalContentItem = this.contentItems.find(({ isFinal }) => isFinal);\r\n\t\t\tconst otherContentItems = this.contentItems.filter(\r\n\t\t\t\t({ isFinal }) => !isFinal,\r\n\t\t\t);\r\n\t\t\tfinalContentItem.el.style.display = '';\r\n\t\t\totherContentItems.forEach(({ el }) => (el.style.display = 'none'));\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.contentItems.forEach((item) => {\r\n\t\t\tconst { index, el } = item;\r\n\r\n\t\t\tif (index === this.currentIndex) this.setCurrentContentItemActions(el);\r\n\t\t\telse this.unsetCurrentContentItemActions(el);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate hideAllContentItems() {\r\n\t\tthis.contentItems.forEach(({ el }) => (el.style.display = 'none'));\r\n\t}\r\n\r\n\tprivate setCurrentContentItemActions(el: HTMLElement) {\r\n\t\tel.style.display = '';\r\n\t}\r\n\r\n\tprivate unsetCurrentContentItemActions(el: HTMLElement) {\r\n\t\tel.style.display = 'none';\r\n\t}\r\n\r\n\tprivate disableAll() {\r\n\t\tconst currentNavItem = this.getNavItem(this.currentIndex);\r\n\t\tcurrentNavItem.hasError = false;\r\n\t\tcurrentNavItem.isCompleted = false;\r\n\t\tcurrentNavItem.isDisabled = false;\r\n\t\tcurrentNavItem.el.classList.remove('error', 'success');\r\n\r\n\t\tthis.disableButtons();\r\n\t}\r\n\r\n\tprivate disableNavItemActions(item: IStepperItem) {\r\n\t\titem.isDisabled = true;\r\n\t\titem.el.classList.add('disabled');\r\n\t}\r\n\r\n\tprivate enableNavItemActions(item: IStepperItem) {\r\n\t\titem.isDisabled = false;\r\n\t\titem.el.classList.remove('disabled');\r\n\t}\r\n\r\n\t// Buttons\r\n\tprivate buildButtons() {\r\n\t\tthis.backBtn = this.el.querySelector('[data-hs-stepper-back-btn]');\r\n\t\tthis.nextBtn = this.el.querySelector('[data-hs-stepper-next-btn]');\r\n\t\tthis.skipBtn = this.el.querySelector('[data-hs-stepper-skip-btn]');\r\n\t\tthis.completeStepBtn = this.el.querySelector(\r\n\t\t\t'[data-hs-stepper-complete-step-btn]',\r\n\t\t);\r\n\t\tthis.finishBtn = this.el.querySelector('[data-hs-stepper-finish-btn]');\r\n\t\tthis.resetBtn = this.el.querySelector('[data-hs-stepper-reset-btn]');\r\n\r\n\t\tthis.buildBackButton();\r\n\t\tthis.buildNextButton();\r\n\t\tthis.buildSkipButton();\r\n\t\tthis.buildCompleteStepButton();\r\n\t\tthis.buildFinishButton();\r\n\t\tthis.buildResetButton();\r\n\t}\r\n\r\n\t// back\r\n\tprivate buildBackButton() {\r\n\t\tif (!this.backBtn) return;\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\r\n\t\tthis.onBackClickListener = () => this.backClick();\r\n\r\n\t\tthis.backBtn.addEventListener('click', this.onBackClickListener);\r\n\t}\r\n\r\n\tprivate handleBackButtonClick() {\r\n\t\tif (this.currentIndex === 1) return;\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tthis.removeOptionalClasses();\r\n\t\t}\r\n\r\n\t\tthis.currentIndex--;\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tthis.removeOptionalClasses();\r\n\t\t}\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.changeTextAndDisableCompleteButtonIfStepCompleted();\r\n\r\n\t\tthis.fireEvent('back', this.currentIndex);\r\n\t\tdispatch('back.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\tprivate checkForTheFirstStep() {\r\n\t\tif (this.currentIndex === 1) {\r\n\t\t\tthis.setToDisabled(this.backBtn);\r\n\t\t} else {\r\n\t\t\tthis.setToNonDisabled(this.backBtn);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setToDisabled(el: HTMLElement) {\r\n\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\tel.setAttribute('disabled', 'disabled');\r\n\r\n\t\tel.classList.add('disabled');\r\n\t}\r\n\r\n\tprivate setToNonDisabled(el: HTMLElement) {\r\n\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\tel.removeAttribute('disabled');\r\n\r\n\t\tel.classList.remove('disabled');\r\n\t}\r\n\r\n\t// next\r\n\tprivate buildNextButton() {\r\n\t\tif (!this.nextBtn) return;\r\n\r\n\t\tthis.onNextClickListener = () => this.nextClick();\r\n\r\n\t\tthis.nextBtn.addEventListener('click', this.onNextClickListener);\r\n\t}\r\n\r\n\tprivate unsetProcessedNavItemActions(item: IStepperItem) {\r\n\t\titem.isProcessed = false;\r\n\r\n\t\titem.el.classList.remove('processed');\r\n\t}\r\n\r\n\tprivate handleNextButtonClick(infinite = true) {\r\n\t\tif (infinite) {\r\n\t\t\tif (this.currentIndex === this.totalSteps) this.currentIndex = 1;\r\n\t\t\telse this.currentIndex++;\r\n\t\t} else {\r\n\t\t\tconst nonCompletedSteps = this.getUncompletedSteps();\r\n\r\n\t\t\tif (nonCompletedSteps.length === 1) {\r\n\t\t\t\tconst { index } = nonCompletedSteps[0];\r\n\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.currentIndex === this.totalSteps) return;\r\n\r\n\t\t\t\tthis.currentIndex++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tthis.removeOptionalClasses();\r\n\t\t}\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.changeTextAndDisableCompleteButtonIfStepCompleted();\r\n\r\n\t\tthis.showSkipButton();\r\n\t\tthis.showFinishButton();\r\n\t\tthis.showCompleteStepButton();\r\n\r\n\t\tthis.fireEvent('next', this.currentIndex);\r\n\t\tdispatch('next.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\tprivate removeOptionalClasses() {\r\n\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\t\tconst currentContentItem = this.contentItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\r\n\t\tcurrentNavItem.isSkip = false;\r\n\t\tcurrentNavItem.hasError = false;\r\n\t\tcurrentNavItem.isDisabled = false;\r\n\t\tcurrentContentItem.isSkip = false;\r\n\r\n\t\tcurrentNavItem.el.classList.remove('skipped', 'success', 'error');\r\n\t\tcurrentContentItem.el.classList.remove('skipped', 'success', 'error');\r\n\t}\r\n\r\n\t// skip\r\n\tprivate buildSkipButton() {\r\n\t\tif (!this.skipBtn) return;\r\n\r\n\t\tthis.showSkipButton();\r\n\r\n\t\tthis.onSkipClickListener = () => this.skipClick();\r\n\r\n\t\tthis.skipBtn.addEventListener('click', this.onSkipClickListener);\r\n\t}\r\n\r\n\tprivate setSkipItem(n?: number) {\r\n\t\tconst targetNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\t\tconst targetContentItem = this.contentItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\r\n\t\tif (!targetNavItem || !targetContentItem) return;\r\n\r\n\t\tthis.setSkipItemActions(targetNavItem);\r\n\t\tthis.setSkipItemActions(targetContentItem);\r\n\t}\r\n\r\n\tprivate setSkipItemActions(item: IStepperItem) {\r\n\t\titem.isSkip = true;\r\n\r\n\t\titem.el.classList.add('skipped');\r\n\t}\r\n\r\n\tprivate showSkipButton() {\r\n\t\tif (!this.skipBtn) return;\r\n\r\n\t\tconst { isOptional } = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\r\n\t\tif (isOptional) this.skipBtn.style.display = '';\r\n\t\telse this.skipBtn.style.display = 'none';\r\n\t}\r\n\r\n\tprivate handleSkipButtonClick() {\r\n\t\tthis.setSkipItem();\r\n\t\tthis.handleNextButtonClick();\r\n\r\n\t\tthis.fireEvent('skip', this.currentIndex);\r\n\t\tdispatch('skip.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\t// complete\r\n\tprivate buildCompleteStepButton() {\r\n\t\tif (!this.completeStepBtn) return;\r\n\r\n\t\tthis.completeStepBtnDefaultText = this.completeStepBtn.innerText;\r\n\r\n\t\tthis.onCompleteStepBtnClickListener = () => this.completeStepBtnClick();\r\n\r\n\t\tthis.completeStepBtn.addEventListener(\r\n\t\t\t'click',\r\n\t\t\tthis.onCompleteStepBtnClickListener,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate changeTextAndDisableCompleteButtonIfStepCompleted() {\r\n\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\t\tconst { completedText } = JSON.parse(\r\n\t\t\tthis.completeStepBtn.getAttribute('data-hs-stepper-complete-step-btn'),\r\n\t\t);\r\n\r\n\t\tif (!currentNavItem) return;\r\n\r\n\t\tif (currentNavItem.isCompleted) {\r\n\t\t\tthis.completeStepBtn.innerText =\r\n\t\t\t\tcompletedText || this.completeStepBtnDefaultText;\r\n\t\t\tthis.completeStepBtn.setAttribute('disabled', 'disabled');\r\n\t\t\tthis.completeStepBtn.classList.add('disabled');\r\n\t\t} else {\r\n\t\t\tthis.completeStepBtn.innerText = this.completeStepBtnDefaultText;\r\n\t\t\tthis.completeStepBtn.removeAttribute('disabled');\r\n\t\t\tthis.completeStepBtn.classList.remove('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setCompleteItem(n?: number) {\r\n\t\tconst targetNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\t\tconst targetContentItem = this.contentItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\r\n\t\tif (!targetNavItem || !targetContentItem) return;\r\n\r\n\t\tthis.setCompleteItemActions(targetNavItem);\r\n\t\tthis.setCompleteItemActions(targetContentItem);\r\n\t}\r\n\r\n\tprivate setCompleteItemActions(item: IStepperItem) {\r\n\t\titem.isCompleted = true;\r\n\r\n\t\titem.el.classList.add('success');\r\n\t}\r\n\r\n\tprivate showCompleteStepButton() {\r\n\t\tif (!this.completeStepBtn) return;\r\n\r\n\t\tconst nonCompletedSteps = this.getUncompletedSteps();\r\n\r\n\t\tif (nonCompletedSteps.length === 1)\r\n\t\t\tthis.completeStepBtn.style.display = 'none';\r\n\t\telse this.completeStepBtn.style.display = '';\r\n\t}\r\n\r\n\tprivate handleCompleteStepButtonClick() {\r\n\t\tthis.setCompleteItem();\r\n\r\n\t\tthis.fireEvent('complete', this.currentIndex);\r\n\t\tdispatch('complete.hs.stepper', this.el, this.currentIndex);\r\n\r\n\t\tthis.handleNextButtonClick(false);\r\n\t\tthis.showFinishButton();\r\n\t\tthis.showCompleteStepButton();\r\n\t\tthis.checkForTheFirstStep();\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.changeTextAndDisableCompleteButtonIfStepCompleted();\r\n\t\tthis.showSkipButton();\r\n\t}\r\n\r\n\t// finish\r\n\tprivate buildFinishButton() {\r\n\t\tif (!this.finishBtn) return;\r\n\r\n\t\tif (this.isCompleted) {\r\n\t\t\tthis.setCompleted();\r\n\t\t}\r\n\r\n\t\tthis.onFinishBtnClickListener = () => this.finishBtnClick();\r\n\r\n\t\tthis.finishBtn.addEventListener('click', this.onFinishBtnClickListener);\r\n\t}\r\n\r\n\tprivate setCompleted() {\r\n\t\tthis.el.classList.add('completed');\r\n\t}\r\n\r\n\tprivate unsetCompleted() {\r\n\t\tthis.el.classList.remove('completed');\r\n\t}\r\n\r\n\tprivate showFinishButton() {\r\n\t\tif (!this.finishBtn) return;\r\n\r\n\t\tconst nonCompletedSteps = this.getUncompletedSteps();\r\n\r\n\t\tif (nonCompletedSteps.length === 1) this.finishBtn.style.display = '';\r\n\t\telse this.finishBtn.style.display = 'none';\r\n\t}\r\n\r\n\tprivate handleFinishButtonClick() {\r\n\t\tconst uncompletedSteps = this.getUncompletedSteps();\r\n\t\tconst uncompletedOrSkipSteps = this.getUncompletedSteps(true);\r\n\t\tconst { el } = this.contentItems.find(({ isFinal }) => isFinal);\r\n\r\n\t\tif (uncompletedSteps.length)\r\n\t\t\tuncompletedSteps.forEach(({ index }) => this.setCompleteItem(index));\r\n\r\n\t\tthis.currentIndex = this.totalSteps;\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.hideAllContentItems();\r\n\r\n\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\t\tconst currentNavItemEl = currentNavItem ? currentNavItem.el : null;\r\n\r\n\t\tcurrentNavItemEl.classList.remove('active');\r\n\r\n\t\tel.style.display = 'block';\r\n\t\tif (this.backBtn) this.backBtn.style.display = 'none';\r\n\t\tif (this.nextBtn) this.nextBtn.style.display = 'none';\r\n\t\tif (this.skipBtn) this.skipBtn.style.display = 'none';\r\n\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = 'none';\r\n\t\tif (this.finishBtn) this.finishBtn.style.display = 'none';\r\n\t\tif (this.resetBtn) this.resetBtn.style.display = '';\r\n\r\n\t\tif (uncompletedOrSkipSteps.length <= 1) {\r\n\t\t\tthis.isCompleted = true;\r\n\t\t\tthis.setCompleted();\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('finish', this.currentIndex);\r\n\t\tdispatch('finish.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\t// reset\r\n\tprivate buildResetButton() {\r\n\t\tif (!this.resetBtn) return;\r\n\r\n\t\tthis.onResetBtnClickListener = () => this.resetBtnClick();\r\n\r\n\t\tthis.resetBtn.addEventListener('click', this.onResetBtnClickListener);\r\n\t}\r\n\r\n\tprivate handleResetButtonClick() {\r\n\t\tif (this.backBtn) this.backBtn.style.display = '';\r\n\t\tif (this.nextBtn) this.nextBtn.style.display = '';\r\n\t\tif (this.completeStepBtn) {\r\n\t\t\tthis.completeStepBtn.style.display = '';\r\n\t\t\tthis.completeStepBtn.innerText = this.completeStepBtnDefaultText;\r\n\t\t\tthis.completeStepBtn.removeAttribute('disabled');\r\n\t\t\tthis.completeStepBtn.classList.remove('disabled');\r\n\t\t}\r\n\t\tif (this.resetBtn) this.resetBtn.style.display = 'none';\r\n\r\n\t\tthis.navItems.forEach((item) => {\r\n\t\t\tconst { el } = item;\r\n\t\t\titem.isSkip = false;\r\n\t\t\titem.isCompleted = false;\r\n\r\n\t\t\tthis.unsetCurrentNavItemActions(el);\r\n\t\t\tel.classList.remove('success', 'skipped');\r\n\t\t});\r\n\r\n\t\tthis.contentItems.forEach((item) => {\r\n\t\t\tconst { el } = item;\r\n\t\t\titem.isSkip = false;\r\n\t\t\titem.isCompleted = false;\r\n\r\n\t\t\tthis.unsetCurrentContentItemActions(el);\r\n\t\t\tel.classList.remove('success', 'skipped');\r\n\t\t});\r\n\r\n\t\tthis.currentIndex = 1;\r\n\r\n\t\tthis.unsetCompleted();\r\n\t\tthis.isCompleted = false;\r\n\r\n\t\tthis.showSkipButton();\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\t\tthis.showFinishButton();\r\n\t\tthis.showCompleteStepButton();\r\n\t\tthis.checkForTheFirstStep();\r\n\r\n\t\tthis.fireEvent('reset', this.currentIndex);\r\n\t\tdispatch('reset.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic setProcessedNavItem(n?: number) {\r\n\t\tconst targetNavItem = this.getNavItem(n);\r\n\r\n\t\tif (!targetNavItem) return;\r\n\r\n\t\tthis.setProcessedNavItemActions(targetNavItem);\r\n\t}\r\n\r\n\tpublic unsetProcessedNavItem(n?: number) {\r\n\t\tconst targetNavItem = this.getNavItem(n);\r\n\r\n\t\tif (!targetNavItem) return;\r\n\r\n\t\tthis.unsetProcessedNavItemActions(targetNavItem);\r\n\t}\r\n\r\n\tpublic goToNext() {\r\n\t\tif (this.mode === 'linear') this.setCompleteItem();\r\n\r\n\t\tthis.handleNextButtonClick(this.mode !== 'linear');\r\n\r\n\t\tif (this.mode === 'linear' && this.currentIndex === this.totalSteps) {\r\n\t\t\tif (this.nextBtn) this.nextBtn.style.display = 'none';\r\n\t\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\tpublic disableButtons() {\r\n\t\tif (this.backBtn) this.setToDisabled(this.backBtn);\r\n\t\tif (this.nextBtn) this.setToDisabled(this.nextBtn);\r\n\t}\r\n\r\n\tpublic enableButtons() {\r\n\t\tif (this.backBtn) this.setToNonDisabled(this.backBtn);\r\n\t\tif (this.nextBtn) this.setToNonDisabled(this.nextBtn);\r\n\t}\r\n\r\n\tpublic setErrorNavItem(n?: number) {\r\n\t\tconst targetNavItem = this.getNavItem(n);\r\n\r\n\t\tif (!targetNavItem) return;\r\n\r\n\t\tthis.setErrorNavItemActions(targetNavItem);\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('completed');\r\n\t\tthis.el.querySelectorAll('[data-hs-stepper-nav-item]').forEach((el) => {\r\n\t\t\tel.classList.remove('active', 'success', 'skipped', 'disabled', 'error');\r\n\r\n\t\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\t\tel.removeAttribute('disabled');\r\n\t\t});\r\n\t\tthis.el.querySelectorAll('[data-hs-stepper-content-item]').forEach((el) => {\r\n\t\t\tel.classList.remove('success', 'skipped');\r\n\t\t});\r\n\t\tif (this.backBtn) this.backBtn.classList.remove('disabled');\r\n\t\tif (this.nextBtn) this.nextBtn.classList.remove('disabled');\r\n\t\tif (this.completeStepBtn) this.completeStepBtn.classList.remove('disabled');\r\n\r\n\t\t// Remove attributes\r\n\t\tif (this.backBtn) this.backBtn.style.display = '';\r\n\t\tif (this.nextBtn) this.nextBtn.style.display = '';\r\n\t\tif (this.skipBtn) this.skipBtn.style.display = '';\r\n\t\tif (this.finishBtn) this.finishBtn.style.display = 'none';\r\n\t\tif (this.resetBtn) this.resetBtn.style.display = 'none';\r\n\r\n\t\t// Remove listeners\r\n\t\tif (this.onNavItemClickListener.length)\r\n\t\t\tthis.onNavItemClickListener.forEach(({ el, fn }) => {\r\n\t\t\t\tel.removeEventListener('click', fn);\r\n\t\t\t});\r\n\t\tif (this.backBtn)\r\n\t\t\tthis.backBtn.removeEventListener('click', this.onBackClickListener);\r\n\t\tif (this.nextBtn)\r\n\t\t\tthis.nextBtn.removeEventListener('click', this.onNextClickListener);\r\n\t\tif (this.skipBtn)\r\n\t\t\tthis.skipBtn.removeEventListener('click', this.onSkipClickListener);\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.completeStepBtn.removeEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onCompleteStepBtnClickListener,\r\n\t\t\t);\r\n\t\tif (this.finishBtn)\r\n\t\t\tthis.finishBtn.removeEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\tthis.onFinishBtnClickListener,\r\n\t\t\t);\r\n\t\tif (this.resetBtn)\r\n\t\t\tthis.resetBtn.removeEventListener('click', this.onResetBtnClickListener);\r\n\r\n\t\twindow.$hsStepperCollection = window.$hsStepperCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsStepperCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsStepperCollection) window.$hsStepperCollection = [];\r\n\r\n\t\tif (window.$hsStepperCollection)\r\n\t\t\twindow.$hsStepperCollection = window.$hsStepperCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-stepper]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsStepperCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSStepper(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSStepper: Function;\r\n\t\t$hsStepperCollection: ICollectionItem<HSStepper>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSStepper.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Stepper collection:', window.$hsStepperCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSStepper = HSStepper;\r\n}\r\n\r\nexport default HSStepper;\r\n", "/*\r\n * HSStrongPassword\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport {\r\n\tisEnoughSpace,\r\n\tdispatch,\r\n\thtmlToElement,\r\n\tclassToClassList,\r\n} from '../../utils';\r\n\r\nimport {\r\n\tIStrongPasswordOptions,\r\n\tIStrongPassword,\r\n} from '../strong-password/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSStrongPassword\r\n\textends HSBasePlugin<IStrongPasswordOptions>\r\n\timplements IStrongPassword\r\n{\r\n\tprivate readonly target: string | HTMLInputElement | null;\r\n\tprivate readonly hints: string | HTMLElement | null;\r\n\tprivate readonly stripClasses: string | null;\r\n\tprivate readonly minLength: number;\r\n\tprivate readonly mode: string;\r\n\tprivate readonly popoverSpace: number;\r\n\tprivate readonly checksExclude: string[] | null;\r\n\tprivate readonly specialCharactersSet: string | null;\r\n\r\n\tpublic isOpened: boolean = false;\r\n\tprivate strength: number = 0;\r\n\tprivate passedRules: Set<string> = new Set<string>();\r\n\tprivate weakness: HTMLElement | null;\r\n\tprivate rules: HTMLElement[] | null;\r\n\tprivate availableChecks: string[] | null;\r\n\r\n\tprivate onTargetInputListener: (evt: InputEvent) => void;\r\n\tprivate onTargetFocusListener: () => void;\r\n\tprivate onTargetBlurListener: () => void;\r\n\tprivate onTargetInputSecondListener: () => void;\r\n\tprivate onTargetInputThirdListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IStrongPasswordOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-strong-password');\r\n\t\tconst dataOptions: IStrongPasswordOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.target = concatOptions?.target\r\n\t\t\t? typeof concatOptions?.target === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions.target) as HTMLInputElement)\r\n\t\t\t\t: concatOptions.target\r\n\t\t\t: null;\r\n\t\tthis.hints = concatOptions?.hints\r\n\t\t\t? typeof concatOptions?.hints === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions.hints) as HTMLElement)\r\n\t\t\t\t: concatOptions.hints\r\n\t\t\t: null;\r\n\t\tthis.stripClasses = concatOptions?.stripClasses || null;\r\n\t\tthis.minLength = concatOptions?.minLength || 6;\r\n\t\tthis.mode = concatOptions?.mode || 'default';\r\n\t\tthis.popoverSpace = concatOptions?.popoverSpace || 10;\r\n\t\tthis.checksExclude = concatOptions?.checksExclude || [];\r\n\t\tthis.availableChecks = [\r\n\t\t\t'lowercase',\r\n\t\t\t'uppercase',\r\n\t\t\t'numbers',\r\n\t\t\t'special-characters',\r\n\t\t\t'min-length',\r\n\t\t].filter((el) => !this.checksExclude.includes(el));\r\n\t\tthis.specialCharactersSet =\r\n\t\t\tconcatOptions?.specialCharactersSet ||\r\n\t\t\t'!\"#$%&\\'()*+,-./:;<=>?@[\\\\\\\\\\\\]^_`{|}~';\r\n\r\n\t\tif (this.target) this.init();\r\n\t}\r\n\r\n\tprivate targetInput(evt: InputEvent) {\r\n\t\tthis.setStrength((evt.target as HTMLInputElement).value);\r\n\t}\r\n\r\n\tprivate targetFocus() {\r\n\t\tthis.isOpened = true;\r\n\t\t(this.hints as HTMLElement).classList.remove('hidden');\r\n\t\t(this.hints as HTMLElement).classList.add('block');\r\n\r\n\t\tthis.recalculateDirection();\r\n\t}\r\n\r\n\tprivate targetBlur() {\r\n\t\tthis.isOpened = false;\r\n\t\t(this.hints as HTMLElement).classList.remove(\r\n\t\t\t'block',\r\n\t\t\t'bottom-full',\r\n\t\t\t'top-full',\r\n\t\t);\r\n\t\t(this.hints as HTMLElement).classList.add('hidden');\r\n\t\t(this.hints as HTMLElement).style.marginTop = '';\r\n\t\t(this.hints as HTMLElement).style.marginBottom = '';\r\n\t}\r\n\r\n\tprivate targetInputSecond() {\r\n\t\tthis.setWeaknessText();\r\n\t}\r\n\r\n\tprivate targetInputThird() {\r\n\t\tthis.setRulesText();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsStrongPasswordCollection, this);\r\n\r\n\t\tif (this.availableChecks.length) this.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.buildStrips();\r\n\t\tif (this.hints) this.buildHints();\r\n\r\n\t\tthis.setStrength((this.target as HTMLInputElement).value);\r\n\r\n\t\tthis.onTargetInputListener = (evt) => this.targetInput(evt);\r\n\r\n\t\t(this.target as HTMLInputElement).addEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTargetInputListener,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildStrips() {\r\n\t\tthis.el.innerHTML = '';\r\n\r\n\t\tif (this.stripClasses) {\r\n\t\t\tfor (let i = 0; i < this.availableChecks.length; i++) {\r\n\t\t\t\tconst newStrip = htmlToElement('<div></div>');\r\n\t\t\t\tclassToClassList(this.stripClasses, newStrip);\r\n\r\n\t\t\t\tthis.el.append(newStrip);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildHints() {\r\n\t\tthis.weakness =\r\n\t\t\t(this.hints as HTMLElement).querySelector(\r\n\t\t\t\t'[data-hs-strong-password-hints-weakness-text]',\r\n\t\t\t) || null;\r\n\t\tthis.rules =\r\n\t\t\tArray.from(\r\n\t\t\t\t(this.hints as HTMLElement).querySelectorAll(\r\n\t\t\t\t\t'[data-hs-strong-password-hints-rule-text]',\r\n\t\t\t\t),\r\n\t\t\t) || null;\r\n\r\n\t\tthis.rules.forEach((rule) => {\r\n\t\t\tconst ruleValue = rule.getAttribute(\r\n\t\t\t\t'data-hs-strong-password-hints-rule-text',\r\n\t\t\t);\r\n\r\n\t\t\tif (this.checksExclude?.includes(ruleValue)) rule.remove();\r\n\t\t});\r\n\r\n\t\tif (this.weakness) this.buildWeakness();\r\n\t\tif (this.rules) this.buildRules();\r\n\t\tif (this.mode === 'popover') {\r\n\t\t\tthis.onTargetFocusListener = () => this.targetFocus();\r\n\t\t\tthis.onTargetBlurListener = () => this.targetBlur();\r\n\r\n\t\t\t(this.target as HTMLInputElement).addEventListener(\r\n\t\t\t\t'focus',\r\n\t\t\t\tthis.onTargetFocusListener,\r\n\t\t\t);\r\n\t\t\t(this.target as HTMLInputElement).addEventListener(\r\n\t\t\t\t'blur',\r\n\t\t\t\tthis.onTargetBlurListener,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildWeakness() {\r\n\t\tthis.checkStrength((this.target as HTMLInputElement).value);\r\n\t\tthis.setWeaknessText();\r\n\r\n\t\tthis.onTargetInputSecondListener = () =>\r\n\t\t\tsetTimeout(() => this.targetInputSecond());\r\n\r\n\t\t(this.target as HTMLInputElement).addEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTargetInputSecondListener,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildRules() {\r\n\t\tthis.setRulesText();\r\n\r\n\t\tthis.onTargetInputThirdListener = () =>\r\n\t\t\tsetTimeout(() => this.targetInputThird());\r\n\r\n\t\t(this.target as HTMLInputElement).addEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTargetInputThirdListener,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setWeaknessText() {\r\n\t\tconst weaknessText = this.weakness.getAttribute(\r\n\t\t\t'data-hs-strong-password-hints-weakness-text',\r\n\t\t);\r\n\t\tconst weaknessTextToJson = JSON.parse(weaknessText as string);\r\n\r\n\t\tthis.weakness.textContent = weaknessTextToJson[this.strength];\r\n\t}\r\n\r\n\tprivate setRulesText() {\r\n\t\tthis.rules.forEach((rule) => {\r\n\t\t\tconst ruleValue = rule.getAttribute(\r\n\t\t\t\t'data-hs-strong-password-hints-rule-text',\r\n\t\t\t);\r\n\r\n\t\t\tthis.checkIfPassed(rule, this.passedRules.has(ruleValue));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate togglePopover() {\r\n\t\tconst popover = this.el.querySelector('.popover');\r\n\r\n\t\tif (popover) popover.classList.toggle('show');\r\n\t}\r\n\r\n\tprivate checkStrength(val: string): { strength: number; rules: Set<string> } {\r\n\t\tconst passedRules = new Set<string>();\r\n\t\tconst regexps = {\r\n\t\t\tlowercase: /[a-z]+/,\r\n\t\t\tuppercase: /[A-Z]+/,\r\n\t\t\tnumbers: /[0-9]+/,\r\n\t\t\t'special-characters': new RegExp(`[${this.specialCharactersSet}]`),\r\n\t\t};\r\n\t\tlet strength = 0;\r\n\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('lowercase') &&\r\n\t\t\tval.match(regexps['lowercase'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('lowercase');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('uppercase') &&\r\n\t\t\tval.match(regexps['uppercase'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('uppercase');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('numbers') &&\r\n\t\t\tval.match(regexps['numbers'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('numbers');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('special-characters') &&\r\n\t\t\tval.match(regexps['special-characters'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('special-characters');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('min-length') &&\r\n\t\t\tval.length >= this.minLength\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('min-length');\r\n\t\t}\r\n\t\tif (!val.length) {\r\n\t\t\tstrength = 0;\r\n\t\t}\r\n\r\n\t\tif (strength === this.availableChecks.length)\r\n\t\t\tthis.el.classList.add('accepted');\r\n\t\telse this.el.classList.remove('accepted');\r\n\r\n\t\tthis.strength = strength;\r\n\t\tthis.passedRules = passedRules;\r\n\r\n\t\treturn {\r\n\t\t\tstrength: this.strength,\r\n\t\t\trules: this.passedRules,\r\n\t\t};\r\n\t}\r\n\r\n\tprivate checkIfPassed(el: HTMLElement, isRulePassed = false) {\r\n\t\tconst check = el.querySelector('[data-check]');\r\n\t\tconst uncheck = el.querySelector('[data-uncheck]');\r\n\r\n\t\tif (isRulePassed) {\r\n\t\t\tel.classList.add('active');\r\n\t\t\tcheck.classList.remove('hidden');\r\n\t\t\tuncheck.classList.add('hidden');\r\n\t\t} else {\r\n\t\t\tel.classList.remove('active');\r\n\t\t\tcheck.classList.add('hidden');\r\n\t\t\tuncheck.classList.remove('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setStrength(val: string) {\r\n\t\tconst { strength, rules } = this.checkStrength(val);\r\n\t\tconst payload = {\r\n\t\t\tstrength,\r\n\t\t\trules,\r\n\t\t};\r\n\r\n\t\tthis.hideStrips(strength);\r\n\r\n\t\tthis.fireEvent('change', payload);\r\n\t\tdispatch('change.hs.strongPassword', this.el, payload);\r\n\t}\r\n\r\n\tprivate hideStrips(qty: number) {\r\n\t\tArray.from(this.el.children).forEach((el: HTMLElement, i: number) => {\r\n\t\t\tif (i < qty) el.classList.add('passed');\r\n\t\t\telse el.classList.remove('passed');\r\n\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic recalculateDirection() {\r\n\t\tif (\r\n\t\t\tisEnoughSpace(\r\n\t\t\t\tthis.hints as HTMLElement,\r\n\t\t\t\tthis.target as HTMLInputElement,\r\n\t\t\t\t'bottom',\r\n\t\t\t\tthis.popoverSpace,\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\t(this.hints as HTMLElement).classList.remove('bottom-full');\r\n\t\t\t(this.hints as HTMLElement).classList.add('top-full');\r\n\t\t\t(this.hints as HTMLElement).style.marginBottom = '';\r\n\t\t\t(this.hints as HTMLElement).style.marginTop = `${this.popoverSpace}px`;\r\n\t\t} else {\r\n\t\t\t(this.hints as HTMLElement).classList.remove('top-full');\r\n\t\t\t(this.hints as HTMLElement).classList.add('bottom-full');\r\n\t\t\t(this.hints as HTMLElement).style.marginTop = '';\r\n\t\t\t(this.hints as HTMLElement).style.marginBottom = `${this.popoverSpace}px`;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\t(this.target as HTMLInputElement).removeEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTargetInputListener,\r\n\t\t);\r\n\t\t(this.target as HTMLInputElement).removeEventListener(\r\n\t\t\t'focus',\r\n\t\t\tthis.onTargetFocusListener,\r\n\t\t);\r\n\t\t(this.target as HTMLInputElement).removeEventListener(\r\n\t\t\t'blur',\r\n\t\t\tthis.onTargetBlurListener,\r\n\t\t);\r\n\t\t(this.target as HTMLInputElement).removeEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTargetInputSecondListener,\r\n\t\t);\r\n\t\t(this.target as HTMLInputElement).removeEventListener(\r\n\t\t\t'input',\r\n\t\t\tthis.onTargetInputThirdListener,\r\n\t\t);\r\n\r\n\t\twindow.$hsStrongPasswordCollection =\r\n\t\t\twindow.$hsStrongPasswordCollection.filter(\r\n\t\t\t\t({ element }) => element.el !== this.el,\r\n\t\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsStrongPasswordCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsStrongPasswordCollection)\r\n\t\t\twindow.$hsStrongPasswordCollection = [];\r\n\r\n\t\tif (window.$hsStrongPasswordCollection)\r\n\t\t\twindow.$hsStrongPasswordCollection =\r\n\t\t\t\twindow.$hsStrongPasswordCollection.filter(({ element }) =>\r\n\t\t\t\t\tdocument.contains(element.el),\r\n\t\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-strong-password]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsStrongPasswordCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-strong-password');\r\n\t\t\t\t\tconst options: IStrongPasswordOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSStrongPassword(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSStrongPassword: Function;\r\n\t\t$hsStrongPasswordCollection: ICollectionItem<HSStrongPassword>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSStrongPassword.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Strong password collection:', window.$hsStrongPasswordCollection);\r\n});\r\n\r\ndocument.addEventListener('scroll', () => {\r\n\tif (!window.$hsStrongPasswordCollection) return false;\r\n\r\n\tconst target = window.$hsStrongPasswordCollection.find(\r\n\t\t(el) => el.element.isOpened,\r\n\t);\r\n\r\n\tif (target) target.element.recalculateDirection();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSStrongPassword = HSStrongPassword;\r\n}\r\n\r\nexport default HSStrongPassword;\r\n", "/*\r\n * HSTabs\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { ITabs, ITabsOnChangePayload } from '../tabs/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { TABS_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSTabs extends HSBasePlugin<{}> implements ITabs {\r\n\tpublic toggles: NodeListOf<HTMLElement> | null;\r\n\tprivate readonly extraToggleId: string | null;\r\n\tprivate readonly extraToggle: HTMLSelectElement | null;\r\n\tprivate current: HTMLElement | null;\r\n\tprivate currentContentId: string | null;\r\n\tpublic currentContent: HTMLElement | null;\r\n\tprivate prev: HTMLElement | null;\r\n\tprivate prevContentId: string | null;\r\n\tprivate prevContent: HTMLElement | null;\r\n\r\n\tprivate onToggleClickListener:\r\n\t\t| {\r\n\t\t\tel: HTMLElement;\r\n\t\t\tfn: () => void;\r\n\t\t}[]\r\n\t\t| null;\r\n\tprivate onExtraToggleChangeListener: (evt: Event) => void;\r\n\r\n\tprivate eventType: 'click';\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.toggles = this.el.querySelectorAll('[data-hs-tab]');\r\n\t\tthis.extraToggleId = this.el.getAttribute('data-hs-tab-select');\r\n\t\tthis.extraToggle = document.querySelector(this.extraToggleId);\r\n\t\tthis.current = Array.from(this.toggles).find((el) =>\r\n\t\t\tel.classList.contains('active'),\r\n\t\t);\r\n\t\tthis.currentContentId = this.current.getAttribute('data-hs-tab');\r\n\t\tthis.currentContent = document.querySelector(this.currentContentId);\r\n\t\tthis.prev = null;\r\n\t\tthis.prevContentId = null;\r\n\t\tthis.prevContent = null;\r\n\r\n\t\tthis.eventType = 'click';\r\n\r\n\t\tthis.onToggleClickListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate toggleClick(el: HTMLElement) {\r\n\t\tthis.open(el);\r\n\t}\r\n\r\n\tprivate extraToggleChange(evt: Event) {\r\n\t\tthis.change(evt);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTabsCollection, this);\r\n\r\n\t\tthis.toggles.forEach((el) => {\r\n\t\t\tthis.onToggleClickListener.push({\r\n\t\t\t\tel,\r\n\t\t\t\tfn: () => this.toggleClick(el),\r\n\t\t\t});\r\n\r\n\t\t\tel.addEventListener(\r\n\t\t\t\tthis.eventType,\r\n\t\t\t\tthis.onToggleClickListener.find((toggle) => toggle.el === el).fn,\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (this.extraToggle) {\r\n\t\t\tthis.onExtraToggleChangeListener = (evt) => this.extraToggleChange(evt);\r\n\r\n\t\t\tthis.extraToggle.addEventListener(\r\n\t\t\t\t'change',\r\n\t\t\t\tthis.onExtraToggleChangeListener,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate open(el: HTMLElement) {\r\n\t\tthis.prev = this.current;\r\n\t\tthis.prevContentId = this.currentContentId;\r\n\t\tthis.prevContent = this.currentContent;\r\n\r\n\t\tthis.current = el;\r\n\t\tthis.currentContentId = this.current.getAttribute('data-hs-tab');\r\n\t\tthis.currentContent = document.querySelector(this.currentContentId);\r\n\r\n\t\tif (this?.prev?.ariaSelected) this.prev.ariaSelected = 'false';\r\n\t\tthis.prev.classList.remove('active');\r\n\t\tthis.prevContent.classList.add('hidden');\r\n\r\n\t\tif (this?.current?.ariaSelected) this.current.ariaSelected = 'true';\r\n\t\tthis.current.classList.add('active');\r\n\t\tthis.currentContent.classList.remove('hidden');\r\n\r\n\t\tthis.fireEvent('change', {\r\n\t\t\tel,\r\n\t\t\tprev: this.prevContentId,\r\n\t\t\tcurrent: this.currentContentId,\r\n\t\t} as ITabsOnChangePayload);\r\n\t\tdispatch('change.hs.tab', el, {\r\n\t\t\tel,\r\n\t\t\tprev: this.prevContentId,\r\n\t\t\tcurrent: this.currentContentId,\r\n\t\t} as ITabsOnChangePayload);\r\n\t}\r\n\r\n\tprivate change(evt: Event) {\r\n\t\tconst toggle: HTMLElement = document.querySelector(\r\n\t\t\t`[data-hs-tab=\"${(evt.target as HTMLSelectElement).value}\"]`,\r\n\t\t);\r\n\r\n\t\tif (toggle) toggle.click();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Clear listeners\r\n\t\tthis.toggles.forEach((el) => {\r\n\t\t\tel.removeEventListener(\r\n\t\t\t\tthis.eventType,\r\n\t\t\t\tthis.onToggleClickListener.find((toggle) => toggle.el === el).fn,\r\n\t\t\t);\r\n\t\t});\r\n\t\tthis.onToggleClickListener = [];\r\n\t\tif (this.extraToggle)\r\n\t\t\tthis.extraToggle.removeEventListener(\r\n\t\t\t\t'change',\r\n\t\t\t\tthis.onExtraToggleChangeListener,\r\n\t\t\t);\r\n\r\n\t\twindow.$hsTabsCollection = window.$hsTabsCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsTabsCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTabsCollection) {\r\n\t\t\twindow.$hsTabsCollection = [];\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) => HSTabs.accessibility(evt));\r\n\t\t}\r\n\r\n\t\tif (window.$hsTabsCollection)\r\n\t\t\twindow.$hsTabsCollection = window.$hsTabsCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[role=\"tablist\"]:not(select):not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTabsCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSTabs(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic open(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsTabsCollection.find((el) =>\r\n\t\t\tArray.from(el.element.toggles).includes(\r\n\t\t\t\ttypeof target === 'string' ? document.querySelector(target) : target,\r\n\t\t\t),\r\n\t\t);\r\n\t\tconst targetInCollection = Array.from(elInCollection.element.toggles).find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (targetInCollection && !targetInCollection.classList.contains('active'))\r\n\t\t\telInCollection.element.open(targetInCollection);\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst target = document.querySelector('[data-hs-tab]:focus');\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\tTABS_ACCESSIBILITY_KEY_SET.includes(evt.code) &&\r\n\t\t\t!evt.metaKey\r\n\t\t) {\r\n\t\t\tconst isVertical = target\r\n\t\t\t\t.closest('[role=\"tablist\"]')\r\n\t\t\t\t.getAttribute('data-hs-tabs-vertical');\r\n\r\n\t\t\tevt.preventDefault();\r\n\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase isVertical === 'true' ? 'ArrowUp' : 'ArrowLeft':\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase isVertical === 'true' ? 'ArrowDown' : 'ArrowRight':\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrow(isOpposite = true) {\r\n\t\tconst target = document\r\n\t\t\t.querySelector('[data-hs-tab]:focus')\r\n\t\t\t.closest('[role=\"tablist\"]');\r\n\t\tconst targetInCollection = window.$hsTabsCollection.find(\r\n\t\t\t(el) => el.element.el === target,\r\n\t\t);\r\n\r\n\t\tif (targetInCollection) {\r\n\t\t\tconst toggles = isOpposite\r\n\t\t\t\t? Array.from(targetInCollection.element.toggles).reverse()\r\n\t\t\t\t: Array.from(targetInCollection.element.toggles);\r\n\t\t\tconst focused = toggles.find((el) => document.activeElement === el);\r\n\t\t\tlet focusedInd = toggles.findIndex((el: any) => el === focused);\r\n\t\t\tfocusedInd = focusedInd + 1 < toggles.length ? focusedInd + 1 : 0;\r\n\r\n\t\t\ttoggles[focusedInd].focus();\r\n\t\t\ttoggles[focusedInd].click();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isOpposite = true) {\r\n\t\tconst target = document\r\n\t\t\t.querySelector('[data-hs-tab]:focus')\r\n\t\t\t.closest('[role=\"tablist\"]');\r\n\t\tconst targetInCollection = window.$hsTabsCollection.find(\r\n\t\t\t(el) => el.element.el === target,\r\n\t\t);\r\n\r\n\t\tif (targetInCollection) {\r\n\t\t\tconst toggles = isOpposite\r\n\t\t\t\t? Array.from(targetInCollection.element.toggles)\r\n\t\t\t\t: Array.from(targetInCollection.element.toggles).reverse();\r\n\r\n\t\t\tif (toggles.length) {\r\n\t\t\t\ttoggles[0].focus();\r\n\t\t\t\ttoggles[0].click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsTabsCollection.find((el) =>\r\n\t\t\tArray.from(el.element.toggles).includes(\r\n\t\t\t\ttypeof target === 'string' ? document.querySelector(target) : target,\r\n\t\t\t),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTabs: Function;\r\n\t\t$hsTabsCollection: ICollectionItem<HSTabs>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTabs.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Tabs collection:', window.$hsTabsCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTabs = HSTabs;\r\n}\r\n\r\nexport default HSTabs;\r\n", "/*\r\n * HSTextareaAutoHeight\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport {\r\n\tITextareaAutoHeightOptions,\r\n\tITextareaAutoHeight,\r\n} from '../textarea-auto-height/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\nimport { ITabsOnChangePayload } from '../tabs/interfaces'\r\n\r\nclass HSTextareaAutoHeight\r\n\textends HSBasePlugin<ITextareaAutoHeightOptions>\r\n\timplements ITextareaAutoHeight {\r\n\tprivate readonly defaultHeight: number;\r\n\r\n\tprivate onElementInputListener: () => void;\r\n\r\n\tconstructor(el: HTMLTextAreaElement, options?: ITextareaAutoHeightOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-copy-markup');\r\n\t\tconst dataOptions: ITextareaAutoHeightOptions = data\r\n\t\t\t? JSON.parse(data)\r\n\t\t\t: {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.defaultHeight = concatOptions?.defaultHeight || 0;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate elementInput() {\r\n\t\tthis.textareaSetHeight(3);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTextareaAutoHeightCollection, this);\r\n\r\n\t\tthis.setAutoHeight();\r\n\t}\r\n\r\n\tprivate setAutoHeight() {\r\n\t\tif (this.isParentHidden()) this.callbackAccordingToType();\r\n\t\telse this.textareaSetHeight(3);\r\n\r\n\t\tthis.onElementInputListener = () => this.elementInput();\r\n\r\n\t\tthis.el.addEventListener('input', this.onElementInputListener);\r\n\t}\r\n\r\n\tprivate textareaSetHeight(offsetTop = 0) {\r\n\t\tthis.el.style.height = 'auto';\r\n\t\tthis.el.style.height =\r\n\t\t\tthis.checkIfOneLine() && this.defaultHeight\r\n\t\t\t\t? `${this.defaultHeight}px`\r\n\t\t\t\t: `${this.el.scrollHeight + offsetTop}px`;\r\n\t}\r\n\r\n\tprivate checkIfOneLine(): boolean {\r\n\t\tconst clientHeight = this.el.clientHeight;\r\n\t\tconst scrollHeight = this.el.scrollHeight;\r\n\r\n\t\tif (scrollHeight > clientHeight) return false;\r\n\t\telse return true;\r\n\t}\r\n\r\n\tprivate isParentHidden() {\r\n\t\treturn (\r\n\t\t\tthis.el.closest('.hs-overlay.hidden') ||\r\n\t\t\tthis.el.closest('[role=\"tabpanel\"].hidden') ||\r\n\t\t\tthis.el.closest('.hs-collapse.hidden')\r\n\t\t);\r\n\t}\r\n\r\n\tprivate parentType(): string | boolean {\r\n\t\tif (this.el.closest('.hs-collapse')) return 'collapse';\r\n\t\telse if (this.el.closest('.hs-overlay')) return 'overlay';\r\n\t\telse if (this.el.closest('[role=\"tabpanel\"]')) return 'tabs';\r\n\t\telse return false;\r\n\t}\r\n\r\n\tprivate callbackAccordingToType() {\r\n\t\tif (this.parentType() === 'tabs') {\r\n\t\t\tconst tabId = this.el.closest('[role=\"tabpanel\"]')?.id;\r\n\t\t\tconst tab = document.querySelector(`[data-hs-tab=\"#${tabId}\"]`);\r\n\t\t\tconst tabs = tab.closest('[role=\"tablist\"]');\r\n\t\t\tconst { element } = (window.HSTabs as any).getInstance(tabs, true) || null;\r\n\r\n\t\t\telement.on('change', (payload: ITabsOnChangePayload) => {\r\n\t\t\t\tconst textareas = document.querySelectorAll(`${payload.current} [data-hs-textarea-auto-height]`);\r\n\r\n\t\t\t\tif (!textareas.length) return false;\r\n\r\n\t\t\t\ttextareas.forEach((el: HTMLTextAreaElement) => {\r\n\t\t\t\t\tconst instance = (window.HSTextareaAutoHeight as any).getInstance(el, true) || null;\r\n\r\n\t\t\t\t\tif (instance) instance.element.textareaSetHeight(3);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else if (this.parentType() === 'collapse') {\r\n\t\t\tconst collapseId = this.el.closest('.hs-collapse').id;\r\n\t\t\tconst { element } = (window.HSCollapse as any).getInstance(\r\n\t\t\t\t`[data-hs-collapse=\"#${collapseId}\"]`,\r\n\t\t\t\ttrue,\r\n\t\t\t);\r\n\r\n\t\t\telement.on('beforeOpen', () => {\r\n\t\t\t\tif (!this.el) return false;\r\n\r\n\t\t\t\tthis.textareaSetHeight(3);\r\n\t\t\t});\r\n\t\t} else if (this.parentType() === 'overlay') {\r\n\t\t\tconst { element } = (window.HSOverlay as any).getInstance(\r\n\t\t\t\tthis.el.closest('.hs-overlay'),\r\n\t\t\t\ttrue,\r\n\t\t\t);\r\n\r\n\t\t\telement.on('open', () => {\r\n\t\t\t\tif (!this.el) return false;\r\n\r\n\t\t\t\tthis.textareaSetHeight(3);\r\n\t\t\t});\r\n\t\t} else return false;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\tthis.el.removeEventListener('input', this.onElementInputListener);\r\n\r\n\t\twindow.$hsTextareaAutoHeightCollection =\r\n\t\t\twindow.$hsTextareaAutoHeightCollection.filter(\r\n\t\t\t\t({ element }) => element.el !== this.el,\r\n\t\t\t);\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(\r\n\t\ttarget: HTMLTextAreaElement | string,\r\n\t\tisInstance?: boolean,\r\n\t) {\r\n\t\tconst elInCollection = window.$hsTextareaAutoHeightCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTextareaAutoHeightCollection)\r\n\t\t\twindow.$hsTextareaAutoHeightCollection = [];\r\n\r\n\t\tif (window.$hsTextareaAutoHeightCollection)\r\n\t\t\twindow.$hsTextareaAutoHeightCollection =\r\n\t\t\t\twindow.$hsTextareaAutoHeightCollection.filter(({ element }) =>\r\n\t\t\t\t\tdocument.contains(element.el),\r\n\t\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-textarea-auto-height]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLTextAreaElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTextareaAutoHeightCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLTextAreaElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-textarea-auto-height');\r\n\t\t\t\t\tconst options: ITextareaAutoHeightOptions = data\r\n\t\t\t\t\t\t? JSON.parse(data)\r\n\t\t\t\t\t\t: {};\r\n\r\n\t\t\t\t\tnew HSTextareaAutoHeight(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTextareaAutoHeight: Function;\r\n\t\t$hsTextareaAutoHeightCollection: ICollectionItem<HSTextareaAutoHeight>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTextareaAutoHeight.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Textarea Autoheight collection:', window.$hsTextareaAutoHeightCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTextareaAutoHeight = HSTextareaAutoHeight;\r\n}\r\n\r\nexport default HSTextareaAutoHeight;\r\n", "/*\r\n * HSThemeSwitch\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { IThemeSwitchOptions, IThemeSwitch } from '../theme-switch/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\n\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSThemeSwitch\r\n\textends HSBasePlugin<IThemeSwitchOptions>\r\n\timplements IThemeSwitch\r\n{\r\n\tpublic theme: string;\r\n\tpublic type: 'change' | 'click';\r\n\tprivate themeSet: string[];\r\n\r\n\tprivate onElementChangeListener: (evt: Event) => void;\r\n\tprivate onElementClickListener: () => void;\r\n\r\n\tconstructor(\r\n\t\tel: HTMLElement | HTMLInputElement,\r\n\t\toptions?: IThemeSwitchOptions,\r\n\t) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-theme-switch');\r\n\t\tconst dataOptions: IThemeSwitchOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.theme =\r\n\t\t\tconcatOptions?.theme || localStorage.getItem('hs_theme') || 'default';\r\n\t\tthis.type = concatOptions?.type || 'change';\r\n\t\tthis.themeSet = ['light', 'dark', 'default'];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate elementChange(evt: Event) {\r\n\t\tconst theme = (evt.target as HTMLInputElement).checked ? 'dark' : 'default';\r\n\r\n\t\tthis.setAppearance(theme);\r\n\t\tthis.toggleObserveSystemTheme();\r\n\t}\r\n\r\n\tprivate elementClick(theme: string) {\r\n\t\tthis.setAppearance(theme);\r\n\t\tthis.toggleObserveSystemTheme();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsThemeSwitchCollection, this);\r\n\r\n\t\tif (this.theme !== 'default') this.setAppearance();\r\n\r\n\t\tif (this.type === 'click') this.buildSwitchTypeOfClick();\r\n\t\telse this.buildSwitchTypeOfChange();\r\n\t}\r\n\r\n\tprivate buildSwitchTypeOfChange() {\r\n\t\t(this.el as HTMLInputElement).checked = this.theme === 'dark';\r\n\r\n\t\tthis.toggleObserveSystemTheme();\r\n\r\n\t\tthis.onElementChangeListener = (evt) => this.elementChange(evt);\r\n\r\n\t\tthis.el.addEventListener('change', this.onElementChangeListener);\r\n\t}\r\n\r\n\tprivate buildSwitchTypeOfClick() {\r\n\t\tconst theme = this.el.getAttribute('data-hs-theme-click-value');\r\n\r\n\t\tthis.toggleObserveSystemTheme();\r\n\r\n\t\tthis.onElementClickListener = () => this.elementClick(theme);\r\n\r\n\t\tthis.el.addEventListener('click', this.onElementClickListener);\r\n\t}\r\n\r\n\tprivate setResetStyles() {\r\n\t\tconst style = document.createElement('style');\r\n\t\tstyle.innerText = `*{transition: unset !important;}`;\r\n\t\tstyle.setAttribute('data-hs-appearance-onload-styles', '');\r\n\r\n\t\tdocument.head.appendChild(style);\r\n\r\n\t\treturn style;\r\n\t}\r\n\r\n\tprivate addSystemThemeObserver() {\r\n\t\twindow\r\n\t\t\t.matchMedia('(prefers-color-scheme: dark)')\r\n\t\t\t.addEventListener('change', ({ matches }) => {\r\n\t\t\t\tif (matches) this.setAppearance('dark', false);\r\n\t\t\t\telse this.setAppearance('default', false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate removeSystemThemeObserver() {\r\n\t\twindow.matchMedia('(prefers-color-scheme: dark)').removeEventListener;\r\n\t}\r\n\r\n\tprivate toggleObserveSystemTheme() {\r\n\t\tif (localStorage.getItem('hs_theme') === 'auto')\r\n\t\t\tthis.addSystemThemeObserver();\r\n\t\telse this.removeSystemThemeObserver();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic setAppearance(\r\n\t\ttheme = this.theme,\r\n\t\tisSaveToLocalStorage = true,\r\n\t\tisSetDispatchEvent = true,\r\n\t) {\r\n\t\tconst html = document.querySelector('html');\r\n\t\tconst resetStyles = this.setResetStyles();\r\n\r\n\t\tif (isSaveToLocalStorage) localStorage.setItem('hs_theme', theme);\r\n\r\n\t\tif (theme === 'auto')\r\n\t\t\ttheme = window.matchMedia('(prefers-color-scheme: dark)').matches\r\n\t\t\t\t? 'dark'\r\n\t\t\t\t: 'default';\r\n\r\n\t\thtml.classList.remove('light', 'dark', 'default', 'auto');\r\n\t\thtml.classList.add(theme);\r\n\r\n\t\tsetTimeout(() => resetStyles.remove());\r\n\r\n\t\tif (isSetDispatchEvent)\r\n\t\t\twindow.dispatchEvent(\r\n\t\t\t\tnew CustomEvent('on-hs-appearance-change', { detail: theme }),\r\n\t\t\t);\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Clear listeners\r\n\t\tif (this.type === 'change')\r\n\t\t\tthis.el.removeEventListener('change', this.onElementChangeListener);\r\n\t\tif (this.type === 'click')\r\n\t\t\tthis.el.removeEventListener('click', this.onElementClickListener);\r\n\r\n\t\twindow.$hsThemeSwitchCollection = window.$hsThemeSwitchCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsThemeSwitchCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsThemeSwitchCollection) window.$hsThemeSwitchCollection = [];\r\n\r\n\t\tif (window.$hsThemeSwitchCollection)\r\n\t\t\twindow.$hsThemeSwitchCollection = window.$hsThemeSwitchCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-theme-switch]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsThemeSwitchCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSThemeSwitch(el, { type: 'change' });\r\n\t\t\t});\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-theme-click-value]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsThemeSwitchCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSThemeSwitch(el, { type: 'click' });\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSThemeSwitch: Function;\r\n\t\t$hsThemeSwitchCollection: ICollectionItem<HSThemeSwitch>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSThemeSwitch.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Theme switch collection:', window.$hsThemeSwitchCollection);\r\n});\r\n\r\nif (window.$hsThemeSwitchCollection) {\r\n\twindow.addEventListener(\r\n\t\t'on-hs-appearance-change',\r\n\t\t(evt: Event & { detail: string }) => {\r\n\t\t\twindow.$hsThemeSwitchCollection.forEach((el) => {\r\n\t\t\t\t(el.element.el as HTMLInputElement).checked = evt.detail === 'dark';\r\n\t\t\t});\r\n\t\t},\r\n\t);\r\n}\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSThemeSwitch = HSThemeSwitch;\r\n}\r\n\r\nexport default HSThemeSwitch;\r\n", "/*\r\n * HSToggleCount\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { IToggleCountOptions, IToggleCount } from '../toggle-count/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSToggleCount\r\n\textends HSBasePlugin<IToggleCountOptions>\r\n\timplements IToggleCount\r\n{\r\n\tprivate readonly target: HTMLInputElement | null;\r\n\tprivate readonly min: number | null;\r\n\tprivate readonly max: number | null;\r\n\tprivate readonly duration: number | null;\r\n\tprivate isChecked: boolean;\r\n\r\n\tprivate onToggleChangeListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: IToggleCountOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-toggle-count');\r\n\t\tconst dataOptions: IToggleCountOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.target = concatOptions?.target\r\n\t\t\t? typeof concatOptions?.target === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions.target) as HTMLInputElement)\r\n\t\t\t\t: concatOptions.target\r\n\t\t\t: null;\r\n\t\tthis.min = concatOptions?.min || 0;\r\n\t\tthis.max = concatOptions?.max || 0;\r\n\t\tthis.duration = concatOptions?.duration || 700;\r\n\r\n\t\tthis.isChecked = (this.target as HTMLInputElement).checked || false;\r\n\r\n\t\tif (this.target) this.init();\r\n\t}\r\n\r\n\tprivate toggleChange() {\r\n\t\tthis.isChecked = !this.isChecked;\r\n\r\n\t\tthis.toggle();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsToggleCountCollection, this);\r\n\r\n\t\tif (this.isChecked) this.el.innerText = String(this.max);\r\n\r\n\t\tthis.onToggleChangeListener = () => this.toggleChange();\r\n\r\n\t\tthis.target.addEventListener('change', this.onToggleChangeListener);\r\n\t}\r\n\r\n\tprivate toggle() {\r\n\t\tif (this.isChecked) this.countUp();\r\n\t\telse this.countDown();\r\n\t}\r\n\r\n\tprivate animate(from: number, to: number) {\r\n\t\tlet startTimestamp = 0;\r\n\r\n\t\tconst step = (timestamp: number) => {\r\n\t\t\tif (!startTimestamp) startTimestamp = timestamp;\r\n\t\t\tconst progress = Math.min(\r\n\t\t\t\t(timestamp - startTimestamp) / this.duration,\r\n\t\t\t\t1,\r\n\t\t\t);\r\n\r\n\t\t\tthis.el.innerText = String(Math.floor(progress * (to - from) + from));\r\n\r\n\t\t\tif (progress < 1) window.requestAnimationFrame(step);\r\n\t\t};\r\n\r\n\t\twindow.requestAnimationFrame(step);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic countUp() {\r\n\t\tthis.animate(this.min, this.max);\r\n\t}\r\n\r\n\tpublic countDown() {\r\n\t\tthis.animate(this.max, this.min);\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\tthis.target.removeEventListener('change', this.onToggleChangeListener);\r\n\r\n\t\twindow.$hsToggleCountCollection = window.$hsToggleCountCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsToggleCountCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsToggleCountCollection) window.$hsToggleCountCollection = [];\r\n\r\n\t\tif (window.$hsToggleCountCollection)\r\n\t\t\twindow.$hsToggleCountCollection = window.$hsToggleCountCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-toggle-count]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsToggleCountCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSToggleCount(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSToggleCount: Function;\r\n\t\t$hsToggleCountCollection: ICollectionItem<HSToggleCount>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSToggleCount.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Toggle count collection:', window.$hsToggleCountCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSToggleCount = HSToggleCount;\r\n}\r\n\r\nexport default HSToggleCount;\r\n", "/*\r\n * HSTogglePassword\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { isFormElement, dispatch } from '../../utils';\r\n\r\nimport {\r\n\tITogglePasswordOptions,\r\n\tITogglePassword,\r\n} from '../toggle-password/interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSTogglePassword\r\n\textends HSBasePlugin<ITogglePasswordOptions>\r\n\timplements ITogglePassword\r\n{\r\n\tprivate readonly target:\r\n\t\t| string\r\n\t\t| string[]\r\n\t\t| HTMLInputElement\r\n\t\t| HTMLInputElement[]\r\n\t\t| null;\r\n\tprivate isShown: boolean;\r\n\tprivate isMultiple: boolean;\r\n\tprivate eventType: string;\r\n\r\n\tprivate onElementActionListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: ITogglePasswordOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-toggle-password');\r\n\t\tconst dataOptions: ITogglePasswordOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\t\tconst targets: HTMLInputElement[] = [];\r\n\t\tif (concatOptions?.target && typeof concatOptions?.target === 'string') {\r\n\t\t\tconst ids = concatOptions?.target.split(',');\r\n\t\t\tids.forEach((id) => {\r\n\t\t\t\ttargets.push(document.querySelector(id) as HTMLInputElement);\r\n\t\t\t});\r\n\t\t} else if (\r\n\t\t\tconcatOptions?.target &&\r\n\t\t\ttypeof concatOptions?.target === 'object'\r\n\t\t) {\r\n\t\t\t(concatOptions.target as string[]).forEach((el) =>\r\n\t\t\t\ttargets.push(document.querySelector(el)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t(concatOptions.target as HTMLInputElement[]).forEach((el) =>\r\n\t\t\t\ttargets.push(el),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.target = targets;\r\n\t\tthis.isShown = this.el.hasAttribute('type')\r\n\t\t\t? (this.el as HTMLInputElement).checked\r\n\t\t\t: false;\r\n\t\tthis.eventType = isFormElement(this.el) ? 'change' : 'click';\r\n\t\tthis.isMultiple =\r\n\t\t\tthis.target.length > 1 &&\r\n\t\t\t!!this.el.closest('[data-hs-toggle-password-group]');\r\n\r\n\t\tif (this.target) this.init();\r\n\t}\r\n\r\n\tprivate elementAction() {\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('toggle', this.target);\r\n\t\tdispatch('toggle.hs.toggle-select', this.el, this.target);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTogglePasswordCollection, this);\r\n\r\n\t\tif (!this.isShown) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\r\n\t\tthis.onElementActionListener = () => this.elementAction();\r\n\r\n\t\tthis.el.addEventListener(this.eventType, this.onElementActionListener);\r\n\t}\r\n\r\n\tprivate getMultipleToggles(): HSTogglePassword[] {\r\n\t\tconst group = this.el.closest('[data-hs-toggle-password-group]');\r\n\t\tconst toggles = group.querySelectorAll('[data-hs-toggle-password]');\r\n\t\tconst togglesInCollection: HSTogglePassword[] = [];\r\n\r\n\t\ttoggles.forEach((el: HTMLElement) => {\r\n\t\t\ttogglesInCollection.push(\r\n\t\t\t\tHSTogglePassword.getInstance(el) as HSTogglePassword,\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn togglesInCollection;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst toggles = this.getMultipleToggles();\r\n\r\n\t\t\ttoggles.forEach((el: HSTogglePassword) =>\r\n\t\t\t\tel ? (el.isShown = true) : false,\r\n\t\t\t);\r\n\r\n\t\t\tthis.el\r\n\t\t\t\t.closest('[data-hs-toggle-password-group]')\r\n\t\t\t\t.classList.add('active');\r\n\t\t} else {\r\n\t\t\tthis.isShown = true;\r\n\r\n\t\t\tthis.el.classList.add('active');\r\n\t\t}\r\n\t\t(this.target as HTMLInputElement[]).forEach((el) => {\r\n\t\t\t(el as HTMLInputElement).type = 'text';\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst toggles = this.getMultipleToggles();\r\n\r\n\t\t\ttoggles.forEach((el: HSTogglePassword) =>\r\n\t\t\t\tel ? (el.isShown = false) : false,\r\n\t\t\t);\r\n\r\n\t\t\tthis.el\r\n\t\t\t\t.closest('[data-hs-toggle-password-group]')\r\n\t\t\t\t.classList.remove('active');\r\n\t\t} else {\r\n\t\t\tthis.isShown = false;\r\n\r\n\t\t\tthis.el.classList.remove('active');\r\n\t\t}\r\n\t\t(this.target as HTMLInputElement[]).forEach((el) => {\r\n\t\t\t(el as HTMLInputElement).type = 'password';\r\n\t\t});\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tif (this.isMultiple) {\r\n\t\t\tthis.el\r\n\t\t\t\t.closest('[data-hs-toggle-password-group]')\r\n\t\t\t\t.classList.remove('active');\r\n\t\t} else {\r\n\t\t\tthis.el.classList.remove('active');\r\n\t\t}\r\n\r\n\t\t// Remove attributes\r\n\t\t(this.target as HTMLInputElement[]).forEach((el) => {\r\n\t\t\t(el as HTMLInputElement).type = 'password';\r\n\t\t});\r\n\r\n\t\t// Remove listeners\r\n\t\tthis.el.removeEventListener(this.eventType, this.onElementActionListener);\r\n\r\n\t\tthis.isShown = false;\r\n\r\n\t\twindow.$hsTogglePasswordCollection =\r\n\t\t\twindow.$hsTogglePasswordCollection.filter(\r\n\t\t\t\t({ element }) => element.el !== this.el,\r\n\t\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsTogglePasswordCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTogglePasswordCollection)\r\n\t\t\twindow.$hsTogglePasswordCollection = [];\r\n\r\n\t\tif (window.$hsTogglePasswordCollection)\r\n\t\t\twindow.$hsTogglePasswordCollection =\r\n\t\t\t\twindow.$hsTogglePasswordCollection.filter(({ element }) =>\r\n\t\t\t\t\tdocument.contains(element.el),\r\n\t\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-toggle-password]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLInputElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTogglePasswordCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSTogglePassword(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTogglePassword: Function;\r\n\t\t$hsTogglePasswordCollection: ICollectionItem<HSTogglePassword>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTogglePassword.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Toggle password collection:', window.$hsTogglePasswordCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTogglePassword = HSTogglePassword;\r\n}\r\n\r\nexport default HSTogglePassword;\r\n", "/*\r\n * HSTooltip\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { createPopper, PositioningStrategy, Instance } from '@popperjs/core';\r\nimport { getClassProperty, dispatch, afterTransition } from '../../utils';\r\n\r\nimport { ITooltip } from './interfaces';\r\nimport { TTooltipOptionsScope } from './types';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { POSITIONS } from '../../constants';\r\n\r\nclass HSTooltip extends HSBasePlugin<{}> implements ITooltip {\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tpublic content: HTMLElement | null;\r\n\treadonly eventMode: string;\r\n\tprivate readonly preventPopper: string;\r\n\tprivate popperInstance: Instance | null;\r\n\tprivate readonly placement: string;\r\n\tprivate readonly strategy: PositioningStrategy;\r\n\tprivate readonly scope: TTooltipOptionsScope;\r\n\r\n\tprivate onToggleClickListener: () => void;\r\n\tprivate onToggleFocusListener: () => void;\r\n\tprivate onToggleMouseEnterListener: () => void;\r\n\tprivate onToggleMouseLeaveListener: () => void;\r\n\tprivate onToggleHandleListener: () => void;\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tif (this.el) {\r\n\t\t\tthis.toggle = this.el.querySelector('.hs-tooltip-toggle') || this.el;\r\n\t\t\tthis.content = this.el.querySelector('.hs-tooltip-content');\r\n\t\t\tthis.eventMode = getClassProperty(this.el, '--trigger') || 'hover';\r\n\t\t\tthis.preventPopper = getClassProperty(\r\n\t\t\t\tthis.el,\r\n\t\t\t\t'--prevent-popper',\r\n\t\t\t\t'false',\r\n\t\t\t);\r\n\t\t\tthis.placement = getClassProperty(this.el, '--placement');\r\n\t\t\tthis.strategy = getClassProperty(\r\n\t\t\t\tthis.el,\r\n\t\t\t\t'--strategy',\r\n\t\t\t) as PositioningStrategy;\r\n\t\t\tthis.scope = getClassProperty(this.el, '--scope') as TTooltipOptionsScope || 'parent';\r\n\t\t}\r\n\r\n\t\tif (this.el && this.toggle && this.content) this.init();\r\n\t}\r\n\r\n\tprivate toggleClick() {\r\n\t\tthis.click();\r\n\t}\r\n\r\n\tprivate toggleFocus() {\r\n\t\tthis.focus();\r\n\t}\r\n\r\n\tprivate toggleMouseEnter() {\r\n\t\tthis.enter();\r\n\t}\r\n\r\n\tprivate toggleMouseLeave() {\r\n\t\tthis.leave();\r\n\t}\r\n\r\n\tprivate toggleHandle() {\r\n\t\tthis.hide();\r\n\r\n\t\tthis.toggle.removeEventListener('click', this.onToggleHandleListener, true);\r\n\t\tthis.toggle.removeEventListener('blur', this.onToggleHandleListener, true);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTooltipCollection, this);\r\n\r\n\t\tif (this.eventMode === 'click') {\r\n\t\t\tthis.onToggleClickListener = () => this.toggleClick();\r\n\r\n\t\t\tthis.toggle.addEventListener('click', this.onToggleClickListener);\r\n\t\t} else if (this.eventMode === 'focus') {\r\n\t\t\tthis.onToggleFocusListener = () => this.toggleFocus();\r\n\r\n\t\t\tthis.toggle.addEventListener('click', this.onToggleFocusListener);\r\n\t\t} else if (this.eventMode === 'hover') {\r\n\t\t\tthis.onToggleMouseEnterListener = () => this.toggleMouseEnter();\r\n\t\t\tthis.onToggleMouseLeaveListener = () => this.toggleMouseLeave();\r\n\r\n\t\t\tthis.toggle.addEventListener(\r\n\t\t\t\t'mouseenter',\r\n\t\t\t\tthis.onToggleMouseEnterListener,\r\n\t\t\t);\r\n\t\t\tthis.toggle.addEventListener(\r\n\t\t\t\t'mouseleave',\r\n\t\t\t\tthis.onToggleMouseLeaveListener,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.preventPopper === 'false') this.buildPopper();\r\n\t}\r\n\r\n\tprivate enter() {\r\n\t\tthis._show();\r\n\t}\r\n\r\n\tprivate leave() {\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\tprivate click() {\r\n\t\tif (this.el.classList.contains('show')) return false;\r\n\r\n\t\tthis._show();\r\n\r\n\t\tthis.onToggleHandleListener = () => {\r\n\t\t\tsetTimeout(() => this.toggleHandle());\r\n\t\t};\r\n\r\n\t\tthis.toggle.addEventListener('click', this.onToggleHandleListener, true);\r\n\t\tthis.toggle.addEventListener('blur', this.onToggleHandleListener, true);\r\n\t}\r\n\r\n\tprivate focus() {\r\n\t\tthis._show();\r\n\r\n\t\tconst handle = () => {\r\n\t\t\tthis.hide();\r\n\r\n\t\t\tthis.toggle.removeEventListener('blur', handle, true);\r\n\t\t};\r\n\r\n\t\tthis.toggle.addEventListener('blur', handle, true);\r\n\t}\r\n\r\n\tprivate buildPopper() {\r\n\t\tif (this.scope === 'window') document.body.appendChild(this.content);\r\n\r\n\t\tthis.popperInstance = createPopper(this.toggle, this.content, {\r\n\t\t\tplacement: POSITIONS[this.placement] || 'top',\r\n\t\t\tstrategy: this.strategy || 'fixed',\r\n\t\t\tmodifiers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'offset',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\toffset: [0, 5],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _show() {\r\n\t\tthis.content.classList.remove('hidden');\r\n\t\tif (this.scope === 'window') this.content.classList.add('show');\r\n\r\n\t\tif (this.preventPopper === 'false') {\r\n\t\t\tthis.popperInstance.setOptions((options) => ({\r\n\t\t\t\t...options,\r\n\t\t\t\tmodifiers: [\r\n\t\t\t\t\t...options.modifiers,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'eventListeners',\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}));\r\n\r\n\t\t\tthis.popperInstance.update();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.el.classList.add('show');\r\n\r\n\t\t\tthis.fireEvent('show', this.el);\r\n\t\t\tdispatch('show.hs.tooltip', this.el, this.el);\r\n\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tswitch (this.eventMode) {\r\n\t\t\tcase 'click':\r\n\t\t\t\tthis.click();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'focus':\r\n\t\t\t\tthis.focus();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.enter();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.toggle.focus();\r\n\t\tthis.toggle.style.outline = 'none';\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tthis.el.classList.remove('show');\r\n\t\tif (this.scope === 'window') this.content.classList.remove('show');\r\n\r\n\t\tif (this.preventPopper === 'false') {\r\n\t\t\tthis.popperInstance.setOptions((options) => ({\r\n\t\t\t\t...options,\r\n\t\t\t\tmodifiers: [\r\n\t\t\t\t\t...options.modifiers,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'eventListeners',\r\n\t\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}));\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('hide', this.el);\r\n\t\tdispatch('hide.hs.tooltip', this.el, this.el);\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tif (this.el.classList.contains('show')) return false;\r\n\r\n\t\t\tthis.content.classList.add('hidden');\r\n\t\t\tthis.toggle.style.outline = '';\r\n\t\t});\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove classes\r\n\t\tthis.el.classList.remove('show');\r\n\t\tthis.content.classList.add('hidden');\r\n\r\n\t\t// Remove listeners\r\n\t\tif (this.eventMode === 'click') {\r\n\t\t\tthis.toggle.removeEventListener('click', this.onToggleClickListener);\r\n\t\t} else if (this.eventMode === 'focus') {\r\n\t\t\tthis.toggle.removeEventListener('click', this.onToggleFocusListener);\r\n\t\t} else if (this.eventMode === 'hover') {\r\n\t\t\tthis.toggle.removeEventListener(\r\n\t\t\t\t'mouseenter',\r\n\t\t\t\tthis.onToggleMouseEnterListener,\r\n\t\t\t);\r\n\t\t\tthis.toggle.removeEventListener(\r\n\t\t\t\t'mouseleave',\r\n\t\t\t\tthis.onToggleMouseLeaveListener,\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.toggle.removeEventListener('click', this.onToggleHandleListener, true);\r\n\t\tthis.toggle.removeEventListener('blur', this.onToggleHandleListener, true);\r\n\r\n\t\tthis.popperInstance.destroy();\r\n\t\tthis.popperInstance = null;\r\n\r\n\t\twindow.$hsTooltipCollection = window.$hsTooltipCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSTooltip | HTMLElement | string): ICollectionItem<HSTooltip> | null {\r\n\t\treturn window.$hsTooltipCollection.find((el) => {\r\n\t\t\tif (target instanceof HSTooltip) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsTooltipCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTooltipCollection) window.$hsTooltipCollection = [];\r\n\r\n\t\tif (window.$hsTooltipCollection)\r\n\t\t\twindow.$hsTooltipCollection = window.$hsTooltipCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-tooltip:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTooltipCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSTooltip(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic show(target: HSTooltip | HTMLElement | string) {\r\n\t\tconst instance = HSTooltip.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.show();\r\n\t}\r\n\r\n\tstatic hide(target: HSTooltip | HTMLElement | string) {\r\n\t\tconst instance = HSTooltip.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.hide();\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HSTooltip | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSTooltip.findInCollection(target);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTooltip: Function;\r\n\t\t$hsTooltipCollection: ICollectionItem<HSTooltip>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTooltip.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Tooltip collection:', window.$hsTooltipCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTooltip = HSTooltip;\r\n}\r\n\r\nexport default HSTooltip;\r\n", "/*\r\n * HSTreeView\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport {\r\n\tITreeViewOptions,\r\n\tITreeView,\r\n\tITreeViewItem,\r\n\tITreeViewOptionsControlBy,\r\n} from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSTreeView extends HSBasePlugin<ITreeViewOptions> implements ITreeView {\r\n\tprivate items: ITreeViewItem[] = [];\r\n\tprivate readonly controlBy: ITreeViewOptionsControlBy;\r\n\tprivate readonly autoSelectChildren: boolean;\r\n\tprivate readonly isIndeterminate: boolean;\r\n\tstatic group: number = 0;\r\n\r\n\tprivate onElementClickListener:\r\n\t\t| {\r\n\t\t\tel: Element;\r\n\t\t\tfn: (evt: PointerEvent) => void;\r\n\t\t}[]\r\n\t\t| null;\r\n\tprivate onControlChangeListener:\r\n\t\t| {\r\n\t\t\tel: Element;\r\n\t\t\tfn: () => void;\r\n\t\t}[]\r\n\t\t| null;\r\n\r\n\tconstructor(el: HTMLElement, options?: ITreeViewOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-tree-view');\r\n\t\tconst dataOptions: ITreeView = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.controlBy = concatOptions?.controlBy || 'button';\r\n\t\tthis.autoSelectChildren = concatOptions?.autoSelectChildren || false;\r\n\t\tthis.isIndeterminate = concatOptions?.isIndeterminate || true;\r\n\r\n\t\tthis.onElementClickListener = [];\r\n\t\tthis.onControlChangeListener = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate elementClick(evt: PointerEvent, el: Element, data: ITreeViewItem) {\r\n\t\tevt.stopPropagation();\r\n\r\n\t\tif (el.classList.contains('disabled')) return false;\r\n\r\n\t\tif (!evt.metaKey && !evt.shiftKey) this.unselectItem(data);\r\n\t\tthis.selectItem(el, data);\r\n\r\n\t\tthis.fireEvent('click', {\r\n\t\t\tel,\r\n\t\t\tdata: data,\r\n\t\t});\r\n\t\tdispatch('click.hs.treeView', this.el, {\r\n\t\t\tel,\r\n\t\t\tdata: data,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate controlChange(el: Element, data: ITreeViewItem) {\r\n\t\tif (this.autoSelectChildren) {\r\n\t\t\tthis.selectItem(el, data);\r\n\t\t\tif (data.isDir) this.selectChildren(el, data);\r\n\t\t\tthis.toggleParent(el);\r\n\t\t} else this.selectItem(el, data);\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTreeViewCollection, this);\r\n\r\n\t\tHSTreeView.group += 1;\r\n\r\n\t\tthis.initItems();\r\n\t}\r\n\r\n\tprivate initItems() {\r\n\t\tthis.el.querySelectorAll('[data-hs-tree-view-item]').forEach((el, ind) => {\r\n\t\t\tconst data = JSON.parse(el.getAttribute('data-hs-tree-view-item'));\r\n\t\t\tif (!el.id) el.id = `tree-view-item-${HSTreeView.group}-${ind}`;\r\n\t\t\tconst concatData = {\r\n\t\t\t\t...data,\r\n\t\t\t\tid: data.id ?? el.id,\r\n\t\t\t\tpath: this.getPath(el),\r\n\t\t\t\tisSelected: data.isSelected ?? false,\r\n\t\t\t};\r\n\r\n\t\t\tthis.items.push(concatData);\r\n\r\n\t\t\tif (this.controlBy === 'checkbox') this.controlByCheckbox(el, concatData);\r\n\t\t\telse this.controlByButton(el, concatData);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate controlByButton(el: Element, data: ITreeViewItem) {\r\n\t\tthis.onElementClickListener.push({\r\n\t\t\tel,\r\n\t\t\tfn: (evt: PointerEvent) => this.elementClick(evt, el, data),\r\n\t\t});\r\n\r\n\t\tel.addEventListener(\r\n\t\t\t'click',\r\n\t\t\tthis.onElementClickListener.find((elI) => elI.el === el).fn,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate controlByCheckbox(el: Element, data: ITreeViewItem) {\r\n\t\tconst control = el.querySelector(`input[value=\"${data.value}\"]`);\r\n\r\n\t\tif (!!control) {\r\n\t\t\tthis.onControlChangeListener.push({\r\n\t\t\t\tel: control,\r\n\t\t\t\tfn: () => this.controlChange(el, data),\r\n\t\t\t});\r\n\r\n\t\t\tcontrol.addEventListener(\r\n\t\t\t\t'change',\r\n\t\t\t\tthis.onControlChangeListener.find((elI) => elI.el === control).fn,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getItem(id: string) {\r\n\t\treturn this.items.find((el) => el.id === id);\r\n\t}\r\n\r\n\tprivate getPath(el: Element) {\r\n\t\tconst path: any = [];\r\n\t\tlet parent = el.closest('[data-hs-tree-view-item]');\r\n\r\n\t\twhile (!!parent) {\r\n\t\t\tconst data = JSON.parse(parent.getAttribute('data-hs-tree-view-item'));\r\n\r\n\t\t\tpath.push(data.value);\r\n\r\n\t\t\tparent = parent.parentElement?.closest('[data-hs-tree-view-item]');\r\n\t\t}\r\n\r\n\t\treturn path.reverse().join('/');\r\n\t}\r\n\r\n\tprivate unselectItem(exception: ITreeViewItem | null = null) {\r\n\t\tlet selectedItems = this.getSelectedItems();\r\n\t\tif (exception)\r\n\t\t\tselectedItems = selectedItems.filter((el) => el.id !== exception.id);\r\n\r\n\t\tif (selectedItems.length) {\r\n\t\t\tselectedItems.forEach((el) => {\r\n\t\t\t\tconst selectedElement = document.querySelector(`#${el.id}`);\r\n\r\n\t\t\t\tselectedElement.classList.remove('selected');\r\n\t\t\t\tthis.changeItemProp(el.id, 'isSelected', false);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate selectItem(el: Element, data: ITreeViewItem) {\r\n\t\tif (data.isSelected) {\r\n\t\t\tel.classList.remove('selected');\r\n\t\t\tthis.changeItemProp(data.id, 'isSelected', false);\r\n\t\t} else {\r\n\t\t\tel.classList.add('selected');\r\n\t\t\tthis.changeItemProp(data.id, 'isSelected', true);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate selectChildren(el: Element, data: ITreeViewItem) {\r\n\t\tconst items = el.querySelectorAll('[data-hs-tree-view-item]');\r\n\r\n\t\tArray.from(items)\r\n\t\t\t.filter((elI) => !elI.classList.contains('disabled'))\r\n\t\t\t.forEach((elI) => {\r\n\t\t\t\tconst initialItemData = elI.id ? this.getItem(elI.id) : null;\r\n\r\n\t\t\t\tif (!initialItemData) return false;\r\n\r\n\t\t\t\tif (data.isSelected) {\r\n\t\t\t\t\telI.classList.add('selected');\r\n\t\t\t\t\tthis.changeItemProp(initialItemData.id, 'isSelected', true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\telI.classList.remove('selected');\r\n\t\t\t\t\tthis.changeItemProp(initialItemData.id, 'isSelected', false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst currentItemData = this.getItem(elI.id);\r\n\t\t\t\tconst control: HTMLFormElement = elI.querySelector(\r\n\t\t\t\t\t`input[value=\"${currentItemData.value}\"]`,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (this.isIndeterminate) control.indeterminate = false;\r\n\r\n\t\t\t\tif (currentItemData.isSelected) control.checked = true;\r\n\t\t\t\telse control.checked = false;\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate toggleParent(el: Element) {\r\n\t\tlet parent = el.parentElement?.closest('[data-hs-tree-view-item]');\r\n\r\n\t\twhile (!!parent) {\r\n\t\t\tconst items = parent.querySelectorAll(\r\n\t\t\t\t'[data-hs-tree-view-item]:not(.disabled)',\r\n\t\t\t);\r\n\t\t\tconst data = JSON.parse(parent.getAttribute('data-hs-tree-view-item'));\r\n\t\t\tconst control: HTMLFormElement = parent.querySelector(\r\n\t\t\t\t`input[value=\"${data.value}\"]`,\r\n\t\t\t);\r\n\t\t\tlet hasUnchecked = false;\r\n\t\t\tlet checkedItems = 0;\r\n\r\n\t\t\titems.forEach((elI) => {\r\n\t\t\t\tconst dataI = this.getItem(elI.id);\r\n\r\n\t\t\t\tif (dataI.isSelected) checkedItems += 1;\r\n\t\t\t\tif (!dataI.isSelected) hasUnchecked = true;\r\n\t\t\t});\r\n\r\n\t\t\tif (hasUnchecked) {\r\n\t\t\t\tparent.classList.remove('selected');\r\n\t\t\t\tthis.changeItemProp(parent.id, 'isSelected', false);\r\n\t\t\t\tcontrol.checked = false;\r\n\t\t\t} else {\r\n\t\t\t\tparent.classList.add('selected');\r\n\t\t\t\tthis.changeItemProp(parent.id, 'isSelected', true);\r\n\t\t\t\tcontrol.checked = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.isIndeterminate) {\r\n\t\t\t\tif (checkedItems > 0 && checkedItems < items.length)\r\n\t\t\t\t\tcontrol.indeterminate = true;\r\n\t\t\t\telse control.indeterminate = false;\r\n\t\t\t}\r\n\r\n\t\t\tparent = parent.parentElement?.closest('[data-hs-tree-view-item]');\r\n\t\t}\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic update() {\r\n\t\tthis.items.map((el: ITreeViewItem) => {\r\n\t\t\tconst selector = document.querySelector(`#${el.id}`);\r\n\r\n\t\t\tif (el.path !== this.getPath(selector)) el.path = this.getPath(selector);\r\n\r\n\t\t\treturn el;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic getSelectedItems() {\r\n\t\treturn this.items.filter((el) => el.isSelected);\r\n\t}\r\n\r\n\tpublic changeItemProp(id: string, prop: string, val: any) {\r\n\t\tthis.items.map((el) => {\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (el.id === id) el[prop] = val;\r\n\r\n\t\t\treturn el;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic destroy() {\r\n\t\t// Remove listeners\r\n\t\tthis.onElementClickListener.forEach(({ el, fn }) => {\r\n\t\t\tel.removeEventListener('click', fn);\r\n\t\t});\r\n\t\tif (this.onControlChangeListener.length)\r\n\t\t\tthis.onElementClickListener.forEach(({ el, fn }) => {\r\n\t\t\t\tel.removeEventListener('change', fn);\r\n\t\t\t});\r\n\r\n\t\tthis.unselectItem();\r\n\r\n\t\tthis.items = [];\r\n\r\n\t\twindow.$hsTreeViewCollection = window.$hsTreeViewCollection.filter(\r\n\t\t\t({ element }) => element.el !== this.el,\r\n\t\t);\r\n\r\n\t\tHSTreeView.group -= 1;\r\n\t}\r\n\r\n\t// Static methods\r\n\tprivate static findInCollection(target: HSTreeView | HTMLElement | string): ICollectionItem<HSTreeView> | null {\r\n\t\treturn window.$hsTreeViewCollection.find((el) => {\r\n\t\t\tif (target instanceof HSTreeView) return el.element.el === target.el;\r\n\t\t\telse if (typeof target === 'string') return el.element.el === document.querySelector(target);\r\n\t\t\telse return el.element.el === target;\r\n\t\t}) || null;\r\n\t}\r\n\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsTreeViewCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTreeViewCollection) window.$hsTreeViewCollection = [];\r\n\r\n\t\tif (window.$hsTreeViewCollection)\r\n\t\t\twindow.$hsTreeViewCollection = window.$hsTreeViewCollection.filter(\r\n\t\t\t\t({ element }) => document.contains(element.el),\r\n\t\t\t);\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-tree-view]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTreeViewCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSTreeView(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HSTreeView | HTMLElement | string, cb: Function) {\r\n\t\tconst instance = HSTreeView.findInCollection(target);\r\n\r\n\t\tconsole.log(1);\r\n\r\n\t\tif (instance) instance.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTreeView: Function;\r\n\t\t$hsTreeViewCollection: ICollectionItem<HSTreeView>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTreeView.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Tree view collection:', window.$hsTreeViewCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTreeView = HSTreeView;\r\n}\r\n\r\nexport default HSTreeView;\r\n", "/*\r\n * HSStaticMethods\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { getClassProperty, afterTransition } from '../utils';\r\nimport { COLLECTIONS } from '../spa/index';\r\nimport { IStaticMethods } from '../static/interfaces';\r\nimport { ICollectionItem } from '../interfaces';\r\nimport type HSCopyMarkup from '../plugins/copy-markup';\r\nimport type HSAccordion from '../plugins/accordion';\r\nimport type HSCarousel from '../plugins/carousel';\r\nimport type HSCollapse from '../plugins/collapse';\r\nimport type HSComboBox from '../plugins/combobox';\r\nimport type HSDataTable from '../plugins/datatable';\r\nimport type HSDropdown from '../plugins/dropdown';\r\nimport type HSFileUpload from '../plugins/file-upload';\r\nimport type HSInputNumber from '../plugins/input-number';\r\nimport type HSLayoutSplitter from '../plugins/layout-splitter';\r\nimport type HSOverlay from '../plugins/overlay';\r\nimport type HSPinInput from '../plugins/pin-input';\r\nimport type HSRangeSlider from '../plugins/range-slider';\r\nimport type HSRemoveElement from '../plugins/remove-element';\r\nimport type HSScrollspy from '../plugins/scrollspy';\r\nimport type HSSelect from '../plugins/select';\r\nimport type HSStepper from '../plugins/stepper';\r\nimport type HSStrongPassword from '../plugins/strong-password';\r\nimport type HSTabs from '../plugins/tabs';\r\nimport type HSTextareaAutoHeight from '../plugins/textarea-auto-height';\r\nimport type HSThemeSwitch from '../plugins/theme-switch';\r\nimport type HSToggleCount from '../plugins/toggle-count';\r\nimport type HSTogglePassword from '../plugins/toggle-password';\r\nimport type HSTooltip from '../plugins/tooltip';\r\nimport type HSTreeView from '../plugins/tree-view';\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSStaticMethods: IStaticMethods;\r\n\t\t$hsCopyMarkupCollection: ICollectionItem<HSCopyMarkup>[];\r\n\t\t$hsAccordionCollection: ICollectionItem<HSAccordion>[];\r\n\t\t$hsCarouselCollection: ICollectionItem<HSCarousel>[];\r\n\t\t$hsCollapseCollection: ICollectionItem<HSCollapse>[];\r\n\t\t$hsComboBoxCollection: ICollectionItem<HSComboBox>[];\r\n\t\t$hsDataTableCollection: ICollectionItem<HSDataTable>[];\r\n\t\t$hsDropdownCollection: ICollectionItem<HSDropdown>[];\r\n\t\t$hsFileUploadCollection: ICollectionItem<HSFileUpload>[];\r\n\t\t$hsInputNumberCollection: { id: number; element: HSInputNumber }[];\r\n\t\t$hsLayoutSplitterCollection: ICollectionItem<HSLayoutSplitter>[];\r\n\t\t$hsOverlayCollection: ICollectionItem<HSOverlay>[];\r\n\t\t$hsPinInputCollection: ICollectionItem<HSPinInput>[];\r\n\t\t$hsRangeSliderCollection: ICollectionItem<HSRangeSlider>[];\r\n\t\t$hsRemoveElementCollection: ICollectionItem<HSRemoveElement>[];\r\n\t\t$hsScrollspyCollection: ICollectionItem<HSScrollspy>[];\r\n\t\t$hsSelectCollection: ICollectionItem<HSSelect>[];\r\n\t\t$hsStepperCollection: ICollectionItem<HSStepper>[];\r\n\t\t$hsStrongPasswordCollection: ICollectionItem<HSStrongPassword>[];\r\n\t\t$hsTabsCollection: ICollectionItem<HSTabs>[];\r\n\t\t$hsTextareaAutoHeightCollection: ICollectionItem<HSTextareaAutoHeight>[];\r\n\t\t$hsThemeSwitchCollection: ICollectionItem<HSThemeSwitch>[];\r\n\t\t$hsToggleCountCollection: ICollectionItem<HSToggleCount>[];\r\n\t\t$hsTogglePasswordCollection: ICollectionItem<HSTogglePassword>[];\r\n\t\t$hsTooltipCollection: ICollectionItem<HSTooltip>[];\r\n\t\t$hsTreeViewCollection: ICollectionItem<HSTreeView>[];\r\n\t}\r\n}\r\n\r\nconst HSStaticMethods: IStaticMethods = {\r\n\tgetClassProperty,\r\n\tafterTransition,\r\n\tautoInit(collection: string | string[] = 'all') {\r\n\t\tif (collection === 'all') {\r\n\t\t\tCOLLECTIONS.forEach(({ fn }) => {\r\n\t\t\t\tfn?.autoInit();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tCOLLECTIONS.forEach(({ key, fn }) => {\r\n\t\t\t\tif (collection.includes(key)) fn?.autoInit();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcleanCollection(name: string | string[] = 'all') {\r\n\t\tif (name === 'all') {\r\n\t\t\tCOLLECTIONS.forEach(({ collection }) => {\r\n\t\t\t\tif ((window as any)[collection] instanceof Array) {\r\n\t\t\t\t\t(window as any)[collection] = [];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tCOLLECTIONS.forEach(({ key, collection }) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tname.includes(key) &&\r\n\t\t\t\t\t(window as any)[collection] instanceof Array\r\n\t\t\t\t) {\r\n\t\t\t\t\t(window as any)[collection] = [];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n};\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSStaticMethods = HSStaticMethods;\r\n}\r\n\r\nexport default HSStaticMethods;\r\n", "/*\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\nimport { ISpaCollectionItem } from '../spa/interfaces';\r\n\r\nimport HSCopyMarkup from '../plugins/copy-markup';\r\nimport HSAccordion from '../plugins/accordion';\r\nimport HSCarousel from '../plugins/carousel';\r\nimport HSCollapse from '../plugins/collapse';\r\nimport HSComboBox from '../plugins/combobox';\r\nimport HSDataTable from '../plugins/datatable';\r\nimport HSDropdown from '../plugins/dropdown';\r\nimport HSFileUpload from '../plugins/file-upload';\r\nimport HSLayoutSplitter from '../plugins/layout-splitter';\r\nimport HSInputNumber from '../plugins/input-number';\r\nimport HSOverlay from '../plugins/overlay';\r\nimport HSPinInput from '../plugins/pin-input';\r\nimport HSRangeSlider from '../plugins/range-slider';\r\nimport HSRemoveElement from '../plugins/remove-element';\r\nimport HSScrollspy from '../plugins/scrollspy';\r\nimport HSSelect from '../plugins/select';\r\nimport HSStepper from '../plugins/stepper';\r\nimport HSStrongPassword from '../plugins/strong-password';\r\nimport HSTabs from '../plugins/tabs';\r\nimport HSTextareaAutoHeight from '../plugins/textarea-auto-height';\r\nimport HSThemeSwitch from '../plugins/theme-switch';\r\nimport HSToggleCount from '../plugins/toggle-count';\r\nimport HSTogglePassword from '../plugins/toggle-password';\r\nimport HSTooltip from '../plugins/tooltip';\r\nimport HSTreeView from '../plugins/tree-view';\r\n\r\nexport const COLLECTIONS: ISpaCollectionItem[] = [\r\n\t{\r\n\t\tkey: 'copy-markup',\r\n\t\tfn: HSCopyMarkup,\r\n\t\tcollection: '$hsCopyMarkupCollection',\r\n\t},\r\n\t{ key: 'accordion', fn: HSAccordion, collection: '$hsAccordionCollection' },\r\n\t{ key: 'carousel', fn: HSCarousel, collection: '$hsCarouselCollection' },\r\n\t{ key: 'collapse', fn: HSCollapse, collection: '$hsCollapseCollection' },\r\n\t{ key: 'combobox', fn: HSComboBox, collection: '$hsComboBoxCollection' },\r\n\t{ key: 'datatable', fn: HSDataTable, collection: '$hsDataTableCollection' },\r\n\t{ key: 'dropdown', fn: HSDropdown, collection: '$hsDropdownCollection' },\r\n\t{\r\n\t\tkey: 'file-upload',\r\n\t\tfn: HSFileUpload,\r\n\t\tcollection: '$hsFileUploadCollection',\r\n\t},\r\n\t{\r\n\t\tkey: 'input-number',\r\n\t\tfn: HSInputNumber,\r\n\t\tcollection: '$hsInputNumberCollection',\r\n\t},\r\n\t{\r\n\t\tkey: 'layout-splitter',\r\n\t\tfn: HSLayoutSplitter,\r\n\t\tcollection: '$hsLayoutSplitterCollection',\r\n\t},\r\n\t{ key: 'overlay', fn: HSOverlay, collection: '$hsOverlayCollection' },\r\n\t{ key: 'pin-input', fn: HSPinInput, collection: '$hsPinInputCollection' },\r\n\t{\r\n\t\tkey: 'range-slider',\r\n\t\tfn: HSRangeSlider,\r\n\t\tcollection: '$hsRangeSliderCollection',\r\n\t},\r\n\t{\r\n\t\tkey: 'remove-element',\r\n\t\tfn: HSRemoveElement,\r\n\t\tcollection: '$hsRemoveElementCollection',\r\n\t},\r\n\t{ key: 'scrollspy', fn: HSScrollspy, collection: '$hsScrollspyCollection' },\r\n\t{ key: 'select', fn: HSSelect, collection: '$hsSelectCollection' },\r\n\t{ key: 'stepper', fn: HSStepper, collection: '$hsStepperCollection' },\r\n\t{\r\n\t\tkey: 'strong-password',\r\n\t\tfn: HSStrongPassword,\r\n\t\tcollection: '$hsStrongPasswordCollection',\r\n\t},\r\n\t{ key: 'tabs', fn: HSTabs, collection: '$hsTabsCollection' },\r\n\t{\r\n\t\tkey: 'textarea-auto-height',\r\n\t\tfn: HSTextareaAutoHeight,\r\n\t\tcollection: '$hsTextareaAutoHeightCollection',\r\n\t},\r\n\t{\r\n\t\tkey: 'theme-switch',\r\n\t\tfn: HSThemeSwitch,\r\n\t\tcollection: '$hsThemeSwitchCollection',\r\n\t},\r\n\t{\r\n\t\tkey: 'toggle-count',\r\n\t\tfn: HSToggleCount,\r\n\t\tcollection: '$hsToggleCountCollection',\r\n\t},\r\n\t{\r\n\t\tkey: 'toggle-password',\r\n\t\tfn: HSTogglePassword,\r\n\t\tcollection: '$hsTogglePasswordCollection',\r\n\t},\r\n\t{ key: 'tooltip', fn: HSTooltip, collection: '$hsTooltipCollection' },\r\n\t{ key: 'tree-view', fn: HSTreeView, collection: '$hsTreeViewCollection' },\r\n];\r\n", "/*\r\n * @version: 2.7.0\r\n * @author: Preline Labs Ltd.\r\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\r\n * Copyright 2024 Preline Labs Ltd.\r\n */\r\n\r\ndeclare var _: any;\r\ndeclare var DataTable: any;\r\ndeclare var Dropzone: any;\r\ndeclare var noUiSlider: any;\r\n\r\nlet HSDataTableModule;\r\nlet HSFileUploadModule;\r\nlet HSRangeSliderModule;\r\n\r\nexport { default as HSCopyMarkup } from './plugins/copy-markup';\r\nexport { default as HSAccordion } from './plugins/accordion';\r\nexport { default as HSCarousel } from './plugins/carousel';\r\nexport { default as HSCollapse } from './plugins/collapse';\r\nexport { default as HSComboBox } from './plugins/combobox';\r\nexport { default as HSDropdown } from './plugins/dropdown';\r\nexport { default as HSInputNumber } from './plugins/input-number';\r\nexport { default as HSLayoutSplitter } from './plugins/layout-splitter';\r\nexport { default as HSOverlay } from './plugins/overlay';\r\nexport { default as HSPinInput } from './plugins/pin-input';\r\nexport { default as HSRemoveElement } from './plugins/remove-element';\r\nexport { default as HSScrollspy } from './plugins/scrollspy';\r\nexport { default as HSSelect } from './plugins/select';\r\nexport { default as HSStepper } from './plugins/stepper';\r\nexport { default as HSStrongPassword } from './plugins/strong-password';\r\nexport { default as HSTabs } from './plugins/tabs';\r\nexport { default as HSTextareaAutoHeight } from './plugins/textarea-auto-height';\r\nexport { default as HSThemeSwitch } from './plugins/theme-switch';\r\nexport { default as HSToggleCount } from './plugins/toggle-count';\r\nexport { default as HSTogglePassword } from './plugins/toggle-password';\r\nexport { default as HSTooltip } from './plugins/tooltip';\r\nexport { default as HSTreeView } from './plugins/tree-view';\r\nexport { default as HSStaticMethods } from './static';\r\n\r\nif (typeof DataTable !== 'undefined' && typeof jQuery !== 'undefined')\r\n\tHSDataTableModule = require('./plugins/datatable').default;\r\nelse HSDataTableModule = null;\r\nexport { HSDataTableModule as HSDataTable };\r\n\r\nif (typeof _ !== 'undefined' && typeof Dropzone !== 'undefined')\r\n\tHSFileUploadModule = require('./plugins/file-upload').default;\r\nelse HSFileUploadModule = null;\r\nexport { HSFileUploadModule as HSFileUpload };\r\n\r\nif (typeof noUiSlider !== 'undefined')\r\n\tHSRangeSliderModule = require('./plugins/range-slider').default;\r\nelse HSRangeSliderModule = null;\r\nexport { HSRangeSliderModule as HSRangeSlider };\r\n"],
  "mappings": "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",
  "names": ["items", "el", "res", "options", "_a", "el", "el", "el"]
}
